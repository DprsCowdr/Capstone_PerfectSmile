CRITICAL - 2025-08-09 01:36:26 --> CodeIgniter\Cache\Exceptions\CacheException: Cache unable to write to "C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\writable\cache/".
[Method: GET, Route: /]
in SYSTEMPATH\Cache\Handlers\FileHandler.php on line 61.
 1 SYSTEMPATH\Cache\Handlers\FileHandler.php(61): CodeIgniter\Cache\Exceptions\CacheException::forUnableToWrite('C:\\Users\\John bert\\OneDrive\\Documents\\GitHub\\Capstone_PerfectSmile\\writable\\cache/')
 2 SYSTEMPATH\Cache\CacheFactory.php(67): CodeIgniter\Cache\Handlers\FileHandler->__construct(Object(Config\Cache))
 3 SYSTEMPATH\Config\Services.php(129): CodeIgniter\Cache\CacheFactory::getHandler(Object(Config\Cache))
 4 SYSTEMPATH\Config\BaseService.php(312): CodeIgniter\Config\Services::cache(Object(Config\Cache), false)
 5 SYSTEMPATH\Config\BaseService.php(251): CodeIgniter\Config\BaseService::__callStatic('cache', [...])
 6 SYSTEMPATH\Config\Services.php(124): CodeIgniter\Config\BaseService::getSharedInstance('cache', null)
 7 SYSTEMPATH\Config\BaseService.php(321): CodeIgniter\Config\Services::cache()
 8 SYSTEMPATH\Config\BaseService.php(202): CodeIgniter\Config\BaseService::__callStatic('cache', [])
 9 SYSTEMPATH\Config\Services.php(454): CodeIgniter\Config\BaseService::get('cache')
10 SYSTEMPATH\Config\BaseService.php(312): CodeIgniter\Config\Services::responsecache(Object(Config\Cache), null, false)
11 SYSTEMPATH\Config\BaseService.php(251): CodeIgniter\Config\BaseService::__callStatic('responsecache', [...])
12 SYSTEMPATH\Config\Services.php(450): CodeIgniter\Config\BaseService::getSharedInstance('responsecache', null, null)
13 SYSTEMPATH\Config\BaseService.php(321): CodeIgniter\Config\Services::responsecache()
14 SYSTEMPATH\CodeIgniter.php(178): CodeIgniter\Config\BaseService::__callStatic('responsecache', [])
15 SYSTEMPATH\Config\Services.php(164): CodeIgniter\CodeIgniter->__construct(Object(Config\App))
16 SYSTEMPATH\Config\BaseService.php(312): CodeIgniter\Config\Services::codeigniter(Object(Config\App), false)
17 SYSTEMPATH\Config\BaseService.php(251): CodeIgniter\Config\BaseService::__callStatic('codeigniter', [...])
18 SYSTEMPATH\Config\Services.php(159): CodeIgniter\Config\BaseService::getSharedInstance('codeigniter', null)
19 SYSTEMPATH\Config\BaseService.php(321): CodeIgniter\Config\Services::codeigniter()
20 SYSTEMPATH\Config\BaseService.php(202): CodeIgniter\Config\BaseService::__callStatic('codeigniter', [])
21 SYSTEMPATH\Common.php(1000): CodeIgniter\Config\BaseService::get('codeigniter')
22 SYSTEMPATH\Boot.php(320): service('codeigniter')
23 SYSTEMPATH\Boot.php(101): CodeIgniter\Boot::initializeCodeIgniter()
24 ROOTPATH\spark(87): CodeIgniter\Boot::bootSpark(Object(Config\Paths))
DEBUG - 2025-08-09 00:00:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:01:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:01:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:01:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:02:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:02:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:11:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:11:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:11:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:11:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:11:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:11:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:11:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:11:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:12:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:12:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:12:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:12:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:12:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:12:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:12:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:20:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:20:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:20:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:20:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:21:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:21:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:21:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:21:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:21:22 --> Creating scheduled appointment with data: {"branch_id":"1","user_id":"13","dentist_id":null,"appointment_date":"2025-08-28","appointment_time":"09:22","appointment_type":"scheduled","remarks":"w","approval_status":"pending","status":"pending_approval"}
INFO - 2025-08-09 00:21:22 --> Admin-created appointment pending without dentist
DEBUG - 2025-08-09 00:21:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:21:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:21:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:21:36 --> Admin approving appointment ID: 41, Dentist ID: null
INFO - 2025-08-09 00:21:36 --> Appointment before approval: {"id":"41","branch_id":"1","dentist_id":null,"user_id":"13","appointment_datetime":"2025-08-28 09:22:00","status":"pending_approval","appointment_type":"scheduled","approval_status":"pending","decline_reason":null,"remarks":"w","created_at":"2025-08-09 00:21:22","updated_at":"2025-08-09 00:21:22","checked_in_at":null,"checked_in_by":null,"self_checkin":"0","started_at":null,"called_by":null,"treatment_status":null,"treatment_notes":null,"payment_status":"pending","payment_method":null,"payment_amount":null,"payment_date":null,"payment_received_by":null,"payment_notes":null,"appointment_date":"2025-08-28","appointment_time":"09:22"}
INFO - 2025-08-09 00:21:36 --> Checking dentist availability for date: 2025-08-28, time: 09:22, branch: 1
INFO - 2025-08-09 00:21:36 --> Found 2 active dentists: ["Dr. John Smith","Dr. Sarah Johnson"]
INFO - 2025-08-09 00:21:36 --> Dentist Dr. John Smith (ID: 2) has 0 conflicting appointments at 2025-08-28 09:22:00
INFO - 2025-08-09 00:21:36 --> Dentist Dr. Sarah Johnson (ID: 9) has 0 conflicting appointments at 2025-08-28 09:22:00
INFO - 2025-08-09 00:21:36 --> Available dentists: ["Dr. John Smith","Dr. Sarah Johnson"]
INFO - 2025-08-09 00:21:36 --> Auto-assigning dentist Dr. John Smith (ID: 2) to appointment 41
INFO - 2025-08-09 00:21:36 --> Checking dentist availability for date: 2025-08-28, time: 09:22, branch: 1
INFO - 2025-08-09 00:21:36 --> Found 2 active dentists: ["Dr. John Smith","Dr. Sarah Johnson"]
INFO - 2025-08-09 00:21:36 --> Dentist Dr. John Smith (ID: 2) has 0 conflicting appointments at 2025-08-28 09:22:00
INFO - 2025-08-09 00:21:36 --> Dentist Dr. Sarah Johnson (ID: 9) has 0 conflicting appointments at 2025-08-28 09:22:00
INFO - 2025-08-09 00:21:36 --> Available dentists: ["Dr. John Smith","Dr. Sarah Johnson"]
INFO - 2025-08-09 00:21:36 --> AppointmentModel::approveAppointment - ID: 41, Dentist ID: 2
INFO - 2025-08-09 00:21:36 --> Setting dentist_id to 2 for appointment 41
INFO - 2025-08-09 00:21:36 --> Update data for appointment 41: {"approval_status":"approved","status":"confirmed","updated_at":"2025-08-09 00:21:36","dentist_id":"2"}
INFO - 2025-08-09 00:21:36 --> Appointment 41 approved successfully - Status: confirmed, Approval: approved
INFO - 2025-08-09 00:21:36 --> Admin approved appointment: Patient ID 13, DateTime: 2025-08-28 09:22:00, Date: 2025-08-28, Time: 09:22
INFO - 2025-08-09 00:21:36 --> Appointment approval result: {"success":true,"message":"Appointment approved successfully. Dentist Dr. John Smith was assigned."}
DEBUG - 2025-08-09 00:21:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:21:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:21:40 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 00:21:40 --> Found 0 appointments for today
DEBUG - 2025-08-09 00:22:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:22:10 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 00:22:10 --> Found 0 appointments for today
DEBUG - 2025-08-09 00:22:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:22:41 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 00:22:41 --> Found 0 appointments for today
DEBUG - 2025-08-09 00:23:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:23:12 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 00:23:12 --> Found 0 appointments for today
DEBUG - 2025-08-09 00:23:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:23:43 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 00:23:43 --> Found 0 appointments for today
DEBUG - 2025-08-09 00:24:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:24:14 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 00:24:14 --> Found 0 appointments for today
DEBUG - 2025-08-09 00:24:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:24:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:24:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:24:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:24:46 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 00:24:46 --> ALL appointments for today (2025-08-09): 0
INFO - 2025-08-09 00:24:46 --> Found 0 appointments for today
DEBUG - 2025-08-09 00:24:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:24:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:25:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:25:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:25:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:25:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:25:31 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 00:25:31 --> ALL appointments for today (2025-08-09): 1
INFO - 2025-08-09 00:25:31 --> ID: 42, Status: confirmed, Approval: auto_approved, Patient: jb-joker, DateTime: 2025-08-09 09:26:00
INFO - 2025-08-09 00:25:31 --> Found 0 appointments for today
DEBUG - 2025-08-09 00:25:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:25:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:26:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:26:01 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 00:26:01 --> ALL appointments for today (2025-08-09): 1
INFO - 2025-08-09 00:26:01 --> ID: 42, Status: confirmed, Approval: auto_approved, Patient: jb-joker, DateTime: 2025-08-09 09:26:00
INFO - 2025-08-09 00:26:01 --> Found 0 appointments for today
DEBUG - 2025-08-09 00:26:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:26:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:26:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:26:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:26:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:27:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:27:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:27:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:27:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:27:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:27:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:27:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:27:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:27:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:27:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:27:42 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 00:27:42 --> TESTING: Also checking appointments for date: 2025-08-28
INFO - 2025-08-09 00:27:42 --> ALL appointments for today (2025-08-09): 1
INFO - 2025-08-09 00:27:42 --> ID: 42, Status: confirmed, Approval: auto_approved, Patient: jb-joker, DateTime: 2025-08-09 09:26:00
INFO - 2025-08-09 00:27:42 --> TESTING: ALL appointments for 2025-08-28: 1
INFO - 2025-08-09 00:27:42 --> TESTING: ID: 41, Status: confirmed, Approval: approved, Patient: jb-joker, DateTime: 2025-08-28 09:22:00
INFO - 2025-08-09 00:27:42 --> TESTING: Filtered appointments for 2025-08-28: 1
INFO - 2025-08-09 00:27:42 --> TESTING FILTERED: ID: 41, Status: confirmed, Approval: approved, Patient: jb-joker
INFO - 2025-08-09 00:27:42 --> Found 1 appointments for today
INFO - 2025-08-09 00:27:42 --> Appointment ID: 42, Status: confirmed, DateTime: 2025-08-09 09:26:00, Patient: jb-joker
DEBUG - 2025-08-09 00:27:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:27:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:27:48 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 00:27:48 --> TESTING: Also checking appointments for date: 2025-08-28
INFO - 2025-08-09 00:27:48 --> ALL appointments for today (2025-08-09): 1
INFO - 2025-08-09 00:27:48 --> ID: 42, Status: confirmed, Approval: auto_approved, Patient: jb-joker, DateTime: 2025-08-09 09:26:00
INFO - 2025-08-09 00:27:48 --> TESTING: ALL appointments for 2025-08-28: 1
INFO - 2025-08-09 00:27:48 --> TESTING: ID: 41, Status: confirmed, Approval: approved, Patient: jb-joker, DateTime: 2025-08-28 09:22:00
INFO - 2025-08-09 00:27:48 --> TESTING: Filtered appointments for 2025-08-28: 1
INFO - 2025-08-09 00:27:48 --> TESTING FILTERED: ID: 41, Status: confirmed, Approval: approved, Patient: jb-joker
INFO - 2025-08-09 00:27:48 --> Found 1 appointments for today after filtering
INFO - 2025-08-09 00:27:48 --> FINAL RESULT - Appointment ID: 42, Status: confirmed, Approval: auto_approved, DateTime: 2025-08-09 09:26:00, Patient: jb-joker
DEBUG - 2025-08-09 00:27:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:27:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:27:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:28:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:28:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:28:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:28:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:28:35 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 00:28:35 --> TESTING: Also checking appointments for date: 2025-08-28
INFO - 2025-08-09 00:28:35 --> ALL appointments for today (2025-08-09): 1
INFO - 2025-08-09 00:28:35 --> ID: 42, Status: confirmed, Approval: auto_approved, Patient: jb-joker, DateTime: 2025-08-09 09:26:00
INFO - 2025-08-09 00:28:35 --> TESTING: ALL appointments for 2025-08-28: 1
INFO - 2025-08-09 00:28:35 --> TESTING: ID: 41, Status: confirmed, Approval: approved, Patient: jb-joker, DateTime: 2025-08-28 09:22:00
INFO - 2025-08-09 00:28:35 --> TESTING: Filtered appointments for 2025-08-28: 1
INFO - 2025-08-09 00:28:35 --> TESTING FILTERED: ID: 41, Status: confirmed, Approval: approved, Patient: jb-joker
INFO - 2025-08-09 00:28:35 --> Found 1 appointments for today after filtering
INFO - 2025-08-09 00:28:35 --> FINAL RESULT - Appointment ID: 42, Status: confirmed, Approval: auto_approved, DateTime: 2025-08-09 09:26:00, Patient: jb-joker
DEBUG - 2025-08-09 00:28:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:28:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:28:39 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 00:28:39 --> TESTING: Also checking appointments for date: 2025-08-28
INFO - 2025-08-09 00:28:39 --> ALL appointments for today (2025-08-09): 1
INFO - 2025-08-09 00:28:39 --> ID: 42, Status: confirmed, Approval: auto_approved, Patient: jb-joker, DateTime: 2025-08-09 09:26:00
INFO - 2025-08-09 00:28:39 --> TESTING: ALL appointments for 2025-08-28: 1
INFO - 2025-08-09 00:28:39 --> TESTING: ID: 41, Status: confirmed, Approval: approved, Patient: jb-joker, DateTime: 2025-08-28 09:22:00
INFO - 2025-08-09 00:28:39 --> TESTING: Filtered appointments for 2025-08-28: 1
INFO - 2025-08-09 00:28:39 --> TESTING FILTERED: ID: 41, Status: confirmed, Approval: approved, Patient: jb-joker
INFO - 2025-08-09 00:28:39 --> Found 1 appointments for today after filtering
INFO - 2025-08-09 00:28:39 --> FINAL RESULT - Appointment ID: 42, Status: confirmed, Approval: auto_approved, DateTime: 2025-08-09 09:26:00, Patient: jb-joker
DEBUG - 2025-08-09 00:28:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:28:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:29:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:29:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:29:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:30:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:30:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:30:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:30:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:30:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:30:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:31:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:31:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:31:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:31:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:32:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:32:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:32:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:32:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:33:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:33:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:33:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:33:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:33:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:33:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:33:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:34:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:34:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:34:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:34:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:35:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:35:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:35:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:35:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:36:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:36:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:36:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:36:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:37:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:37:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:37:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:38:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:38:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:38:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:38:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:38:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:38:49 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 00:38:49 --> TESTING: Also checking appointments for date: 2025-08-28
INFO - 2025-08-09 00:38:49 --> ALL appointments for today (2025-08-09): 1
INFO - 2025-08-09 00:38:49 --> ID: 42, Status: confirmed, Approval: auto_approved, Patient: jb-joker, DateTime: 2025-08-09 09:26:00
INFO - 2025-08-09 00:38:49 --> TESTING: ALL appointments for 2025-08-28: 1
INFO - 2025-08-09 00:38:49 --> TESTING: ID: 41, Status: confirmed, Approval: approved, Patient: jb-joker, DateTime: 2025-08-28 09:22:00
INFO - 2025-08-09 00:38:49 --> TESTING: Filtered appointments for 2025-08-28: 1
INFO - 2025-08-09 00:38:49 --> TESTING FILTERED: ID: 41, Status: confirmed, Approval: approved, Patient: jb-joker
INFO - 2025-08-09 00:38:49 --> Found 1 appointments for today after filtering
INFO - 2025-08-09 00:38:49 --> FINAL RESULT - Appointment ID: 42, Status: confirmed, Approval: auto_approved, DateTime: 2025-08-09 09:26:00, Patient: jb-joker
DEBUG - 2025-08-09 00:38:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:38:52 --> PatientCheckin::checkinPatient called with ID: 42
INFO - 2025-08-09 00:38:52 --> Session data: {"__ci_last_regenerate":1754699769,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 00:38:52 --> Is logged in: YES
INFO - 2025-08-09 00:38:52 --> Request method: POST
INFO - 2025-08-09 00:38:53 --> Auth::getCurrentUser result: {"id":"1","user_type":"admin","name":"Admin User","address":"123 Admin Street","email":"admin@perfectsmile.com","gender":"male","password":"$2y$12$Tau0ciyH4Ny3A\/P0I.qEbO5i63Ja4AtTPBd4OblwwAnoQLCYokErS","phone":"1234567890","created_at":"2025-06-28 16:02:14","updated_at":"2025-08-08 10:05:30","occupation":null,"nationality":null,"date_of_birth":null,"age":null,"status":"active"}
INFO - 2025-08-09 00:38:53 --> User authorized: Admin User (Type: admin)
INFO - 2025-08-09 00:38:53 --> Appointment found: {"id":"42","branch_id":"1","dentist_id":null,"user_id":"13","appointment_datetime":"2025-08-09 09:26:00","status":"confirmed","appointment_type":"walkin","approval_status":"auto_approved","decline_reason":null,"remarks":"w","created_at":"2025-08-09 00:25:24","updated_at":"2025-08-09 00:25:24","checked_in_at":null,"checked_in_by":null,"self_checkin":"0","started_at":null,"called_by":null,"treatment_status":null,"treatment_notes":null,"payment_status":"pending","payment_method":null,"payment_amount":null,"payment_date":null,"payment_received_by":null,"payment_notes":null,"appointment_date":"2025-08-09","appointment_time":"09:26"}
INFO - 2025-08-09 00:38:53 --> Updating appointment 42 with data: {"status":"checked_in","checked_in_at":"2025-08-09 00:38:53","checked_in_by":"1"}
INFO - 2025-08-09 00:38:53 --> Update result: FAILED
ERROR - 2025-08-09 00:38:53 --> Failed to check in patient. Appointment ID: 42
DEBUG - 2025-08-09 00:38:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:38:53 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 00:38:53 --> TESTING: Also checking appointments for date: 2025-08-28
INFO - 2025-08-09 00:38:53 --> ALL appointments for today (2025-08-09): 1
INFO - 2025-08-09 00:38:53 --> ID: 42, Status: confirmed, Approval: auto_approved, Patient: jb-joker, DateTime: 2025-08-09 09:26:00
INFO - 2025-08-09 00:38:53 --> TESTING: ALL appointments for 2025-08-28: 1
INFO - 2025-08-09 00:38:53 --> TESTING: ID: 41, Status: confirmed, Approval: approved, Patient: jb-joker, DateTime: 2025-08-28 09:22:00
INFO - 2025-08-09 00:38:53 --> TESTING: Filtered appointments for 2025-08-28: 1
INFO - 2025-08-09 00:38:53 --> TESTING FILTERED: ID: 41, Status: confirmed, Approval: approved, Patient: jb-joker
INFO - 2025-08-09 00:38:53 --> Found 1 appointments for today after filtering
INFO - 2025-08-09 00:38:53 --> FINAL RESULT - Appointment ID: 42, Status: confirmed, Approval: auto_approved, DateTime: 2025-08-09 09:26:00, Patient: jb-joker
DEBUG - 2025-08-09 00:39:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:39:00 --> PatientCheckin::checkinPatient called with ID: 42
INFO - 2025-08-09 00:39:00 --> Session data: {"__ci_last_regenerate":1754699769,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 00:39:00 --> Is logged in: YES
INFO - 2025-08-09 00:39:00 --> Request method: POST
INFO - 2025-08-09 00:39:00 --> Auth::getCurrentUser result: {"id":"1","user_type":"admin","name":"Admin User","address":"123 Admin Street","email":"admin@perfectsmile.com","gender":"male","password":"$2y$12$Tau0ciyH4Ny3A\/P0I.qEbO5i63Ja4AtTPBd4OblwwAnoQLCYokErS","phone":"1234567890","created_at":"2025-06-28 16:02:14","updated_at":"2025-08-08 10:05:30","occupation":null,"nationality":null,"date_of_birth":null,"age":null,"status":"active"}
INFO - 2025-08-09 00:39:00 --> User authorized: Admin User (Type: admin)
INFO - 2025-08-09 00:39:00 --> Appointment found: {"id":"42","branch_id":"1","dentist_id":null,"user_id":"13","appointment_datetime":"2025-08-09 09:26:00","status":"confirmed","appointment_type":"walkin","approval_status":"auto_approved","decline_reason":null,"remarks":"w","created_at":"2025-08-09 00:25:24","updated_at":"2025-08-09 00:25:24","checked_in_at":null,"checked_in_by":null,"self_checkin":"0","started_at":null,"called_by":null,"treatment_status":null,"treatment_notes":null,"payment_status":"pending","payment_method":null,"payment_amount":null,"payment_date":null,"payment_received_by":null,"payment_notes":null,"appointment_date":"2025-08-09","appointment_time":"09:26"}
INFO - 2025-08-09 00:39:00 --> Updating appointment 42 with data: {"status":"checked_in","checked_in_at":"2025-08-09 00:39:00","checked_in_by":"1"}
INFO - 2025-08-09 00:39:00 --> Update result: FAILED
ERROR - 2025-08-09 00:39:00 --> Failed to check in patient. Appointment ID: 42
DEBUG - 2025-08-09 00:39:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:39:00 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 00:39:00 --> TESTING: Also checking appointments for date: 2025-08-28
INFO - 2025-08-09 00:39:00 --> ALL appointments for today (2025-08-09): 1
INFO - 2025-08-09 00:39:00 --> ID: 42, Status: confirmed, Approval: auto_approved, Patient: jb-joker, DateTime: 2025-08-09 09:26:00
INFO - 2025-08-09 00:39:00 --> TESTING: ALL appointments for 2025-08-28: 1
INFO - 2025-08-09 00:39:00 --> TESTING: ID: 41, Status: confirmed, Approval: approved, Patient: jb-joker, DateTime: 2025-08-28 09:22:00
INFO - 2025-08-09 00:39:00 --> TESTING: Filtered appointments for 2025-08-28: 1
INFO - 2025-08-09 00:39:00 --> TESTING FILTERED: ID: 41, Status: confirmed, Approval: approved, Patient: jb-joker
INFO - 2025-08-09 00:39:00 --> Found 1 appointments for today after filtering
INFO - 2025-08-09 00:39:00 --> FINAL RESULT - Appointment ID: 42, Status: confirmed, Approval: auto_approved, DateTime: 2025-08-09 09:26:00, Patient: jb-joker
DEBUG - 2025-08-09 00:39:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:39:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:39:26 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 00:39:26 --> TESTING: Also checking appointments for date: 2025-08-28
INFO - 2025-08-09 00:39:26 --> ALL appointments for today (2025-08-09): 1
INFO - 2025-08-09 00:39:26 --> ID: 42, Status: confirmed, Approval: auto_approved, Patient: jb-joker, DateTime: 2025-08-09 09:26:00
INFO - 2025-08-09 00:39:26 --> TESTING: ALL appointments for 2025-08-28: 1
INFO - 2025-08-09 00:39:26 --> TESTING: ID: 41, Status: confirmed, Approval: approved, Patient: jb-joker, DateTime: 2025-08-28 09:22:00
INFO - 2025-08-09 00:39:26 --> TESTING: Filtered appointments for 2025-08-28: 1
INFO - 2025-08-09 00:39:26 --> TESTING FILTERED: ID: 41, Status: confirmed, Approval: approved, Patient: jb-joker
INFO - 2025-08-09 00:39:26 --> Found 1 appointments for today after filtering
INFO - 2025-08-09 00:39:26 --> FINAL RESULT - Appointment ID: 42, Status: confirmed, Approval: auto_approved, DateTime: 2025-08-09 09:26:00, Patient: jb-joker
DEBUG - 2025-08-09 00:39:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:39:27 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 00:39:27 --> TESTING: Also checking appointments for date: 2025-08-28
INFO - 2025-08-09 00:39:27 --> ALL appointments for today (2025-08-09): 1
INFO - 2025-08-09 00:39:27 --> ID: 42, Status: confirmed, Approval: auto_approved, Patient: jb-joker, DateTime: 2025-08-09 09:26:00
INFO - 2025-08-09 00:39:27 --> TESTING: ALL appointments for 2025-08-28: 1
INFO - 2025-08-09 00:39:27 --> TESTING: ID: 41, Status: confirmed, Approval: approved, Patient: jb-joker, DateTime: 2025-08-28 09:22:00
INFO - 2025-08-09 00:39:27 --> TESTING: Filtered appointments for 2025-08-28: 1
INFO - 2025-08-09 00:39:27 --> TESTING FILTERED: ID: 41, Status: confirmed, Approval: approved, Patient: jb-joker
INFO - 2025-08-09 00:39:27 --> Found 1 appointments for today after filtering
INFO - 2025-08-09 00:39:27 --> FINAL RESULT - Appointment ID: 42, Status: confirmed, Approval: auto_approved, DateTime: 2025-08-09 09:26:00, Patient: jb-joker
DEBUG - 2025-08-09 00:39:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:39:30 --> PatientCheckin::checkinPatient called with ID: 42
INFO - 2025-08-09 00:39:30 --> Session data: {"__ci_last_regenerate":1754699769,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 00:39:30 --> Is logged in: YES
INFO - 2025-08-09 00:39:30 --> Request method: POST
INFO - 2025-08-09 00:39:30 --> Auth::getCurrentUser result: {"id":"1","user_type":"admin","name":"Admin User","address":"123 Admin Street","email":"admin@perfectsmile.com","gender":"male","password":"$2y$12$Tau0ciyH4Ny3A\/P0I.qEbO5i63Ja4AtTPBd4OblwwAnoQLCYokErS","phone":"1234567890","created_at":"2025-06-28 16:02:14","updated_at":"2025-08-08 10:05:30","occupation":null,"nationality":null,"date_of_birth":null,"age":null,"status":"active"}
INFO - 2025-08-09 00:39:30 --> User authorized: Admin User (Type: admin)
INFO - 2025-08-09 00:39:30 --> Appointment found: {"id":"42","branch_id":"1","dentist_id":null,"user_id":"13","appointment_datetime":"2025-08-09 09:26:00","status":"confirmed","appointment_type":"walkin","approval_status":"auto_approved","decline_reason":null,"remarks":"w","created_at":"2025-08-09 00:25:24","updated_at":"2025-08-09 00:25:24","checked_in_at":null,"checked_in_by":null,"self_checkin":"0","started_at":null,"called_by":null,"treatment_status":null,"treatment_notes":null,"payment_status":"pending","payment_method":null,"payment_amount":null,"payment_date":null,"payment_received_by":null,"payment_notes":null,"appointment_date":"2025-08-09","appointment_time":"09:26"}
INFO - 2025-08-09 00:39:30 --> Updating appointment 42 with data: {"status":"checked_in","checked_in_at":"2025-08-09 00:39:30","checked_in_by":"1"}
INFO - 2025-08-09 00:39:30 --> Update result: FAILED
ERROR - 2025-08-09 00:39:30 --> Failed to check in patient. Appointment ID: 42
DEBUG - 2025-08-09 00:39:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:39:30 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 00:39:30 --> TESTING: Also checking appointments for date: 2025-08-28
INFO - 2025-08-09 00:39:30 --> ALL appointments for today (2025-08-09): 1
INFO - 2025-08-09 00:39:30 --> ID: 42, Status: confirmed, Approval: auto_approved, Patient: jb-joker, DateTime: 2025-08-09 09:26:00
INFO - 2025-08-09 00:39:30 --> TESTING: ALL appointments for 2025-08-28: 1
INFO - 2025-08-09 00:39:30 --> TESTING: ID: 41, Status: confirmed, Approval: approved, Patient: jb-joker, DateTime: 2025-08-28 09:22:00
INFO - 2025-08-09 00:39:30 --> TESTING: Filtered appointments for 2025-08-28: 1
INFO - 2025-08-09 00:39:30 --> TESTING FILTERED: ID: 41, Status: confirmed, Approval: approved, Patient: jb-joker
INFO - 2025-08-09 00:39:30 --> Found 1 appointments for today after filtering
INFO - 2025-08-09 00:39:30 --> FINAL RESULT - Appointment ID: 42, Status: confirmed, Approval: auto_approved, DateTime: 2025-08-09 09:26:00, Patient: jb-joker
DEBUG - 2025-08-09 00:39:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:39:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:40:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:40:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:40:44 --> AuthFilter: Checking auth for GET http://localhost:8080/queue
DEBUG - 2025-08-09 00:40:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:40:44 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 00:40:44 --> AuthFilter: Session data = {"__ci_last_regenerate":1754699769,"_ci_previous_url":"http:\/\/localhost:8080\/queue","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 00:40:44 --> AuthFilter: User is authenticated
INFO - 2025-08-09 00:40:44 --> AuthFilter: All checks passed
INFO - 2025-08-09 00:41:00 --> AuthFilter: Checking auth for GET http://localhost:8080/queue
DEBUG - 2025-08-09 00:41:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:41:00 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 00:41:00 --> AuthFilter: Session data = {"__ci_last_regenerate":1754699769,"_ci_previous_url":"http:\/\/localhost:8080\/queue","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 00:41:00 --> AuthFilter: User is authenticated
INFO - 2025-08-09 00:41:00 --> AuthFilter: All checks passed
INFO - 2025-08-09 00:41:16 --> AuthFilter: Checking auth for GET http://localhost:8080/queue
DEBUG - 2025-08-09 00:41:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:41:16 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 00:41:16 --> AuthFilter: Session data = {"__ci_last_regenerate":1754700076,"_ci_previous_url":"http:\/\/localhost:8080\/queue","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 00:41:16 --> AuthFilter: User is authenticated
INFO - 2025-08-09 00:41:16 --> AuthFilter: All checks passed
INFO - 2025-08-09 00:41:32 --> AuthFilter: Checking auth for GET http://localhost:8080/checkin?id=8b1a52de-3421-4213-834c-15586dcec114&vscodeBrowserReqId=1754700092567
DEBUG - 2025-08-09 00:41:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:41:32 --> AuthFilter: Session isLoggedIn = NO
INFO - 2025-08-09 00:41:32 --> AuthFilter: Session data = {"__ci_last_regenerate":1754700092}
WARNING - 2025-08-09 00:41:32 --> AuthFilter: User not logged in, redirecting to login
DEBUG - 2025-08-09 00:41:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:41:32 --> AuthFilter: Checking auth for GET http://localhost:8080/queue
DEBUG - 2025-08-09 00:41:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:41:32 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 00:41:32 --> AuthFilter: Session data = {"__ci_last_regenerate":1754700076,"_ci_previous_url":"http:\/\/localhost:8080\/queue","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 00:41:32 --> AuthFilter: User is authenticated
INFO - 2025-08-09 00:41:32 --> AuthFilter: All checks passed
INFO - 2025-08-09 00:41:48 --> AuthFilter: Checking auth for GET http://localhost:8080/queue
DEBUG - 2025-08-09 00:41:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:41:48 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 00:41:48 --> AuthFilter: Session data = {"__ci_last_regenerate":1754700076,"_ci_previous_url":"http:\/\/localhost:8080\/queue","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 00:41:48 --> AuthFilter: User is authenticated
INFO - 2025-08-09 00:41:48 --> AuthFilter: All checks passed
INFO - 2025-08-09 00:41:48 --> TreatmentQueue: Found 0 waiting patients (checked_in status)
INFO - 2025-08-09 00:42:03 --> AuthFilter: Checking auth for GET http://localhost:8080/queue
DEBUG - 2025-08-09 00:42:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:42:03 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 00:42:03 --> AuthFilter: Session data = {"__ci_last_regenerate":1754700076,"_ci_previous_url":"http:\/\/localhost:8080\/queue","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 00:42:03 --> AuthFilter: User is authenticated
INFO - 2025-08-09 00:42:03 --> AuthFilter: All checks passed
INFO - 2025-08-09 00:42:03 --> TreatmentQueue: Found 0 waiting patients (checked_in status)
INFO - 2025-08-09 00:42:19 --> AuthFilter: Checking auth for GET http://localhost:8080/queue
DEBUG - 2025-08-09 00:42:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:42:19 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 00:42:19 --> AuthFilter: Session data = {"__ci_last_regenerate":1754700076,"_ci_previous_url":"http:\/\/localhost:8080\/queue","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 00:42:19 --> AuthFilter: User is authenticated
INFO - 2025-08-09 00:42:19 --> AuthFilter: All checks passed
INFO - 2025-08-09 00:42:19 --> TreatmentQueue: Found 0 waiting patients (checked_in status)
INFO - 2025-08-09 00:42:35 --> AuthFilter: Checking auth for GET http://localhost:8080/queue
DEBUG - 2025-08-09 00:42:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:42:35 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 00:42:35 --> AuthFilter: Session data = {"__ci_last_regenerate":1754700076,"_ci_previous_url":"http:\/\/localhost:8080\/queue","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 00:42:35 --> AuthFilter: User is authenticated
INFO - 2025-08-09 00:42:35 --> AuthFilter: All checks passed
INFO - 2025-08-09 00:42:35 --> TreatmentQueue: Found 0 waiting patients (checked_in status)
INFO - 2025-08-09 00:42:51 --> AuthFilter: Checking auth for GET http://localhost:8080/queue
DEBUG - 2025-08-09 00:42:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:42:51 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 00:42:51 --> AuthFilter: Session data = {"__ci_last_regenerate":1754700076,"_ci_previous_url":"http:\/\/localhost:8080\/queue","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 00:42:51 --> AuthFilter: User is authenticated
INFO - 2025-08-09 00:42:51 --> AuthFilter: All checks passed
INFO - 2025-08-09 00:42:51 --> TreatmentQueue: Found 0 waiting patients (checked_in status)
INFO - 2025-08-09 00:43:07 --> AuthFilter: Checking auth for GET http://localhost:8080/queue
DEBUG - 2025-08-09 00:43:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:43:07 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 00:43:07 --> AuthFilter: Session data = {"__ci_last_regenerate":1754700076,"_ci_previous_url":"http:\/\/localhost:8080\/queue","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 00:43:07 --> AuthFilter: User is authenticated
INFO - 2025-08-09 00:43:07 --> AuthFilter: All checks passed
INFO - 2025-08-09 00:43:07 --> TreatmentQueue: Found 0 waiting patients (checked_in status)
DEBUG - 2025-08-09 00:43:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:43:12 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/dashboard
DEBUG - 2025-08-09 00:43:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:43:12 --> AuthFilter: Session isLoggedIn = NO
INFO - 2025-08-09 00:43:12 --> AuthFilter: Session data = {"__ci_last_regenerate":1754700192}
WARNING - 2025-08-09 00:43:12 --> AuthFilter: User not logged in, redirecting to login
DEBUG - 2025-08-09 00:43:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:43:14 --> PatientCheckin::checkinPatient called with ID: 42
DEBUG - 2025-08-09 00:43:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:43:14 --> Session data: {"__ci_last_regenerate":1754700194}
INFO - 2025-08-09 00:43:14 --> Is logged in: NO
INFO - 2025-08-09 00:43:14 --> Request method: POST
INFO - 2025-08-09 00:43:14 --> Auth::getCurrentUser result: null
ERROR - 2025-08-09 00:43:14 --> Unauthorized access to checkinPatient. User: null
DEBUG - 2025-08-09 00:43:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:43:23 --> AuthFilter: Checking auth for GET http://localhost:8080/queue
DEBUG - 2025-08-09 00:43:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:43:23 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 00:43:23 --> AuthFilter: Session data = {"__ci_last_regenerate":1754700076,"_ci_previous_url":"http:\/\/localhost:8080\/queue","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 00:43:23 --> AuthFilter: User is authenticated
INFO - 2025-08-09 00:43:23 --> AuthFilter: All checks passed
INFO - 2025-08-09 00:43:23 --> TreatmentQueue: Found 0 waiting patients (checked_in status)
INFO - 2025-08-09 00:43:39 --> AuthFilter: Checking auth for GET http://localhost:8080/queue
DEBUG - 2025-08-09 00:43:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:43:39 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 00:43:39 --> AuthFilter: Session data = {"__ci_last_regenerate":1754700076,"_ci_previous_url":"http:\/\/localhost:8080\/queue","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 00:43:39 --> AuthFilter: User is authenticated
INFO - 2025-08-09 00:43:39 --> AuthFilter: All checks passed
INFO - 2025-08-09 00:43:39 --> TreatmentQueue: Found 0 waiting patients (checked_in status)
INFO - 2025-08-09 00:43:39 --> PatientCheckin::checkinPatient called with ID: 42
DEBUG - 2025-08-09 00:43:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:43:39 --> Session data: {"__ci_last_regenerate":1754700219}
INFO - 2025-08-09 00:43:39 --> Is logged in: NO
INFO - 2025-08-09 00:43:39 --> Request method: GET
INFO - 2025-08-09 00:43:39 --> Auth::getCurrentUser result: null
ERROR - 2025-08-09 00:43:39 --> Unauthorized access to checkinPatient. User: null
DEBUG - 2025-08-09 00:43:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:43:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:43:46 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/dashboard
DEBUG - 2025-08-09 00:43:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:43:46 --> AuthFilter: Session isLoggedIn = NO
INFO - 2025-08-09 00:43:46 --> AuthFilter: Session data = {"__ci_last_regenerate":1754700226}
WARNING - 2025-08-09 00:43:46 --> AuthFilter: User not logged in, redirecting to login
DEBUG - 2025-08-09 00:43:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:43:55 --> AuthFilter: Checking auth for GET http://localhost:8080/queue
DEBUG - 2025-08-09 00:43:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:43:55 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 00:43:55 --> AuthFilter: Session data = {"__ci_last_regenerate":1754700076,"_ci_previous_url":"http:\/\/localhost:8080\/queue","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 00:43:55 --> AuthFilter: User is authenticated
INFO - 2025-08-09 00:43:55 --> AuthFilter: All checks passed
INFO - 2025-08-09 00:43:55 --> TreatmentQueue: Found 0 waiting patients (checked_in status)
INFO - 2025-08-09 00:44:11 --> AuthFilter: Checking auth for GET http://localhost:8080/queue
DEBUG - 2025-08-09 00:44:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:44:11 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 00:44:11 --> AuthFilter: Session data = {"__ci_last_regenerate":1754700076,"_ci_previous_url":"http:\/\/localhost:8080\/queue","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 00:44:11 --> AuthFilter: User is authenticated
INFO - 2025-08-09 00:44:11 --> AuthFilter: All checks passed
INFO - 2025-08-09 00:44:11 --> TreatmentQueue: Found 0 waiting patients (checked_in status)
INFO - 2025-08-09 00:44:27 --> AuthFilter: Checking auth for GET http://localhost:8080/queue
DEBUG - 2025-08-09 00:44:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:44:27 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 00:44:27 --> AuthFilter: Session data = {"__ci_last_regenerate":1754700076,"_ci_previous_url":"http:\/\/localhost:8080\/queue","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 00:44:27 --> AuthFilter: User is authenticated
INFO - 2025-08-09 00:44:27 --> AuthFilter: All checks passed
INFO - 2025-08-09 00:44:27 --> TreatmentQueue: Found 0 waiting patients (checked_in status)
INFO - 2025-08-09 00:44:43 --> AuthFilter: Checking auth for GET http://localhost:8080/queue
DEBUG - 2025-08-09 00:44:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:44:43 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 00:44:43 --> AuthFilter: Session data = {"__ci_last_regenerate":1754700076,"_ci_previous_url":"http:\/\/localhost:8080\/queue","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 00:44:43 --> AuthFilter: User is authenticated
INFO - 2025-08-09 00:44:43 --> AuthFilter: All checks passed
INFO - 2025-08-09 00:44:43 --> TreatmentQueue: Found 0 waiting patients (checked_in status)
INFO - 2025-08-09 00:44:59 --> AuthFilter: Checking auth for GET http://localhost:8080/queue
DEBUG - 2025-08-09 00:44:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:44:59 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 00:44:59 --> AuthFilter: Session data = {"__ci_last_regenerate":1754700076,"_ci_previous_url":"http:\/\/localhost:8080\/queue","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 00:44:59 --> AuthFilter: User is authenticated
INFO - 2025-08-09 00:44:59 --> AuthFilter: All checks passed
INFO - 2025-08-09 00:44:59 --> TreatmentQueue: Found 0 waiting patients (checked_in status)
INFO - 2025-08-09 00:45:15 --> AuthFilter: Checking auth for GET http://localhost:8080/queue
DEBUG - 2025-08-09 00:45:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:45:15 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 00:45:15 --> AuthFilter: Session data = {"__ci_last_regenerate":1754700076,"_ci_previous_url":"http:\/\/localhost:8080\/queue","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 00:45:15 --> AuthFilter: User is authenticated
INFO - 2025-08-09 00:45:15 --> AuthFilter: All checks passed
INFO - 2025-08-09 00:45:15 --> TreatmentQueue: Found 0 waiting patients (checked_in status)
INFO - 2025-08-09 00:45:31 --> AuthFilter: Checking auth for GET http://localhost:8080/queue
DEBUG - 2025-08-09 00:45:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:45:31 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 00:45:31 --> AuthFilter: Session data = {"__ci_last_regenerate":1754700076,"_ci_previous_url":"http:\/\/localhost:8080\/queue","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 00:45:31 --> AuthFilter: User is authenticated
INFO - 2025-08-09 00:45:31 --> AuthFilter: All checks passed
INFO - 2025-08-09 00:45:31 --> TreatmentQueue: Found 0 waiting patients (checked_in status)
INFO - 2025-08-09 00:45:42 --> AuthFilter: Checking auth for GET http://localhost:8080/checkin?id=0b3fa596-4929-48cf-a08f-a7ef5696048c&vscodeBrowserReqId=1754700342603
DEBUG - 2025-08-09 00:45:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:45:42 --> AuthFilter: Session isLoggedIn = NO
INFO - 2025-08-09 00:45:42 --> AuthFilter: Session data = {"__ci_last_regenerate":1754700342}
WARNING - 2025-08-09 00:45:42 --> AuthFilter: User not logged in, redirecting to login
DEBUG - 2025-08-09 00:45:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:45:47 --> AuthFilter: Checking auth for GET http://localhost:8080/queue
DEBUG - 2025-08-09 00:45:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:45:47 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 00:45:47 --> AuthFilter: Session data = {"__ci_last_regenerate":1754700076,"_ci_previous_url":"http:\/\/localhost:8080\/queue","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 00:45:47 --> AuthFilter: User is authenticated
INFO - 2025-08-09 00:45:47 --> AuthFilter: All checks passed
INFO - 2025-08-09 00:45:47 --> TreatmentQueue: Found 0 waiting patients (checked_in status)
DEBUG - 2025-08-09 00:45:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:45:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:45:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:45:59 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/dashboard
DEBUG - 2025-08-09 00:45:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:45:59 --> AuthFilter: Session isLoggedIn = NO
INFO - 2025-08-09 00:45:59 --> AuthFilter: Session data = {"__ci_last_regenerate":1754700359}
WARNING - 2025-08-09 00:45:59 --> AuthFilter: User not logged in, redirecting to login
DEBUG - 2025-08-09 00:45:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:46:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:46:08 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/dashboard
DEBUG - 2025-08-09 00:46:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:46:08 --> AuthFilter: Session isLoggedIn = NO
INFO - 2025-08-09 00:46:08 --> AuthFilter: Session data = {"__ci_last_regenerate":1754700368}
WARNING - 2025-08-09 00:46:08 --> AuthFilter: User not logged in, redirecting to login
DEBUG - 2025-08-09 00:46:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:46:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:46:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:46:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:46:21 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/dashboard
DEBUG - 2025-08-09 00:46:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:46:21 --> AuthFilter: Session isLoggedIn = NO
INFO - 2025-08-09 00:46:21 --> AuthFilter: Session data = {"__ci_last_regenerate":1754700381}
WARNING - 2025-08-09 00:46:21 --> AuthFilter: User not logged in, redirecting to login
DEBUG - 2025-08-09 00:46:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 00:46:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:46:30 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/dashboard
DEBUG - 2025-08-09 00:46:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:46:30 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 00:46:30 --> AuthFilter: Session data = {"__ci_last_regenerate":1754700355,"_ci_previous_url":"http:\/\/localhost:8080\/login","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 00:46:30 --> AuthFilter: User is authenticated
INFO - 2025-08-09 00:46:30 --> AuthFilter: All checks passed
INFO - 2025-08-09 00:46:37 --> AuthFilter: Checking auth for GET http://localhost:8080/checkin
DEBUG - 2025-08-09 00:46:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:46:37 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 00:46:37 --> AuthFilter: Session data = {"__ci_last_regenerate":1754700355,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/dashboard","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 00:46:37 --> AuthFilter: User is authenticated
INFO - 2025-08-09 00:46:37 --> AuthFilter: All checks passed
INFO - 2025-08-09 00:46:37 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 00:46:37 --> TESTING: Also checking appointments for date: 2025-08-28
INFO - 2025-08-09 00:46:37 --> ALL appointments for today (2025-08-09): 1
INFO - 2025-08-09 00:46:37 --> ID: 42, Status: confirmed, Approval: auto_approved, Patient: jb-joker, DateTime: 2025-08-09 09:26:00
INFO - 2025-08-09 00:46:37 --> TESTING: ALL appointments for 2025-08-28: 1
INFO - 2025-08-09 00:46:37 --> TESTING: ID: 41, Status: confirmed, Approval: approved, Patient: jb-joker, DateTime: 2025-08-28 09:22:00
INFO - 2025-08-09 00:46:37 --> TESTING: Filtered appointments for 2025-08-28: 1
INFO - 2025-08-09 00:46:37 --> TESTING FILTERED: ID: 41, Status: confirmed, Approval: approved, Patient: jb-joker
INFO - 2025-08-09 00:46:37 --> Found 1 appointments for today after filtering
INFO - 2025-08-09 00:46:37 --> FINAL RESULT - Appointment ID: 42, Status: confirmed, Approval: auto_approved, DateTime: 2025-08-09 09:26:00, Patient: jb-joker
INFO - 2025-08-09 00:46:41 --> PatientCheckin::checkinPatient called with ID: 42
DEBUG - 2025-08-09 00:46:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:46:41 --> Session data: {"__ci_last_regenerate":1754700355,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 00:46:41 --> Is logged in: YES
INFO - 2025-08-09 00:46:41 --> Request method: POST
INFO - 2025-08-09 00:46:41 --> Auth::getCurrentUser result: {"id":"1","user_type":"admin","name":"Admin User","address":"123 Admin Street","email":"admin@perfectsmile.com","gender":"male","password":"$2y$12$Tau0ciyH4Ny3A\/P0I.qEbO5i63Ja4AtTPBd4OblwwAnoQLCYokErS","phone":"1234567890","created_at":"2025-06-28 16:02:14","updated_at":"2025-08-08 10:05:30","occupation":null,"nationality":null,"date_of_birth":null,"age":null,"status":"active"}
INFO - 2025-08-09 00:46:41 --> User authorized: Admin User (Type: admin)
INFO - 2025-08-09 00:46:41 --> Appointment found: {"id":"42","branch_id":"1","dentist_id":null,"user_id":"13","appointment_datetime":"2025-08-09 09:26:00","status":"confirmed","appointment_type":"walkin","approval_status":"auto_approved","decline_reason":null,"remarks":"w","created_at":"2025-08-09 00:25:24","updated_at":"2025-08-09 00:25:24","checked_in_at":null,"checked_in_by":null,"self_checkin":"0","started_at":null,"called_by":null,"treatment_status":null,"treatment_notes":null,"payment_status":"pending","payment_method":null,"payment_amount":null,"payment_date":null,"payment_received_by":null,"payment_notes":null,"appointment_date":"2025-08-09","appointment_time":"09:26"}
INFO - 2025-08-09 00:46:41 --> Updating appointment 42 with data: {"status":"checked_in","checked_in_at":"2025-08-09 00:46:41","checked_in_by":"1"}
INFO - 2025-08-09 00:46:41 --> Update result: FAILED
ERROR - 2025-08-09 00:46:41 --> Failed to check in patient. Appointment ID: 42
INFO - 2025-08-09 00:47:07 --> AuthFilter: Checking auth for GET http://localhost:8080/checkin
DEBUG - 2025-08-09 00:47:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:47:07 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 00:47:07 --> AuthFilter: Session data = {"__ci_last_regenerate":1754700355,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 00:47:07 --> AuthFilter: User is authenticated
INFO - 2025-08-09 00:47:07 --> AuthFilter: All checks passed
INFO - 2025-08-09 00:47:07 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 00:47:07 --> TESTING: Also checking appointments for date: 2025-08-28
INFO - 2025-08-09 00:47:07 --> ALL appointments for today (2025-08-09): 1
INFO - 2025-08-09 00:47:07 --> ID: 42, Status: confirmed, Approval: auto_approved, Patient: jb-joker, DateTime: 2025-08-09 09:26:00
INFO - 2025-08-09 00:47:07 --> TESTING: ALL appointments for 2025-08-28: 1
INFO - 2025-08-09 00:47:07 --> TESTING: ID: 41, Status: confirmed, Approval: approved, Patient: jb-joker, DateTime: 2025-08-28 09:22:00
INFO - 2025-08-09 00:47:07 --> TESTING: Filtered appointments for 2025-08-28: 1
INFO - 2025-08-09 00:47:07 --> TESTING FILTERED: ID: 41, Status: confirmed, Approval: approved, Patient: jb-joker
INFO - 2025-08-09 00:47:07 --> Found 1 appointments for today after filtering
INFO - 2025-08-09 00:47:07 --> FINAL RESULT - Appointment ID: 42, Status: confirmed, Approval: auto_approved, DateTime: 2025-08-09 09:26:00, Patient: jb-joker
INFO - 2025-08-09 00:47:38 --> AuthFilter: Checking auth for GET http://localhost:8080/checkin
DEBUG - 2025-08-09 00:47:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:47:38 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 00:47:38 --> AuthFilter: Session data = {"__ci_last_regenerate":1754700355,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 00:47:38 --> AuthFilter: User is authenticated
INFO - 2025-08-09 00:47:38 --> AuthFilter: All checks passed
INFO - 2025-08-09 00:47:38 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 00:47:38 --> TESTING: Also checking appointments for date: 2025-08-28
INFO - 2025-08-09 00:47:38 --> ALL appointments for today (2025-08-09): 1
INFO - 2025-08-09 00:47:38 --> ID: 42, Status: confirmed, Approval: auto_approved, Patient: jb-joker, DateTime: 2025-08-09 09:26:00
INFO - 2025-08-09 00:47:38 --> TESTING: ALL appointments for 2025-08-28: 1
INFO - 2025-08-09 00:47:38 --> TESTING: ID: 41, Status: confirmed, Approval: approved, Patient: jb-joker, DateTime: 2025-08-28 09:22:00
INFO - 2025-08-09 00:47:38 --> TESTING: Filtered appointments for 2025-08-28: 1
INFO - 2025-08-09 00:47:38 --> TESTING FILTERED: ID: 41, Status: confirmed, Approval: approved, Patient: jb-joker
INFO - 2025-08-09 00:47:38 --> Found 1 appointments for today after filtering
INFO - 2025-08-09 00:47:38 --> FINAL RESULT - Appointment ID: 42, Status: confirmed, Approval: auto_approved, DateTime: 2025-08-09 09:26:00, Patient: jb-joker
INFO - 2025-08-09 00:48:09 --> AuthFilter: Checking auth for GET http://localhost:8080/checkin
DEBUG - 2025-08-09 00:48:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:48:09 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 00:48:09 --> AuthFilter: Session data = {"__ci_last_regenerate":1754700355,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 00:48:09 --> AuthFilter: User is authenticated
INFO - 2025-08-09 00:48:09 --> AuthFilter: All checks passed
INFO - 2025-08-09 00:48:09 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 00:48:09 --> TESTING: Also checking appointments for date: 2025-08-28
INFO - 2025-08-09 00:48:09 --> ALL appointments for today (2025-08-09): 1
INFO - 2025-08-09 00:48:09 --> ID: 42, Status: confirmed, Approval: auto_approved, Patient: jb-joker, DateTime: 2025-08-09 09:26:00
INFO - 2025-08-09 00:48:09 --> TESTING: ALL appointments for 2025-08-28: 1
INFO - 2025-08-09 00:48:09 --> TESTING: ID: 41, Status: confirmed, Approval: approved, Patient: jb-joker, DateTime: 2025-08-28 09:22:00
INFO - 2025-08-09 00:48:09 --> TESTING: Filtered appointments for 2025-08-28: 1
INFO - 2025-08-09 00:48:09 --> TESTING FILTERED: ID: 41, Status: confirmed, Approval: approved, Patient: jb-joker
INFO - 2025-08-09 00:48:09 --> Found 1 appointments for today after filtering
INFO - 2025-08-09 00:48:09 --> FINAL RESULT - Appointment ID: 42, Status: confirmed, Approval: auto_approved, DateTime: 2025-08-09 09:26:00, Patient: jb-joker
INFO - 2025-08-09 00:48:40 --> AuthFilter: Checking auth for GET http://localhost:8080/checkin
DEBUG - 2025-08-09 00:48:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:48:40 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 00:48:40 --> AuthFilter: Session data = {"__ci_last_regenerate":1754700355,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 00:48:40 --> AuthFilter: User is authenticated
INFO - 2025-08-09 00:48:40 --> AuthFilter: All checks passed
INFO - 2025-08-09 00:48:40 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 00:48:40 --> TESTING: Also checking appointments for date: 2025-08-28
INFO - 2025-08-09 00:48:40 --> ALL appointments for today (2025-08-09): 1
INFO - 2025-08-09 00:48:40 --> ID: 42, Status: confirmed, Approval: auto_approved, Patient: jb-joker, DateTime: 2025-08-09 09:26:00
INFO - 2025-08-09 00:48:40 --> TESTING: ALL appointments for 2025-08-28: 1
INFO - 2025-08-09 00:48:40 --> TESTING: ID: 41, Status: confirmed, Approval: approved, Patient: jb-joker, DateTime: 2025-08-28 09:22:00
INFO - 2025-08-09 00:48:40 --> TESTING: Filtered appointments for 2025-08-28: 1
INFO - 2025-08-09 00:48:40 --> TESTING FILTERED: ID: 41, Status: confirmed, Approval: approved, Patient: jb-joker
INFO - 2025-08-09 00:48:40 --> Found 1 appointments for today after filtering
INFO - 2025-08-09 00:48:40 --> FINAL RESULT - Appointment ID: 42, Status: confirmed, Approval: auto_approved, DateTime: 2025-08-09 09:26:00, Patient: jb-joker
INFO - 2025-08-09 00:49:11 --> AuthFilter: Checking auth for GET http://localhost:8080/checkin
DEBUG - 2025-08-09 00:49:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:49:11 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 00:49:11 --> AuthFilter: Session data = {"__ci_last_regenerate":1754700355,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 00:49:11 --> AuthFilter: User is authenticated
INFO - 2025-08-09 00:49:11 --> AuthFilter: All checks passed
INFO - 2025-08-09 00:49:11 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 00:49:11 --> TESTING: Also checking appointments for date: 2025-08-28
INFO - 2025-08-09 00:49:11 --> ALL appointments for today (2025-08-09): 1
INFO - 2025-08-09 00:49:11 --> ID: 42, Status: confirmed, Approval: auto_approved, Patient: jb-joker, DateTime: 2025-08-09 09:26:00
INFO - 2025-08-09 00:49:11 --> TESTING: ALL appointments for 2025-08-28: 1
INFO - 2025-08-09 00:49:11 --> TESTING: ID: 41, Status: confirmed, Approval: approved, Patient: jb-joker, DateTime: 2025-08-28 09:22:00
INFO - 2025-08-09 00:49:11 --> TESTING: Filtered appointments for 2025-08-28: 1
INFO - 2025-08-09 00:49:11 --> TESTING FILTERED: ID: 41, Status: confirmed, Approval: approved, Patient: jb-joker
INFO - 2025-08-09 00:49:11 --> Found 1 appointments for today after filtering
INFO - 2025-08-09 00:49:11 --> FINAL RESULT - Appointment ID: 42, Status: confirmed, Approval: auto_approved, DateTime: 2025-08-09 09:26:00, Patient: jb-joker
INFO - 2025-08-09 00:49:15 --> AuthFilter: Checking auth for GET http://localhost:8080/checkin
DEBUG - 2025-08-09 00:49:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:49:15 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 00:49:15 --> AuthFilter: Session data = {"__ci_last_regenerate":1754700355,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 00:49:15 --> AuthFilter: User is authenticated
INFO - 2025-08-09 00:49:15 --> AuthFilter: All checks passed
INFO - 2025-08-09 00:49:15 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 00:49:15 --> TESTING: Also checking appointments for date: 2025-08-28
INFO - 2025-08-09 00:49:15 --> ALL appointments for today (2025-08-09): 1
INFO - 2025-08-09 00:49:15 --> ID: 42, Status: confirmed, Approval: auto_approved, Patient: jb-joker, DateTime: 2025-08-09 09:26:00
INFO - 2025-08-09 00:49:15 --> TESTING: ALL appointments for 2025-08-28: 1
INFO - 2025-08-09 00:49:15 --> TESTING: ID: 41, Status: confirmed, Approval: approved, Patient: jb-joker, DateTime: 2025-08-28 09:22:00
INFO - 2025-08-09 00:49:15 --> TESTING: Filtered appointments for 2025-08-28: 1
INFO - 2025-08-09 00:49:15 --> TESTING FILTERED: ID: 41, Status: confirmed, Approval: approved, Patient: jb-joker
INFO - 2025-08-09 00:49:15 --> Found 1 appointments for today after filtering
INFO - 2025-08-09 00:49:15 --> FINAL RESULT - Appointment ID: 42, Status: confirmed, Approval: auto_approved, DateTime: 2025-08-09 09:26:00, Patient: jb-joker
INFO - 2025-08-09 00:49:23 --> PatientCheckin::checkinPatient called with ID: 42
DEBUG - 2025-08-09 00:49:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:49:23 --> Session data: {"__ci_last_regenerate":1754700355,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 00:49:23 --> Is logged in: YES
INFO - 2025-08-09 00:49:23 --> Request method: POST
INFO - 2025-08-09 00:49:23 --> Auth::getCurrentUser result: {"id":"1","user_type":"admin","name":"Admin User","address":"123 Admin Street","email":"admin@perfectsmile.com","gender":"male","password":"$2y$12$Tau0ciyH4Ny3A\/P0I.qEbO5i63Ja4AtTPBd4OblwwAnoQLCYokErS","phone":"1234567890","created_at":"2025-06-28 16:02:14","updated_at":"2025-08-08 10:05:30","occupation":null,"nationality":null,"date_of_birth":null,"age":null,"status":"active"}
INFO - 2025-08-09 00:49:23 --> User authorized: Admin User (Type: admin)
INFO - 2025-08-09 00:49:23 --> Appointment found: {"id":"42","branch_id":"1","dentist_id":null,"user_id":"13","appointment_datetime":"2025-08-09 09:26:00","status":"confirmed","appointment_type":"walkin","approval_status":"auto_approved","decline_reason":null,"remarks":"w","created_at":"2025-08-09 00:25:24","updated_at":"2025-08-09 00:25:24","checked_in_at":null,"checked_in_by":null,"self_checkin":"0","started_at":null,"called_by":null,"treatment_status":null,"treatment_notes":null,"payment_status":"pending","payment_method":null,"payment_amount":null,"payment_date":null,"payment_received_by":null,"payment_notes":null,"appointment_date":"2025-08-09","appointment_time":"09:26"}
INFO - 2025-08-09 00:49:23 --> Updating appointment 42 with data: {"status":"checked_in","checked_in_at":"2025-08-09 00:49:23","checked_in_by":"1"}
INFO - 2025-08-09 00:49:23 --> Update result: SUCCESS
INFO - 2025-08-09 00:49:23 --> Patient checked in successfully. Appointment ID: 42
INFO - 2025-08-09 00:49:23 --> AuthFilter: Checking auth for GET http://localhost:8080/checkin
DEBUG - 2025-08-09 00:49:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:49:23 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 00:49:23 --> AuthFilter: Session data = {"__ci_last_regenerate":1754700355,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 00:49:23 --> AuthFilter: User is authenticated
INFO - 2025-08-09 00:49:23 --> AuthFilter: All checks passed
INFO - 2025-08-09 00:49:23 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 00:49:23 --> TESTING: Also checking appointments for date: 2025-08-28
INFO - 2025-08-09 00:49:23 --> ALL appointments for today (2025-08-09): 1
INFO - 2025-08-09 00:49:23 --> ID: 42, Status: checked_in, Approval: auto_approved, Patient: jb-joker, DateTime: 2025-08-09 09:26:00
INFO - 2025-08-09 00:49:23 --> TESTING: ALL appointments for 2025-08-28: 1
INFO - 2025-08-09 00:49:23 --> TESTING: ID: 41, Status: confirmed, Approval: approved, Patient: jb-joker, DateTime: 2025-08-28 09:22:00
INFO - 2025-08-09 00:49:23 --> TESTING: Filtered appointments for 2025-08-28: 1
INFO - 2025-08-09 00:49:23 --> TESTING FILTERED: ID: 41, Status: confirmed, Approval: approved, Patient: jb-joker
INFO - 2025-08-09 00:49:23 --> Found 1 appointments for today after filtering
INFO - 2025-08-09 00:49:23 --> FINAL RESULT - Appointment ID: 42, Status: checked_in, Approval: auto_approved, DateTime: 2025-08-09 09:26:00, Patient: jb-joker
INFO - 2025-08-09 00:49:33 --> AuthFilter: Checking auth for GET http://localhost:8080/queue
DEBUG - 2025-08-09 00:49:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:49:33 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 00:49:33 --> AuthFilter: Session data = {"__ci_last_regenerate":1754700355,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 00:49:33 --> AuthFilter: User is authenticated
INFO - 2025-08-09 00:49:33 --> AuthFilter: All checks passed
INFO - 2025-08-09 00:49:33 --> TreatmentQueue: Found 1 waiting patients (checked_in status)
INFO - 2025-08-09 00:49:33 --> TreatmentQueue: Waiting patient - ID: 42, Name: jb-joker, Status: checked_in, Checked in at: 2025-08-09 00:49:23
INFO - 2025-08-09 00:49:39 --> AuthFilter: Checking auth for POST http://localhost:8080/queue/call/42
DEBUG - 2025-08-09 00:49:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:49:39 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 00:49:39 --> AuthFilter: Session data = {"__ci_last_regenerate":1754700355,"_ci_previous_url":"http:\/\/localhost:8080\/queue","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 00:49:39 --> AuthFilter: User is authenticated
INFO - 2025-08-09 00:49:39 --> AuthFilter: All checks passed
INFO - 2025-08-09 00:49:39 --> AuthFilter: Checking auth for GET http://localhost:8080/checkup/patient/42
DEBUG - 2025-08-09 00:49:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:49:39 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 00:49:39 --> AuthFilter: Session data = {"__ci_last_regenerate":1754700355,"_ci_previous_url":"http:\/\/localhost:8080\/queue","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 00:49:39 --> AuthFilter: User is authenticated
INFO - 2025-08-09 00:49:39 --> AuthFilter: All checks passed
INFO - 2025-08-09 00:49:39 --> Patient 13 has 0 previous records
DEBUG - 2025-08-09 00:49:39 --> Previous records: []
DEBUG - 2025-08-09 00:49:39 --> Previous chart: []
INFO - 2025-08-09 00:49:45 --> AuthFilter: Checking auth for GET http://localhost:8080/queue
DEBUG - 2025-08-09 00:49:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:49:45 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 00:49:45 --> AuthFilter: Session data = {"__ci_last_regenerate":1754700355,"_ci_previous_url":"http:\/\/localhost:8080\/checkup\/patient\/42","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 00:49:45 --> AuthFilter: User is authenticated
INFO - 2025-08-09 00:49:45 --> AuthFilter: All checks passed
INFO - 2025-08-09 00:49:45 --> TreatmentQueue: Found 0 waiting patients (checked_in status)
INFO - 2025-08-09 00:49:51 --> AuthFilter: Checking auth for GET http://localhost:8080/checkup
DEBUG - 2025-08-09 00:49:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:49:51 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 00:49:51 --> AuthFilter: Session data = {"__ci_last_regenerate":1754700355,"_ci_previous_url":"http:\/\/localhost:8080\/queue","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 00:49:51 --> AuthFilter: User is authenticated
INFO - 2025-08-09 00:49:51 --> AuthFilter: All checks passed
CRITICAL - 2025-08-09 00:49:51 --> ErrorException: Undefined array key "patient_name"
[Method: GET, Route: checkup]
in APPPATH\Views\checkup\dashboard.php on line 80.
 1 APPPATH\Views\checkup\dashboard.php(80): CodeIgniter\Debug\Exceptions->errorHandler(2, 'Undefined array key "patient_name"', 'C:\\Users\\John bert\\OneDrive\\Documents\\GitHub\\Capstone_PerfectSmile\\app\\Views\\checkup\\dashboard.php', 80)
 2 SYSTEMPATH\View\View.php(224): include('C:\\Users\\John bert\\OneDrive\\Documents\\GitHub\\Capstone_PerfectSmile\\app\\Views\\checkup\\dashboard.php')
 3 SYSTEMPATH\View\View.php(227): CodeIgniter\View\View->CodeIgniter\View\{closure}()
 4 SYSTEMPATH\Common.php(1173): CodeIgniter\View\View->render('checkup/dashboard', [], true)
 5 APPPATH\Controllers\Checkup.php(50): view('checkup/dashboard', [...])
 6 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Checkup->index()
 7 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Checkup))
 8 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
11 FCPATH\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
12 SYSTEMPATH\rewrite.php(44): require_once('C:\\Users\\John bert\\OneDrive\\Documents\\GitHub\\Capstone_PerfectSmile\\public\\index.php')
INFO - 2025-08-09 00:49:55 --> AuthFilter: Checking auth for GET http://localhost:8080/checkup/patient/42
DEBUG - 2025-08-09 00:49:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:49:55 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 00:49:55 --> AuthFilter: Session data = {"__ci_last_regenerate":1754700355,"_ci_previous_url":"http:\/\/localhost:8080\/queue","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 00:49:55 --> AuthFilter: User is authenticated
INFO - 2025-08-09 00:49:55 --> AuthFilter: All checks passed
INFO - 2025-08-09 00:49:55 --> Patient 13 has 0 previous records
DEBUG - 2025-08-09 00:49:55 --> Previous records: []
DEBUG - 2025-08-09 00:49:55 --> Previous chart: []
INFO - 2025-08-09 00:50:39 --> AuthFilter: Checking auth for POST http://localhost:8080/checkup/save/42
DEBUG - 2025-08-09 00:50:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:50:39 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 00:50:39 --> AuthFilter: Session data = {"__ci_last_regenerate":1754700355,"_ci_previous_url":"http:\/\/localhost:8080\/checkup\/patient\/42","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 00:50:39 --> AuthFilter: User is authenticated
INFO - 2025-08-09 00:50:39 --> AuthFilter: All checks passed
INFO - 2025-08-09 00:50:39 --> Checkup save - Chart data received: {"1":{"condition":"","treatment":"","notes":""},"2":{"condition":"","treatment":"","notes":""},"3":{"condition":"","treatment":"","notes":""},"4":{"condition":"filled","treatment":"root_canal","notes":""},"5":{"condition":"","treatment":"","notes":""},"6":{"condition":"","treatment":"","notes":""},"7":{"condition":"","treatment":"","notes":""},"8":{"condition":"","treatment":"","notes":""},"9":{"condition":"","treatment":"","notes":""},"10":{"condition":"","treatment":"","notes":""},"11":{"condition":"healthy","treatment":"","notes":""},"12":{"condition":"","treatment":"","notes":""},"13":{"condition":"missing","treatment":"extraction","notes":""},"14":{"condition":"","treatment":"","notes":""},"15":{"condition":"","treatment":"","notes":""},"16":{"condition":"","treatment":"","notes":""},"17":{"condition":"","treatment":"","notes":""},"18":{"condition":"","treatment":"","notes":""},"19":{"condition":"","treatment":"","notes":""},"20":{"condition":"","treatment":"","notes":""},"21":{"condition":"","treatment":"","notes":""},"22":{"condition":"","treatment":"","notes":""},"23":{"condition":"","treatment":"","notes":""},"24":{"condition":"","treatment":"","notes":""},"25":{"condition":"cavity","treatment":"root_canal","notes":""},"26":{"condition":"","treatment":"","notes":""},"27":{"condition":"","treatment":"","notes":""},"28":{"condition":"","treatment":"","notes":""},"29":{"condition":"","treatment":"","notes":""},"30":{"condition":"","treatment":"","notes":""},"31":{"condition":"","treatment":"","notes":""},"32":{"condition":"","treatment":"","notes":""}}
INFO - 2025-08-09 00:50:39 --> Saving dental chart data for record 7: [{"dental_record_id":7,"tooth_number":4,"tooth_type":"permanent","condition":"filled","status":"root_canal","notes":"","priority":"high","created_at":"2025-08-09 00:50:39","updated_at":"2025-08-09 00:50:39"},{"dental_record_id":7,"tooth_number":11,"tooth_type":"permanent","condition":"healthy","status":"","notes":"","priority":"low","created_at":"2025-08-09 00:50:39","updated_at":"2025-08-09 00:50:39"},{"dental_record_id":7,"tooth_number":13,"tooth_type":"permanent","condition":"missing","status":"extraction","notes":"","priority":"high","created_at":"2025-08-09 00:50:39","updated_at":"2025-08-09 00:50:39"},{"dental_record_id":7,"tooth_number":25,"tooth_type":"permanent","condition":"cavity","status":"root_canal","notes":"","priority":"high","created_at":"2025-08-09 00:50:39","updated_at":"2025-08-09 00:50:39"}]
INFO - 2025-08-09 00:50:39 --> Dental chart save result: success
INFO - 2025-08-09 00:50:39 --> Checkup save - Chart save result: success
INFO - 2025-08-09 00:50:40 --> AuthFilter: Checking auth for GET http://localhost:8080/checkup
DEBUG - 2025-08-09 00:50:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:50:40 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 00:50:40 --> AuthFilter: Session data = {"__ci_last_regenerate":1754700355,"_ci_previous_url":"http:\/\/localhost:8080\/checkup\/patient\/42","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 00:50:40 --> AuthFilter: User is authenticated
INFO - 2025-08-09 00:50:40 --> AuthFilter: All checks passed
INFO - 2025-08-09 00:50:47 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/patient-checkups
DEBUG - 2025-08-09 00:50:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:50:47 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 00:50:47 --> AuthFilter: Session data = {"__ci_last_regenerate":1754700355,"_ci_previous_url":"http:\/\/localhost:8080\/checkup","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 00:50:47 --> AuthFilter: User is authenticated
INFO - 2025-08-09 00:50:47 --> AuthFilter: All checks passed
INFO - 2025-08-09 00:51:23 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/dental-records
DEBUG - 2025-08-09 00:51:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:51:23 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 00:51:23 --> AuthFilter: Session data = {"__ci_last_regenerate":1754700683,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/patient-checkups","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 00:51:23 --> AuthFilter: User is authenticated
INFO - 2025-08-09 00:51:23 --> AuthFilter: All checks passed
INFO - 2025-08-09 00:51:25 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/patient-checkups
DEBUG - 2025-08-09 00:51:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:51:25 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 00:51:25 --> AuthFilter: Session data = {"__ci_last_regenerate":1754700683,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/patient-checkups","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 00:51:25 --> AuthFilter: User is authenticated
INFO - 2025-08-09 00:51:25 --> AuthFilter: All checks passed
INFO - 2025-08-09 00:51:41 --> AuthFilter: Checking auth for GET http://localhost:8080/checkin
DEBUG - 2025-08-09 00:51:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:51:41 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 00:51:41 --> AuthFilter: Session data = {"__ci_last_regenerate":1754700683,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/patient-checkups","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 00:51:41 --> AuthFilter: User is authenticated
INFO - 2025-08-09 00:51:41 --> AuthFilter: All checks passed
INFO - 2025-08-09 00:51:41 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 00:51:41 --> TESTING: Also checking appointments for date: 2025-08-28
INFO - 2025-08-09 00:51:41 --> ALL appointments for today (2025-08-09): 1
INFO - 2025-08-09 00:51:41 --> ID: 42, Status: completed, Approval: auto_approved, Patient: jb-joker, DateTime: 2025-08-09 09:26:00
INFO - 2025-08-09 00:51:41 --> TESTING: ALL appointments for 2025-08-28: 1
INFO - 2025-08-09 00:51:41 --> TESTING: ID: 41, Status: confirmed, Approval: approved, Patient: jb-joker, DateTime: 2025-08-28 09:22:00
INFO - 2025-08-09 00:51:41 --> TESTING: Filtered appointments for 2025-08-28: 1
INFO - 2025-08-09 00:51:41 --> TESTING FILTERED: ID: 41, Status: confirmed, Approval: approved, Patient: jb-joker
INFO - 2025-08-09 00:51:41 --> Found 0 appointments for today after filtering
INFO - 2025-08-09 00:51:45 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/appointments
DEBUG - 2025-08-09 00:51:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:51:45 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 00:51:45 --> AuthFilter: Session data = {"__ci_last_regenerate":1754700683,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 00:51:45 --> AuthFilter: User is authenticated
INFO - 2025-08-09 00:51:45 --> AuthFilter: All checks passed
INFO - 2025-08-09 00:52:04 --> AuthFilter: Checking auth for POST http://localhost:8080/admin/appointments/create
DEBUG - 2025-08-09 00:52:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:52:04 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 00:52:04 --> AuthFilter: Session data = {"__ci_last_regenerate":1754700683,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 00:52:04 --> AuthFilter: User is authenticated
INFO - 2025-08-09 00:52:04 --> AuthFilter: All checks passed
INFO - 2025-08-09 00:52:04 --> Creating scheduled appointment with data: {"branch_id":"1","user_id":"3","dentist_id":null,"appointment_date":"2025-08-14","appointment_time":"09:53","appointment_type":"scheduled","remarks":"cccccc","approval_status":"pending","status":"pending_approval"}
INFO - 2025-08-09 00:52:04 --> Admin-created appointment pending without dentist
INFO - 2025-08-09 00:52:05 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/appointments
DEBUG - 2025-08-09 00:52:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:52:05 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 00:52:05 --> AuthFilter: Session data = {"__ci_last_regenerate":1754700683,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 00:52:05 --> AuthFilter: User is authenticated
INFO - 2025-08-09 00:52:05 --> AuthFilter: All checks passed
INFO - 2025-08-09 00:52:20 --> AuthFilter: Checking auth for POST http://localhost:8080/admin/appointments/create
DEBUG - 2025-08-09 00:52:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:52:20 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 00:52:20 --> AuthFilter: Session data = {"__ci_last_regenerate":1754700683,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 00:52:20 --> AuthFilter: User is authenticated
INFO - 2025-08-09 00:52:20 --> AuthFilter: All checks passed
INFO - 2025-08-09 00:52:20 --> Creating scheduled appointment with data: {"branch_id":"1","user_id":"13","dentist_id":null,"appointment_date":"2025-08-14","appointment_time":"00:56","appointment_type":"scheduled","remarks":"xxxxxxx","approval_status":"pending","status":"pending_approval"}
INFO - 2025-08-09 00:52:20 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/appointments
DEBUG - 2025-08-09 00:52:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:52:20 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 00:52:20 --> AuthFilter: Session data = {"__ci_last_regenerate":1754700683,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 00:52:20 --> AuthFilter: User is authenticated
INFO - 2025-08-09 00:52:20 --> AuthFilter: All checks passed
INFO - 2025-08-09 00:52:35 --> AuthFilter: Checking auth for POST http://localhost:8080/admin/appointments/create
DEBUG - 2025-08-09 00:52:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:52:35 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 00:52:35 --> AuthFilter: Session data = {"__ci_last_regenerate":1754700683,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 00:52:35 --> AuthFilter: User is authenticated
INFO - 2025-08-09 00:52:35 --> AuthFilter: All checks passed
INFO - 2025-08-09 00:52:35 --> Creating scheduled appointment with data: {"branch_id":"1","user_id":"3","dentist_id":null,"appointment_date":"2025-08-14","appointment_time":"10:54","appointment_type":"scheduled","remarks":"xxxxxx","approval_status":"pending","status":"pending_approval"}
INFO - 2025-08-09 00:52:35 --> Admin-created appointment pending without dentist
INFO - 2025-08-09 00:52:35 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/appointments
DEBUG - 2025-08-09 00:52:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:52:35 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 00:52:35 --> AuthFilter: Session data = {"__ci_last_regenerate":1754700683,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 00:52:35 --> AuthFilter: User is authenticated
INFO - 2025-08-09 00:52:35 --> AuthFilter: All checks passed
INFO - 2025-08-09 00:52:37 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 00:52:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:52:37 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 00:52:37 --> AuthFilter: Session data = {"__ci_last_regenerate":1754700683,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 00:52:37 --> AuthFilter: User is authenticated
INFO - 2025-08-09 00:52:37 --> AuthFilter: All checks passed
INFO - 2025-08-09 00:52:44 --> AuthFilter: Checking auth for POST http://localhost:8080/admin/appointments/approve/43
DEBUG - 2025-08-09 00:52:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:52:44 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 00:52:44 --> AuthFilter: Session data = {"__ci_last_regenerate":1754700683,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 00:52:44 --> AuthFilter: User is authenticated
INFO - 2025-08-09 00:52:44 --> AuthFilter: All checks passed
INFO - 2025-08-09 00:52:44 --> Admin approving appointment ID: 43, Dentist ID: null
INFO - 2025-08-09 00:52:44 --> Appointment before approval: {"id":"43","branch_id":"1","dentist_id":null,"user_id":"3","appointment_datetime":"2025-08-14 09:53:00","status":"pending_approval","appointment_type":"scheduled","approval_status":"pending","decline_reason":null,"remarks":"cccccc","created_at":"2025-08-09 00:52:04","updated_at":"2025-08-09 00:52:04","checked_in_at":null,"checked_in_by":null,"self_checkin":"0","started_at":null,"called_by":null,"treatment_status":null,"treatment_notes":null,"payment_status":"pending","payment_method":null,"payment_amount":null,"payment_date":null,"payment_received_by":null,"payment_notes":null,"appointment_date":"2025-08-14","appointment_time":"09:53"}
INFO - 2025-08-09 00:52:44 --> Checking dentist availability for date: 2025-08-14, time: 09:53, branch: 1
INFO - 2025-08-09 00:52:44 --> Found 2 active dentists: ["Dr. John Smith","Dr. Sarah Johnson"]
INFO - 2025-08-09 00:52:44 --> Dentist Dr. John Smith (ID: 2) has 0 conflicting appointments at 2025-08-14 09:53:00
INFO - 2025-08-09 00:52:44 --> Dentist Dr. Sarah Johnson (ID: 9) has 0 conflicting appointments at 2025-08-14 09:53:00
INFO - 2025-08-09 00:52:44 --> Available dentists: ["Dr. John Smith","Dr. Sarah Johnson"]
INFO - 2025-08-09 00:52:44 --> Auto-assigning dentist Dr. John Smith (ID: 2) to appointment 43
INFO - 2025-08-09 00:52:44 --> Checking dentist availability for date: 2025-08-14, time: 09:53, branch: 1
INFO - 2025-08-09 00:52:44 --> Found 2 active dentists: ["Dr. John Smith","Dr. Sarah Johnson"]
INFO - 2025-08-09 00:52:44 --> Dentist Dr. John Smith (ID: 2) has 0 conflicting appointments at 2025-08-14 09:53:00
INFO - 2025-08-09 00:52:44 --> Dentist Dr. Sarah Johnson (ID: 9) has 0 conflicting appointments at 2025-08-14 09:53:00
INFO - 2025-08-09 00:52:44 --> Available dentists: ["Dr. John Smith","Dr. Sarah Johnson"]
INFO - 2025-08-09 00:52:44 --> AppointmentModel::approveAppointment - ID: 43, Dentist ID: 2
INFO - 2025-08-09 00:52:44 --> Setting dentist_id to 2 for appointment 43
INFO - 2025-08-09 00:52:44 --> Update data for appointment 43: {"approval_status":"approved","status":"confirmed","updated_at":"2025-08-09 00:52:44","dentist_id":"2"}
INFO - 2025-08-09 00:52:44 --> Appointment 43 approved successfully - Status: confirmed, Approval: approved
INFO - 2025-08-09 00:52:44 --> Admin approved appointment: Patient ID 3, DateTime: 2025-08-14 09:53:00, Date: 2025-08-14, Time: 09:53
INFO - 2025-08-09 00:52:44 --> Appointment approval result: {"success":true,"message":"Appointment approved successfully. Dentist Dr. John Smith was assigned."}
INFO - 2025-08-09 00:52:45 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 00:52:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:52:45 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 00:52:45 --> AuthFilter: Session data = {"__ci_last_regenerate":1754700683,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 00:52:45 --> AuthFilter: User is authenticated
INFO - 2025-08-09 00:52:45 --> AuthFilter: All checks passed
INFO - 2025-08-09 00:52:47 --> AuthFilter: Checking auth for POST http://localhost:8080/admin/appointments/approve/44
DEBUG - 2025-08-09 00:52:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:52:47 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 00:52:47 --> AuthFilter: Session data = {"__ci_last_regenerate":1754700683,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 00:52:47 --> AuthFilter: User is authenticated
INFO - 2025-08-09 00:52:47 --> AuthFilter: All checks passed
INFO - 2025-08-09 00:52:47 --> Admin approving appointment ID: 44, Dentist ID: null
INFO - 2025-08-09 00:52:47 --> Appointment before approval: {"id":"44","branch_id":"1","dentist_id":null,"user_id":"3","appointment_datetime":"2025-08-14 10:54:00","status":"pending_approval","appointment_type":"scheduled","approval_status":"pending","decline_reason":null,"remarks":"xxxxxx","created_at":"2025-08-09 00:52:35","updated_at":"2025-08-09 00:52:35","checked_in_at":null,"checked_in_by":null,"self_checkin":"0","started_at":null,"called_by":null,"treatment_status":null,"treatment_notes":null,"payment_status":"pending","payment_method":null,"payment_amount":null,"payment_date":null,"payment_received_by":null,"payment_notes":null,"appointment_date":"2025-08-14","appointment_time":"10:54"}
INFO - 2025-08-09 00:52:47 --> Checking dentist availability for date: 2025-08-14, time: 10:54, branch: 1
INFO - 2025-08-09 00:52:47 --> Found 2 active dentists: ["Dr. John Smith","Dr. Sarah Johnson"]
INFO - 2025-08-09 00:52:47 --> Dentist Dr. John Smith (ID: 2) has 0 conflicting appointments at 2025-08-14 10:54:00
INFO - 2025-08-09 00:52:47 --> Dentist Dr. Sarah Johnson (ID: 9) has 0 conflicting appointments at 2025-08-14 10:54:00
INFO - 2025-08-09 00:52:47 --> Available dentists: ["Dr. John Smith","Dr. Sarah Johnson"]
INFO - 2025-08-09 00:52:47 --> Auto-assigning dentist Dr. John Smith (ID: 2) to appointment 44
INFO - 2025-08-09 00:52:47 --> Checking dentist availability for date: 2025-08-14, time: 10:54, branch: 1
INFO - 2025-08-09 00:52:47 --> Found 2 active dentists: ["Dr. John Smith","Dr. Sarah Johnson"]
INFO - 2025-08-09 00:52:47 --> Dentist Dr. John Smith (ID: 2) has 0 conflicting appointments at 2025-08-14 10:54:00
INFO - 2025-08-09 00:52:47 --> Dentist Dr. Sarah Johnson (ID: 9) has 0 conflicting appointments at 2025-08-14 10:54:00
INFO - 2025-08-09 00:52:47 --> Available dentists: ["Dr. John Smith","Dr. Sarah Johnson"]
INFO - 2025-08-09 00:52:47 --> AppointmentModel::approveAppointment - ID: 44, Dentist ID: 2
INFO - 2025-08-09 00:52:47 --> Setting dentist_id to 2 for appointment 44
INFO - 2025-08-09 00:52:47 --> Update data for appointment 44: {"approval_status":"approved","status":"confirmed","updated_at":"2025-08-09 00:52:47","dentist_id":"2"}
INFO - 2025-08-09 00:52:47 --> Appointment 44 approved successfully - Status: confirmed, Approval: approved
INFO - 2025-08-09 00:52:47 --> Admin approved appointment: Patient ID 3, DateTime: 2025-08-14 10:54:00, Date: 2025-08-14, Time: 10:54
INFO - 2025-08-09 00:52:47 --> Appointment approval result: {"success":true,"message":"Appointment approved successfully. Dentist Dr. John Smith was assigned."}
INFO - 2025-08-09 00:52:48 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 00:52:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:52:48 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 00:52:48 --> AuthFilter: Session data = {"__ci_last_regenerate":1754700683,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 00:52:48 --> AuthFilter: User is authenticated
INFO - 2025-08-09 00:52:48 --> AuthFilter: All checks passed
INFO - 2025-08-09 00:52:51 --> AuthFilter: Checking auth for GET http://localhost:8080/checkin
DEBUG - 2025-08-09 00:52:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:52:51 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 00:52:51 --> AuthFilter: Session data = {"__ci_last_regenerate":1754700683,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 00:52:51 --> AuthFilter: User is authenticated
INFO - 2025-08-09 00:52:51 --> AuthFilter: All checks passed
INFO - 2025-08-09 00:52:51 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 00:52:51 --> TESTING: Also checking appointments for date: 2025-08-28
INFO - 2025-08-09 00:52:51 --> ALL appointments for today (2025-08-09): 1
INFO - 2025-08-09 00:52:51 --> ID: 42, Status: completed, Approval: auto_approved, Patient: jb-joker, DateTime: 2025-08-09 09:26:00
INFO - 2025-08-09 00:52:51 --> TESTING: ALL appointments for 2025-08-28: 1
INFO - 2025-08-09 00:52:51 --> TESTING: ID: 41, Status: confirmed, Approval: approved, Patient: jb-joker, DateTime: 2025-08-28 09:22:00
INFO - 2025-08-09 00:52:51 --> TESTING: Filtered appointments for 2025-08-28: 1
INFO - 2025-08-09 00:52:51 --> TESTING FILTERED: ID: 41, Status: confirmed, Approval: approved, Patient: jb-joker
INFO - 2025-08-09 00:52:51 --> Found 0 appointments for today after filtering
INFO - 2025-08-09 00:52:56 --> AuthFilter: Checking auth for GET http://localhost:8080/checkin
DEBUG - 2025-08-09 00:52:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:52:56 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 00:52:56 --> AuthFilter: Session data = {"__ci_last_regenerate":1754700683,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 00:52:56 --> AuthFilter: User is authenticated
INFO - 2025-08-09 00:52:56 --> AuthFilter: All checks passed
INFO - 2025-08-09 00:52:56 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 00:52:56 --> TESTING: Also checking appointments for date: 2025-08-28
INFO - 2025-08-09 00:52:56 --> ALL appointments for today (2025-08-09): 1
INFO - 2025-08-09 00:52:56 --> ID: 42, Status: completed, Approval: auto_approved, Patient: jb-joker, DateTime: 2025-08-09 09:26:00
INFO - 2025-08-09 00:52:56 --> TESTING: ALL appointments for 2025-08-28: 1
INFO - 2025-08-09 00:52:56 --> TESTING: ID: 41, Status: confirmed, Approval: approved, Patient: jb-joker, DateTime: 2025-08-28 09:22:00
INFO - 2025-08-09 00:52:56 --> TESTING: Filtered appointments for 2025-08-28: 1
INFO - 2025-08-09 00:52:56 --> TESTING FILTERED: ID: 41, Status: confirmed, Approval: approved, Patient: jb-joker
INFO - 2025-08-09 00:52:56 --> Found 0 appointments for today after filtering
INFO - 2025-08-09 00:53:27 --> AuthFilter: Checking auth for GET http://localhost:8080/checkin
DEBUG - 2025-08-09 00:53:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:53:27 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 00:53:27 --> AuthFilter: Session data = {"__ci_last_regenerate":1754700683,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 00:53:27 --> AuthFilter: User is authenticated
INFO - 2025-08-09 00:53:27 --> AuthFilter: All checks passed
INFO - 2025-08-09 00:53:27 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 00:53:27 --> TESTING: Also checking appointments for date: 2025-08-28
INFO - 2025-08-09 00:53:27 --> ALL appointments for today (2025-08-09): 1
INFO - 2025-08-09 00:53:27 --> ID: 42, Status: completed, Approval: auto_approved, Patient: jb-joker, DateTime: 2025-08-09 09:26:00
INFO - 2025-08-09 00:53:27 --> TESTING: ALL appointments for 2025-08-28: 1
INFO - 2025-08-09 00:53:27 --> TESTING: ID: 41, Status: confirmed, Approval: approved, Patient: jb-joker, DateTime: 2025-08-28 09:22:00
INFO - 2025-08-09 00:53:27 --> TESTING: Filtered appointments for 2025-08-28: 1
INFO - 2025-08-09 00:53:27 --> TESTING FILTERED: ID: 41, Status: confirmed, Approval: approved, Patient: jb-joker
INFO - 2025-08-09 00:53:27 --> Found 0 appointments for today after filtering
INFO - 2025-08-09 00:53:58 --> AuthFilter: Checking auth for GET http://localhost:8080/checkin
DEBUG - 2025-08-09 00:53:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:53:58 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 00:53:58 --> AuthFilter: Session data = {"__ci_last_regenerate":1754700683,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 00:53:58 --> AuthFilter: User is authenticated
INFO - 2025-08-09 00:53:58 --> AuthFilter: All checks passed
INFO - 2025-08-09 00:53:58 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 00:53:58 --> TESTING: Also checking appointments for date: 2025-08-28
INFO - 2025-08-09 00:53:58 --> ALL appointments for today (2025-08-09): 1
INFO - 2025-08-09 00:53:58 --> ID: 42, Status: completed, Approval: auto_approved, Patient: jb-joker, DateTime: 2025-08-09 09:26:00
INFO - 2025-08-09 00:53:58 --> TESTING: ALL appointments for 2025-08-28: 1
INFO - 2025-08-09 00:53:58 --> TESTING: ID: 41, Status: confirmed, Approval: approved, Patient: jb-joker, DateTime: 2025-08-28 09:22:00
INFO - 2025-08-09 00:53:58 --> TESTING: Filtered appointments for 2025-08-28: 1
INFO - 2025-08-09 00:53:58 --> TESTING FILTERED: ID: 41, Status: confirmed, Approval: approved, Patient: jb-joker
INFO - 2025-08-09 00:53:58 --> Found 0 appointments for today after filtering
INFO - 2025-08-09 00:54:29 --> AuthFilter: Checking auth for GET http://localhost:8080/checkin
DEBUG - 2025-08-09 00:54:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:54:29 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 00:54:29 --> AuthFilter: Session data = {"__ci_last_regenerate":1754700683,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 00:54:29 --> AuthFilter: User is authenticated
INFO - 2025-08-09 00:54:29 --> AuthFilter: All checks passed
INFO - 2025-08-09 00:54:29 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 00:54:29 --> TESTING: Also checking appointments for date: 2025-08-28
INFO - 2025-08-09 00:54:29 --> ALL appointments for today (2025-08-09): 1
INFO - 2025-08-09 00:54:29 --> ID: 42, Status: completed, Approval: auto_approved, Patient: jb-joker, DateTime: 2025-08-09 09:26:00
INFO - 2025-08-09 00:54:29 --> TESTING: ALL appointments for 2025-08-28: 1
INFO - 2025-08-09 00:54:29 --> TESTING: ID: 41, Status: confirmed, Approval: approved, Patient: jb-joker, DateTime: 2025-08-28 09:22:00
INFO - 2025-08-09 00:54:29 --> TESTING: Filtered appointments for 2025-08-28: 1
INFO - 2025-08-09 00:54:29 --> TESTING FILTERED: ID: 41, Status: confirmed, Approval: approved, Patient: jb-joker
INFO - 2025-08-09 00:54:29 --> Found 0 appointments for today after filtering
INFO - 2025-08-09 00:55:00 --> AuthFilter: Checking auth for GET http://localhost:8080/checkin
DEBUG - 2025-08-09 00:55:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:55:00 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 00:55:00 --> AuthFilter: Session data = {"__ci_last_regenerate":1754700683,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 00:55:00 --> AuthFilter: User is authenticated
INFO - 2025-08-09 00:55:00 --> AuthFilter: All checks passed
INFO - 2025-08-09 00:55:00 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 00:55:00 --> TESTING: Also checking appointments for date: 2025-08-28
INFO - 2025-08-09 00:55:00 --> ALL appointments for today (2025-08-09): 1
INFO - 2025-08-09 00:55:00 --> ID: 42, Status: completed, Approval: auto_approved, Patient: jb-joker, DateTime: 2025-08-09 09:26:00
INFO - 2025-08-09 00:55:00 --> TESTING: ALL appointments for 2025-08-28: 1
INFO - 2025-08-09 00:55:00 --> TESTING: ID: 41, Status: confirmed, Approval: approved, Patient: jb-joker, DateTime: 2025-08-28 09:22:00
INFO - 2025-08-09 00:55:00 --> TESTING: Filtered appointments for 2025-08-28: 1
INFO - 2025-08-09 00:55:00 --> TESTING FILTERED: ID: 41, Status: confirmed, Approval: approved, Patient: jb-joker
INFO - 2025-08-09 00:55:00 --> Found 0 appointments for today after filtering
INFO - 2025-08-09 00:55:31 --> AuthFilter: Checking auth for GET http://localhost:8080/checkin
DEBUG - 2025-08-09 00:55:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:55:31 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 00:55:31 --> AuthFilter: Session data = {"__ci_last_regenerate":1754700683,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 00:55:31 --> AuthFilter: User is authenticated
INFO - 2025-08-09 00:55:31 --> AuthFilter: All checks passed
INFO - 2025-08-09 00:55:31 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 00:55:31 --> TESTING: Also checking appointments for date: 2025-08-28
INFO - 2025-08-09 00:55:31 --> ALL appointments for today (2025-08-09): 1
INFO - 2025-08-09 00:55:31 --> ID: 42, Status: completed, Approval: auto_approved, Patient: jb-joker, DateTime: 2025-08-09 09:26:00
INFO - 2025-08-09 00:55:31 --> TESTING: ALL appointments for 2025-08-28: 1
INFO - 2025-08-09 00:55:31 --> TESTING: ID: 41, Status: confirmed, Approval: approved, Patient: jb-joker, DateTime: 2025-08-28 09:22:00
INFO - 2025-08-09 00:55:31 --> TESTING: Filtered appointments for 2025-08-28: 1
INFO - 2025-08-09 00:55:31 --> TESTING FILTERED: ID: 41, Status: confirmed, Approval: approved, Patient: jb-joker
INFO - 2025-08-09 00:55:31 --> Found 0 appointments for today after filtering
INFO - 2025-08-09 00:56:02 --> AuthFilter: Checking auth for GET http://localhost:8080/checkin
DEBUG - 2025-08-09 00:56:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:56:02 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 00:56:02 --> AuthFilter: Session data = {"__ci_last_regenerate":1754700683,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 00:56:02 --> AuthFilter: User is authenticated
INFO - 2025-08-09 00:56:02 --> AuthFilter: All checks passed
INFO - 2025-08-09 00:56:02 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 00:56:02 --> TESTING: Also checking appointments for date: 2025-08-28
INFO - 2025-08-09 00:56:02 --> ALL appointments for today (2025-08-09): 1
INFO - 2025-08-09 00:56:02 --> ID: 42, Status: completed, Approval: auto_approved, Patient: jb-joker, DateTime: 2025-08-09 09:26:00
INFO - 2025-08-09 00:56:02 --> TESTING: ALL appointments for 2025-08-28: 1
INFO - 2025-08-09 00:56:02 --> TESTING: ID: 41, Status: confirmed, Approval: approved, Patient: jb-joker, DateTime: 2025-08-28 09:22:00
INFO - 2025-08-09 00:56:02 --> TESTING: Filtered appointments for 2025-08-28: 1
INFO - 2025-08-09 00:56:02 --> TESTING FILTERED: ID: 41, Status: confirmed, Approval: approved, Patient: jb-joker
INFO - 2025-08-09 00:56:02 --> Found 0 appointments for today after filtering
INFO - 2025-08-09 00:56:33 --> AuthFilter: Checking auth for GET http://localhost:8080/checkin
DEBUG - 2025-08-09 00:56:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:56:33 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 00:56:33 --> AuthFilter: Session data = {"__ci_last_regenerate":1754700993,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 00:56:33 --> AuthFilter: User is authenticated
INFO - 2025-08-09 00:56:33 --> AuthFilter: All checks passed
INFO - 2025-08-09 00:56:34 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 00:56:34 --> TESTING: Also checking appointments for date: 2025-08-28
INFO - 2025-08-09 00:56:34 --> ALL appointments for today (2025-08-09): 1
INFO - 2025-08-09 00:56:34 --> ID: 42, Status: completed, Approval: auto_approved, Patient: jb-joker, DateTime: 2025-08-09 09:26:00
INFO - 2025-08-09 00:56:34 --> TESTING: ALL appointments for 2025-08-28: 1
INFO - 2025-08-09 00:56:34 --> TESTING: ID: 41, Status: confirmed, Approval: approved, Patient: jb-joker, DateTime: 2025-08-28 09:22:00
INFO - 2025-08-09 00:56:34 --> TESTING: Filtered appointments for 2025-08-28: 1
INFO - 2025-08-09 00:56:34 --> TESTING FILTERED: ID: 41, Status: confirmed, Approval: approved, Patient: jb-joker
INFO - 2025-08-09 00:56:34 --> Found 0 appointments for today after filtering
INFO - 2025-08-09 00:57:04 --> AuthFilter: Checking auth for GET http://localhost:8080/checkin
DEBUG - 2025-08-09 00:57:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:57:04 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 00:57:04 --> AuthFilter: Session data = {"__ci_last_regenerate":1754700993,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 00:57:04 --> AuthFilter: User is authenticated
INFO - 2025-08-09 00:57:04 --> AuthFilter: All checks passed
INFO - 2025-08-09 00:57:04 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 00:57:04 --> TESTING: Also checking appointments for date: 2025-08-28
INFO - 2025-08-09 00:57:04 --> ALL appointments for today (2025-08-09): 1
INFO - 2025-08-09 00:57:04 --> ID: 42, Status: completed, Approval: auto_approved, Patient: jb-joker, DateTime: 2025-08-09 09:26:00
INFO - 2025-08-09 00:57:04 --> TESTING: ALL appointments for 2025-08-28: 1
INFO - 2025-08-09 00:57:04 --> TESTING: ID: 41, Status: confirmed, Approval: approved, Patient: jb-joker, DateTime: 2025-08-28 09:22:00
INFO - 2025-08-09 00:57:04 --> TESTING: Filtered appointments for 2025-08-28: 1
INFO - 2025-08-09 00:57:04 --> TESTING FILTERED: ID: 41, Status: confirmed, Approval: approved, Patient: jb-joker
INFO - 2025-08-09 00:57:04 --> Found 0 appointments for today after filtering
INFO - 2025-08-09 00:57:35 --> AuthFilter: Checking auth for GET http://localhost:8080/checkin
DEBUG - 2025-08-09 00:57:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:57:35 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 00:57:35 --> AuthFilter: Session data = {"__ci_last_regenerate":1754700993,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 00:57:35 --> AuthFilter: User is authenticated
INFO - 2025-08-09 00:57:35 --> AuthFilter: All checks passed
INFO - 2025-08-09 00:57:36 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 00:57:36 --> Found 0 appointments for today after filtering
INFO - 2025-08-09 00:58:06 --> AuthFilter: Checking auth for GET http://localhost:8080/checkin
DEBUG - 2025-08-09 00:58:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:58:06 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 00:58:06 --> AuthFilter: Session data = {"__ci_last_regenerate":1754700993,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 00:58:06 --> AuthFilter: User is authenticated
INFO - 2025-08-09 00:58:06 --> AuthFilter: All checks passed
INFO - 2025-08-09 00:58:06 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 00:58:06 --> Found 0 appointments for today after filtering
INFO - 2025-08-09 00:58:37 --> AuthFilter: Checking auth for GET http://localhost:8080/checkin
DEBUG - 2025-08-09 00:58:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:58:37 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 00:58:37 --> AuthFilter: Session data = {"__ci_last_regenerate":1754700993,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 00:58:37 --> AuthFilter: User is authenticated
INFO - 2025-08-09 00:58:38 --> AuthFilter: All checks passed
INFO - 2025-08-09 00:58:38 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 00:58:38 --> Found 0 appointments for today after filtering
INFO - 2025-08-09 00:59:09 --> AuthFilter: Checking auth for GET http://localhost:8080/checkin
DEBUG - 2025-08-09 00:59:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:59:09 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 00:59:09 --> AuthFilter: Session data = {"__ci_last_regenerate":1754700993,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 00:59:09 --> AuthFilter: User is authenticated
INFO - 2025-08-09 00:59:09 --> AuthFilter: All checks passed
INFO - 2025-08-09 00:59:09 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 00:59:09 --> Found 0 appointments for today after filtering
INFO - 2025-08-09 00:59:39 --> AuthFilter: Checking auth for GET http://localhost:8080/checkin
DEBUG - 2025-08-09 00:59:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 00:59:39 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 00:59:39 --> AuthFilter: Session data = {"__ci_last_regenerate":1754700993,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 00:59:39 --> AuthFilter: User is authenticated
INFO - 2025-08-09 00:59:39 --> AuthFilter: All checks passed
INFO - 2025-08-09 00:59:39 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 00:59:39 --> Found 0 appointments for today after filtering
INFO - 2025-08-09 01:00:10 --> AuthFilter: Checking auth for GET http://localhost:8080/checkin
DEBUG - 2025-08-09 01:00:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:00:10 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:00:10 --> AuthFilter: Session data = {"__ci_last_regenerate":1754700993,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:00:10 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:00:10 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:00:11 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 01:00:11 --> Found 0 appointments for today after filtering
INFO - 2025-08-09 01:00:41 --> AuthFilter: Checking auth for GET http://localhost:8080/checkin
DEBUG - 2025-08-09 01:00:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:00:42 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:00:42 --> AuthFilter: Session data = {"__ci_last_regenerate":1754700993,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:00:42 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:00:42 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:00:42 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 01:00:42 --> Found 0 appointments for today after filtering
INFO - 2025-08-09 01:01:13 --> AuthFilter: Checking auth for GET http://localhost:8080/checkin
DEBUG - 2025-08-09 01:01:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:01:13 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:01:13 --> AuthFilter: Session data = {"__ci_last_regenerate":1754700993,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:01:13 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:01:13 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:01:13 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 01:01:13 --> Found 0 appointments for today after filtering
INFO - 2025-08-09 01:01:45 --> AuthFilter: Checking auth for GET http://localhost:8080/checkin
DEBUG - 2025-08-09 01:01:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:01:45 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:01:45 --> AuthFilter: Session data = {"__ci_last_regenerate":1754701305,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:01:45 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:01:45 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:01:45 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 01:01:45 --> Found 0 appointments for today after filtering
INFO - 2025-08-09 01:02:16 --> AuthFilter: Checking auth for GET http://localhost:8080/checkin
DEBUG - 2025-08-09 01:02:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:02:16 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:02:16 --> AuthFilter: Session data = {"__ci_last_regenerate":1754701305,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:02:16 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:02:16 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:02:16 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 01:02:16 --> Found 0 appointments for today after filtering
INFO - 2025-08-09 01:02:47 --> AuthFilter: Checking auth for GET http://localhost:8080/checkin
DEBUG - 2025-08-09 01:02:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:02:47 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:02:47 --> AuthFilter: Session data = {"__ci_last_regenerate":1754701305,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:02:47 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:02:47 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:02:47 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 01:02:47 --> Found 0 appointments for today after filtering
INFO - 2025-08-09 01:03:18 --> AuthFilter: Checking auth for GET http://localhost:8080/checkin
DEBUG - 2025-08-09 01:03:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:03:18 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:03:18 --> AuthFilter: Session data = {"__ci_last_regenerate":1754701305,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:03:18 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:03:18 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:03:18 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 01:03:18 --> Found 0 appointments for today after filtering
INFO - 2025-08-09 01:03:49 --> AuthFilter: Checking auth for GET http://localhost:8080/checkin
DEBUG - 2025-08-09 01:03:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:03:49 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:03:49 --> AuthFilter: Session data = {"__ci_last_regenerate":1754701305,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:03:49 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:03:49 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:03:49 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 01:03:49 --> Found 0 appointments for today after filtering
INFO - 2025-08-09 01:04:20 --> AuthFilter: Checking auth for GET http://localhost:8080/checkin
DEBUG - 2025-08-09 01:04:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:04:20 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:04:20 --> AuthFilter: Session data = {"__ci_last_regenerate":1754701305,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:04:20 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:04:20 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:04:20 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 01:04:20 --> Found 0 appointments for today after filtering
INFO - 2025-08-09 01:04:51 --> AuthFilter: Checking auth for GET http://localhost:8080/checkin
DEBUG - 2025-08-09 01:04:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:04:51 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:04:51 --> AuthFilter: Session data = {"__ci_last_regenerate":1754701305,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:04:51 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:04:51 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:04:51 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 01:04:51 --> Found 0 appointments for today after filtering
INFO - 2025-08-09 01:05:22 --> AuthFilter: Checking auth for GET http://localhost:8080/checkin
DEBUG - 2025-08-09 01:05:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:05:22 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:05:22 --> AuthFilter: Session data = {"__ci_last_regenerate":1754701305,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:05:22 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:05:22 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:05:22 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 01:05:22 --> Found 0 appointments for today after filtering
INFO - 2025-08-09 01:05:53 --> AuthFilter: Checking auth for GET http://localhost:8080/checkin
DEBUG - 2025-08-09 01:05:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:05:53 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:05:53 --> AuthFilter: Session data = {"__ci_last_regenerate":1754701305,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:05:53 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:05:53 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:05:53 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 01:05:53 --> Found 0 appointments for today after filtering
INFO - 2025-08-09 01:06:24 --> AuthFilter: Checking auth for GET http://localhost:8080/checkin
DEBUG - 2025-08-09 01:06:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:06:24 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:06:24 --> AuthFilter: Session data = {"__ci_last_regenerate":1754701305,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:06:24 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:06:24 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:06:24 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 01:06:24 --> Found 0 appointments for today after filtering
INFO - 2025-08-09 01:06:55 --> AuthFilter: Checking auth for GET http://localhost:8080/checkin
DEBUG - 2025-08-09 01:06:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:06:55 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:06:55 --> AuthFilter: Session data = {"__ci_last_regenerate":1754701615,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:06:55 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:06:55 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:06:55 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 01:06:55 --> Found 0 appointments for today after filtering
INFO - 2025-08-09 01:07:26 --> AuthFilter: Checking auth for GET http://localhost:8080/checkin
DEBUG - 2025-08-09 01:07:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:07:26 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:07:26 --> AuthFilter: Session data = {"__ci_last_regenerate":1754701615,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:07:26 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:07:26 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:07:26 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 01:07:26 --> Found 0 appointments for today after filtering
INFO - 2025-08-09 01:07:57 --> AuthFilter: Checking auth for GET http://localhost:8080/checkin
DEBUG - 2025-08-09 01:07:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:07:57 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:07:57 --> AuthFilter: Session data = {"__ci_last_regenerate":1754701615,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:07:57 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:07:57 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:07:57 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 01:07:57 --> Found 0 appointments for today after filtering
INFO - 2025-08-09 01:08:28 --> AuthFilter: Checking auth for GET http://localhost:8080/checkin
DEBUG - 2025-08-09 01:08:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:08:28 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:08:28 --> AuthFilter: Session data = {"__ci_last_regenerate":1754701615,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:08:28 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:08:28 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:08:28 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 01:08:28 --> Found 0 appointments for today after filtering
INFO - 2025-08-09 01:08:52 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/appointments
DEBUG - 2025-08-09 01:08:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:08:52 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:08:52 --> AuthFilter: Session data = {"__ci_last_regenerate":1754701615,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:08:52 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:08:52 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:09:10 --> AuthFilter: Checking auth for POST http://localhost:8080/staff/appointments/checkConflicts
DEBUG - 2025-08-09 01:09:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:09:10 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:09:10 --> AuthFilter: Session data = {"__ci_last_regenerate":1754701615,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:09:10 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:09:10 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:09:10 --> Checking appointment conflicts for date: 2025-08-20, time: 09:09, dentist: 
INFO - 2025-08-09 01:09:10 --> Conflict window: 2025-08-20 08:39:00 to 2025-08-20 09:39:00
ERROR - 2025-08-09 01:09:10 --> mysqli_sql_exception: Column 'status' in where clause is ambiguous in C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php(327): mysqli->query('SELECT `appoint...', 0)
#1 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT `appoint...')
#2 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT `appoint...')
#3 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT `appoint...', Array, false)
#4 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Model.php(286): CodeIgniter\Database\BaseBuilder->get()
#5 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\BaseModel.php(679): CodeIgniter\Model->doFindAll(0, 0)
#6 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Models\AppointmentModel.php(192): CodeIgniter\BaseModel->findAll(0, 0)
#7 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Models\AppointmentModel.php(459): App\Models\AppointmentModel->findAll()
#8 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Controllers\StaffController.php(112): App\Models\AppointmentModel->checkAppointmentConflicts('2025-08-20', '09:09', '', NULL, '1')
#9 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\CodeIgniter.php(933): App\Controllers\StaffController->checkConflicts()
#10 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\StaffController))
#11 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#12 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Boot.php(334): CodeIgniter\CodeIgniter->run()
#13 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#14 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\public\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#15 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\rewrite.php(44): require_once('C:\\Users\\John b...')
#16 {main}
ERROR - 2025-08-09 01:09:10 --> Staff conflict check error: Column 'status' in where clause is ambiguous
INFO - 2025-08-09 01:09:14 --> AuthFilter: Checking auth for POST http://localhost:8080/admin/appointments/create
DEBUG - 2025-08-09 01:09:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:09:14 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:09:14 --> AuthFilter: Session data = {"__ci_last_regenerate":1754701615,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:09:14 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:09:14 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:09:14 --> Creating scheduled appointment with data: {"branch_id":"1","user_id":"12","dentist_id":null,"appointment_date":"2025-08-20","appointment_time":"09:09","appointment_type":"scheduled","remarks":"zz","approval_status":"pending","status":"pending_approval"}
INFO - 2025-08-09 01:09:15 --> Admin-created appointment pending without dentist
INFO - 2025-08-09 01:09:15 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/appointments
DEBUG - 2025-08-09 01:09:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:09:15 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:09:15 --> AuthFilter: Session data = {"__ci_last_regenerate":1754701615,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:09:15 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:09:15 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:09:29 --> AuthFilter: Checking auth for POST http://localhost:8080/staff/appointments/checkConflicts
DEBUG - 2025-08-09 01:09:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:09:29 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:09:29 --> AuthFilter: Session data = {"__ci_last_regenerate":1754701615,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:09:29 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:09:29 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:09:29 --> Checking appointment conflicts for date: 2025-08-27, time: 09:09, dentist: 
INFO - 2025-08-09 01:09:29 --> Conflict window: 2025-08-27 08:39:00 to 2025-08-27 09:39:00
ERROR - 2025-08-09 01:09:29 --> mysqli_sql_exception: Column 'status' in where clause is ambiguous in C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php(327): mysqli->query('SELECT `appoint...', 0)
#1 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT `appoint...')
#2 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT `appoint...')
#3 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT `appoint...', Array, false)
#4 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Model.php(286): CodeIgniter\Database\BaseBuilder->get()
#5 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\BaseModel.php(679): CodeIgniter\Model->doFindAll(0, 0)
#6 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Models\AppointmentModel.php(192): CodeIgniter\BaseModel->findAll(0, 0)
#7 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Models\AppointmentModel.php(459): App\Models\AppointmentModel->findAll()
#8 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Controllers\StaffController.php(112): App\Models\AppointmentModel->checkAppointmentConflicts('2025-08-27', '09:09', '', NULL, '1')
#9 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\CodeIgniter.php(933): App\Controllers\StaffController->checkConflicts()
#10 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\StaffController))
#11 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#12 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Boot.php(334): CodeIgniter\CodeIgniter->run()
#13 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#14 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\public\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#15 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\rewrite.php(44): require_once('C:\\Users\\John b...')
#16 {main}
ERROR - 2025-08-09 01:09:29 --> Staff conflict check error: Column 'status' in where clause is ambiguous
INFO - 2025-08-09 01:09:32 --> AuthFilter: Checking auth for POST http://localhost:8080/admin/appointments/create
DEBUG - 2025-08-09 01:09:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:09:32 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:09:32 --> AuthFilter: Session data = {"__ci_last_regenerate":1754701615,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:09:32 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:09:32 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:09:32 --> Creating scheduled appointment with data: {"branch_id":"1","user_id":"3","dentist_id":null,"appointment_date":"2025-08-27","appointment_time":"09:09","appointment_type":"scheduled","remarks":"z","approval_status":"pending","status":"pending_approval"}
INFO - 2025-08-09 01:09:32 --> Admin-created appointment pending without dentist
INFO - 2025-08-09 01:09:32 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/appointments
DEBUG - 2025-08-09 01:09:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:09:32 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:09:32 --> AuthFilter: Session data = {"__ci_last_regenerate":1754701615,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:09:32 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:09:32 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:09:39 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 01:09:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:09:39 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:09:39 --> AuthFilter: Session data = {"__ci_last_regenerate":1754701615,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:09:39 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:09:39 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:09:53 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/patients
DEBUG - 2025-08-09 01:09:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:09:53 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:09:53 --> AuthFilter: Session data = {"__ci_last_regenerate":1754701615,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:09:53 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:09:53 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:09:55 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/appointments
DEBUG - 2025-08-09 01:09:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:09:55 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:09:55 --> AuthFilter: Session data = {"__ci_last_regenerate":1754701615,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/patients","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:09:55 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:09:55 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:10:43 --> AuthFilter: Checking auth for POST http://localhost:8080/staff/appointments/checkConflicts
DEBUG - 2025-08-09 01:10:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:10:43 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:10:43 --> AuthFilter: Session data = {"__ci_last_regenerate":1754701615,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:10:43 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:10:43 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:10:43 --> Checking appointment conflicts for date: 2025-08-09, time: 09:10, dentist: 
INFO - 2025-08-09 01:10:43 --> Conflict window: 2025-08-09 08:40:00 to 2025-08-09 09:40:00
ERROR - 2025-08-09 01:10:43 --> mysqli_sql_exception: Column 'status' in where clause is ambiguous in C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php(327): mysqli->query('SELECT `appoint...', 0)
#1 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT `appoint...')
#2 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT `appoint...')
#3 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT `appoint...', Array, false)
#4 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Model.php(286): CodeIgniter\Database\BaseBuilder->get()
#5 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\BaseModel.php(679): CodeIgniter\Model->doFindAll(0, 0)
#6 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Models\AppointmentModel.php(192): CodeIgniter\BaseModel->findAll(0, 0)
#7 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Models\AppointmentModel.php(459): App\Models\AppointmentModel->findAll()
#8 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Controllers\StaffController.php(112): App\Models\AppointmentModel->checkAppointmentConflicts('2025-08-09', '09:10', '', NULL, '1')
#9 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\CodeIgniter.php(933): App\Controllers\StaffController->checkConflicts()
#10 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\StaffController))
#11 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#12 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Boot.php(334): CodeIgniter\CodeIgniter->run()
#13 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#14 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\public\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#15 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\rewrite.php(44): require_once('C:\\Users\\John b...')
#16 {main}
ERROR - 2025-08-09 01:10:43 --> Staff conflict check error: Column 'status' in where clause is ambiguous
INFO - 2025-08-09 01:10:45 --> AuthFilter: Checking auth for POST http://localhost:8080/admin/appointments/create
DEBUG - 2025-08-09 01:10:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:10:45 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:10:45 --> AuthFilter: Session data = {"__ci_last_regenerate":1754701615,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:10:45 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:10:45 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:10:45 --> Creating scheduled appointment with data: {"branch_id":"1","user_id":"3","dentist_id":null,"appointment_date":"2025-08-09","appointment_time":"09:10","appointment_type":"scheduled","remarks":"j","approval_status":"pending","status":"pending_approval"}
INFO - 2025-08-09 01:10:45 --> Admin-created appointment pending without dentist
INFO - 2025-08-09 01:10:45 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/appointments
DEBUG - 2025-08-09 01:10:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:10:45 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:10:45 --> AuthFilter: Session data = {"__ci_last_regenerate":1754701615,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:10:45 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:10:45 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:11:00 --> AuthFilter: Checking auth for POST http://localhost:8080/staff/appointments/checkConflicts
DEBUG - 2025-08-09 01:11:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:11:00 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:11:00 --> AuthFilter: Session data = {"__ci_last_regenerate":1754701615,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:11:00 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:11:00 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:11:00 --> Checking appointment conflicts for date: 2025-08-09, time: 09:10, dentist: 
INFO - 2025-08-09 01:11:00 --> Conflict window: 2025-08-09 08:40:00 to 2025-08-09 09:40:00
ERROR - 2025-08-09 01:11:00 --> mysqli_sql_exception: Column 'status' in where clause is ambiguous in C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php(327): mysqli->query('SELECT `appoint...', 0)
#1 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT `appoint...')
#2 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT `appoint...')
#3 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT `appoint...', Array, false)
#4 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Model.php(286): CodeIgniter\Database\BaseBuilder->get()
#5 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\BaseModel.php(679): CodeIgniter\Model->doFindAll(0, 0)
#6 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Models\AppointmentModel.php(192): CodeIgniter\BaseModel->findAll(0, 0)
#7 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Models\AppointmentModel.php(459): App\Models\AppointmentModel->findAll()
#8 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Controllers\StaffController.php(112): App\Models\AppointmentModel->checkAppointmentConflicts('2025-08-09', '09:10', '', NULL, '1')
#9 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\CodeIgniter.php(933): App\Controllers\StaffController->checkConflicts()
#10 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\StaffController))
#11 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#12 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Boot.php(334): CodeIgniter\CodeIgniter->run()
#13 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#14 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\public\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#15 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\rewrite.php(44): require_once('C:\\Users\\John b...')
#16 {main}
ERROR - 2025-08-09 01:11:00 --> Staff conflict check error: Column 'status' in where clause is ambiguous
INFO - 2025-08-09 01:11:02 --> AuthFilter: Checking auth for POST http://localhost:8080/admin/appointments/create
DEBUG - 2025-08-09 01:11:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:11:02 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:11:02 --> AuthFilter: Session data = {"__ci_last_regenerate":1754701615,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:11:02 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:11:02 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:11:02 --> Creating scheduled appointment with data: {"branch_id":"1","user_id":"5","dentist_id":null,"appointment_date":"2025-08-09","appointment_time":"09:10","appointment_type":"scheduled","remarks":"e","approval_status":"pending","status":"pending_approval"}
INFO - 2025-08-09 01:11:02 --> Admin-created appointment pending without dentist
INFO - 2025-08-09 01:11:03 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/appointments
DEBUG - 2025-08-09 01:11:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:11:03 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:11:03 --> AuthFilter: Session data = {"__ci_last_regenerate":1754701615,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:11:03 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:11:03 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:11:05 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 01:11:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:11:05 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:11:05 --> AuthFilter: Session data = {"__ci_last_regenerate":1754701615,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:11:05 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:11:05 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:11:36 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 01:11:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:11:36 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:11:36 --> AuthFilter: Session data = {"__ci_last_regenerate":1754701615,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:11:36 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:11:36 --> AuthFilter: All checks passed
DEBUG - 2025-08-09 01:11:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 01:11:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:11:57 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 01:11:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:11:57 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:11:57 --> AuthFilter: Session data = {"__ci_last_regenerate":1754701917,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:11:57 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:11:57 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:11:58 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 01:11:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:11:58 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:11:58 --> AuthFilter: Session data = {"__ci_last_regenerate":1754701917,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:11:58 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:11:58 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:11:59 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 01:11:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:11:59 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:11:59 --> AuthFilter: Session data = {"__ci_last_regenerate":1754701917,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:11:59 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:11:59 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:11:59 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 01:11:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:11:59 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:11:59 --> AuthFilter: Session data = {"__ci_last_regenerate":1754701917,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:11:59 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:11:59 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:12:02 --> AuthFilter: Checking auth for POST http://localhost:8080/admin/appointments/approve/47
DEBUG - 2025-08-09 01:12:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:12:02 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:12:02 --> AuthFilter: Session data = {"__ci_last_regenerate":1754701917,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:12:02 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:12:02 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:12:02 --> Admin approving appointment ID: 47, Dentist ID: null
INFO - 2025-08-09 01:12:02 --> Appointment before approval: {"id":"47","branch_id":"1","dentist_id":null,"user_id":"3","appointment_datetime":"2025-08-09 09:10:00","status":"pending_approval","appointment_type":"scheduled","approval_status":"pending","decline_reason":null,"remarks":"j","created_at":"2025-08-09 01:10:45","updated_at":"2025-08-09 01:10:45","checked_in_at":null,"checked_in_by":null,"self_checkin":"0","started_at":null,"called_by":null,"treatment_status":null,"treatment_notes":null,"payment_status":"pending","payment_method":null,"payment_amount":null,"payment_date":null,"payment_received_by":null,"payment_notes":null,"appointment_date":"2025-08-09","appointment_time":"09:10"}
INFO - 2025-08-09 01:12:02 --> Checking dentist availability for date: 2025-08-09, time: 09:10, branch: 1
INFO - 2025-08-09 01:12:02 --> Found 2 active dentists: ["Dr. John Smith","Dr. Sarah Johnson"]
INFO - 2025-08-09 01:12:02 --> Checking appointment conflicts for date: 2025-08-09, time: 09:10, dentist: 2
INFO - 2025-08-09 01:12:02 --> Conflict window: 2025-08-09 08:40:00 to 2025-08-09 09:40:00
ERROR - 2025-08-09 01:12:02 --> mysqli_sql_exception: Column 'status' in where clause is ambiguous in C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php(327): mysqli->query('SELECT `appoint...', 0)
#1 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT `appoint...')
#2 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT `appoint...')
#3 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT `appoint...', Array, false)
#4 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Model.php(286): CodeIgniter\Database\BaseBuilder->get()
#5 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\BaseModel.php(679): CodeIgniter\Model->doFindAll(0, 0)
#6 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Models\AppointmentModel.php(192): CodeIgniter\BaseModel->findAll(0, 0)
#7 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Models\AppointmentModel.php(459): App\Models\AppointmentModel->findAll()
#8 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Models\AppointmentModel.php(488): App\Models\AppointmentModel->checkAppointmentConflicts('2025-08-09', '09:10', '2')
#9 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Services\AppointmentService.php(146): App\Models\AppointmentModel->getAvailableDentists('2025-08-09', '09:10', '1')
#10 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Controllers\AdminController.php(160): App\Services\AppointmentService->approveAppointment('47', NULL)
#11 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\CodeIgniter.php(933): App\Controllers\AdminController->approveAppointment('47')
#12 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\AdminController))
#13 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#14 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Boot.php(334): CodeIgniter\CodeIgniter->run()
#15 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#16 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\public\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#17 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\rewrite.php(44): require_once('C:\\Users\\John b...')
#18 {main}
ERROR - 2025-08-09 01:12:02 --> Exception in approveAppointment: Column 'status' in where clause is ambiguous
ERROR - 2025-08-09 01:12:02 --> Stack trace: #0 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT `appoint...', Array, false)
#1 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Model.php(286): CodeIgniter\Database\BaseBuilder->get()
#2 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\BaseModel.php(679): CodeIgniter\Model->doFindAll(0, 0)
#3 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Models\AppointmentModel.php(192): CodeIgniter\BaseModel->findAll(0, 0)
#4 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Models\AppointmentModel.php(459): App\Models\AppointmentModel->findAll()
#5 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Models\AppointmentModel.php(488): App\Models\AppointmentModel->checkAppointmentConflicts('2025-08-09', '09:10', '2')
#6 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Services\AppointmentService.php(146): App\Models\AppointmentModel->getAvailableDentists('2025-08-09', '09:10', '1')
#7 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Controllers\AdminController.php(160): App\Services\AppointmentService->approveAppointment('47', NULL)
#8 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\CodeIgniter.php(933): App\Controllers\AdminController->approveAppointment('47')
#9 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\AdminController))
#10 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#11 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Boot.php(334): CodeIgniter\CodeIgniter->run()
#12 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#13 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\public\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#14 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\rewrite.php(44): require_once('C:\\Users\\John b...')
#15 {main}
INFO - 2025-08-09 01:12:02 --> Appointment approval result: {"success":false,"message":"Failed to approve appointment: Column 'status' in where clause is ambiguous"}
INFO - 2025-08-09 01:12:07 --> AuthFilter: Checking auth for POST http://localhost:8080/admin/appointments/approve/46
DEBUG - 2025-08-09 01:12:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:12:07 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:12:07 --> AuthFilter: Session data = {"__ci_last_regenerate":1754701917,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:12:07 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:12:07 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:12:07 --> Admin approving appointment ID: 46, Dentist ID: null
INFO - 2025-08-09 01:12:07 --> Appointment before approval: {"id":"46","branch_id":"1","dentist_id":null,"user_id":"3","appointment_datetime":"2025-08-27 09:09:00","status":"pending_approval","appointment_type":"scheduled","approval_status":"pending","decline_reason":null,"remarks":"z","created_at":"2025-08-09 01:09:32","updated_at":"2025-08-09 01:09:32","checked_in_at":null,"checked_in_by":null,"self_checkin":"0","started_at":null,"called_by":null,"treatment_status":null,"treatment_notes":null,"payment_status":"pending","payment_method":null,"payment_amount":null,"payment_date":null,"payment_received_by":null,"payment_notes":null,"appointment_date":"2025-08-27","appointment_time":"09:09"}
INFO - 2025-08-09 01:12:07 --> Checking dentist availability for date: 2025-08-27, time: 09:09, branch: 1
INFO - 2025-08-09 01:12:07 --> Found 2 active dentists: ["Dr. John Smith","Dr. Sarah Johnson"]
INFO - 2025-08-09 01:12:07 --> Checking appointment conflicts for date: 2025-08-27, time: 09:09, dentist: 2
INFO - 2025-08-09 01:12:07 --> Conflict window: 2025-08-27 08:39:00 to 2025-08-27 09:39:00
ERROR - 2025-08-09 01:12:07 --> mysqli_sql_exception: Column 'status' in where clause is ambiguous in C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php(327): mysqli->query('SELECT `appoint...', 0)
#1 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT `appoint...')
#2 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT `appoint...')
#3 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT `appoint...', Array, false)
#4 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Model.php(286): CodeIgniter\Database\BaseBuilder->get()
#5 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\BaseModel.php(679): CodeIgniter\Model->doFindAll(0, 0)
#6 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Models\AppointmentModel.php(192): CodeIgniter\BaseModel->findAll(0, 0)
#7 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Models\AppointmentModel.php(459): App\Models\AppointmentModel->findAll()
#8 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Models\AppointmentModel.php(488): App\Models\AppointmentModel->checkAppointmentConflicts('2025-08-27', '09:09', '2')
#9 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Services\AppointmentService.php(146): App\Models\AppointmentModel->getAvailableDentists('2025-08-27', '09:09', '1')
#10 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Controllers\AdminController.php(160): App\Services\AppointmentService->approveAppointment('46', NULL)
#11 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\CodeIgniter.php(933): App\Controllers\AdminController->approveAppointment('46')
#12 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\AdminController))
#13 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#14 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Boot.php(334): CodeIgniter\CodeIgniter->run()
#15 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#16 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\public\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#17 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\rewrite.php(44): require_once('C:\\Users\\John b...')
#18 {main}
ERROR - 2025-08-09 01:12:07 --> Exception in approveAppointment: Column 'status' in where clause is ambiguous
ERROR - 2025-08-09 01:12:07 --> Stack trace: #0 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT `appoint...', Array, false)
#1 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Model.php(286): CodeIgniter\Database\BaseBuilder->get()
#2 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\BaseModel.php(679): CodeIgniter\Model->doFindAll(0, 0)
#3 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Models\AppointmentModel.php(192): CodeIgniter\BaseModel->findAll(0, 0)
#4 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Models\AppointmentModel.php(459): App\Models\AppointmentModel->findAll()
#5 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Models\AppointmentModel.php(488): App\Models\AppointmentModel->checkAppointmentConflicts('2025-08-27', '09:09', '2')
#6 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Services\AppointmentService.php(146): App\Models\AppointmentModel->getAvailableDentists('2025-08-27', '09:09', '1')
#7 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Controllers\AdminController.php(160): App\Services\AppointmentService->approveAppointment('46', NULL)
#8 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\CodeIgniter.php(933): App\Controllers\AdminController->approveAppointment('46')
#9 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\AdminController))
#10 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#11 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Boot.php(334): CodeIgniter\CodeIgniter->run()
#12 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#13 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\public\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#14 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\rewrite.php(44): require_once('C:\\Users\\John b...')
#15 {main}
INFO - 2025-08-09 01:12:07 --> Appointment approval result: {"success":false,"message":"Failed to approve appointment: Column 'status' in where clause is ambiguous"}
INFO - 2025-08-09 01:12:21 --> AuthFilter: Checking auth for POST http://localhost:8080/admin/appointments/approve/47
DEBUG - 2025-08-09 01:12:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:12:21 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:12:21 --> AuthFilter: Session data = {"__ci_last_regenerate":1754701917,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:12:21 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:12:21 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:12:21 --> Admin approving appointment ID: 47, Dentist ID: null
INFO - 2025-08-09 01:12:21 --> Appointment before approval: {"id":"47","branch_id":"1","dentist_id":null,"user_id":"3","appointment_datetime":"2025-08-09 09:10:00","status":"pending_approval","appointment_type":"scheduled","approval_status":"pending","decline_reason":null,"remarks":"j","created_at":"2025-08-09 01:10:45","updated_at":"2025-08-09 01:10:45","checked_in_at":null,"checked_in_by":null,"self_checkin":"0","started_at":null,"called_by":null,"treatment_status":null,"treatment_notes":null,"payment_status":"pending","payment_method":null,"payment_amount":null,"payment_date":null,"payment_received_by":null,"payment_notes":null,"appointment_date":"2025-08-09","appointment_time":"09:10"}
INFO - 2025-08-09 01:12:21 --> Checking dentist availability for date: 2025-08-09, time: 09:10, branch: 1
INFO - 2025-08-09 01:12:21 --> Found 2 active dentists: ["Dr. John Smith","Dr. Sarah Johnson"]
INFO - 2025-08-09 01:12:21 --> Checking appointment conflicts for date: 2025-08-09, time: 09:10, dentist: 2
INFO - 2025-08-09 01:12:21 --> Conflict window: 2025-08-09 08:40:00 to 2025-08-09 09:40:00
ERROR - 2025-08-09 01:12:21 --> mysqli_sql_exception: Column 'status' in where clause is ambiguous in C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php(327): mysqli->query('SELECT `appoint...', 0)
#1 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT `appoint...')
#2 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT `appoint...')
#3 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT `appoint...', Array, false)
#4 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Model.php(286): CodeIgniter\Database\BaseBuilder->get()
#5 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\BaseModel.php(679): CodeIgniter\Model->doFindAll(0, 0)
#6 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Models\AppointmentModel.php(192): CodeIgniter\BaseModel->findAll(0, 0)
#7 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Models\AppointmentModel.php(459): App\Models\AppointmentModel->findAll()
#8 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Models\AppointmentModel.php(488): App\Models\AppointmentModel->checkAppointmentConflicts('2025-08-09', '09:10', '2')
#9 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Services\AppointmentService.php(146): App\Models\AppointmentModel->getAvailableDentists('2025-08-09', '09:10', '1')
#10 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Controllers\AdminController.php(160): App\Services\AppointmentService->approveAppointment('47', NULL)
#11 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\CodeIgniter.php(933): App\Controllers\AdminController->approveAppointment('47')
#12 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\AdminController))
#13 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#14 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Boot.php(334): CodeIgniter\CodeIgniter->run()
#15 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#16 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\public\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#17 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\rewrite.php(44): require_once('C:\\Users\\John b...')
#18 {main}
ERROR - 2025-08-09 01:12:21 --> Exception in approveAppointment: Column 'status' in where clause is ambiguous
ERROR - 2025-08-09 01:12:21 --> Stack trace: #0 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT `appoint...', Array, false)
#1 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Model.php(286): CodeIgniter\Database\BaseBuilder->get()
#2 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\BaseModel.php(679): CodeIgniter\Model->doFindAll(0, 0)
#3 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Models\AppointmentModel.php(192): CodeIgniter\BaseModel->findAll(0, 0)
#4 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Models\AppointmentModel.php(459): App\Models\AppointmentModel->findAll()
#5 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Models\AppointmentModel.php(488): App\Models\AppointmentModel->checkAppointmentConflicts('2025-08-09', '09:10', '2')
#6 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Services\AppointmentService.php(146): App\Models\AppointmentModel->getAvailableDentists('2025-08-09', '09:10', '1')
#7 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Controllers\AdminController.php(160): App\Services\AppointmentService->approveAppointment('47', NULL)
#8 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\CodeIgniter.php(933): App\Controllers\AdminController->approveAppointment('47')
#9 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\AdminController))
#10 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#11 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Boot.php(334): CodeIgniter\CodeIgniter->run()
#12 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#13 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\public\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#14 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\rewrite.php(44): require_once('C:\\Users\\John b...')
#15 {main}
INFO - 2025-08-09 01:12:21 --> Appointment approval result: {"success":false,"message":"Failed to approve appointment: Column 'status' in where clause is ambiguous"}
INFO - 2025-08-09 01:12:30 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 01:12:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:12:30 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:12:30 --> AuthFilter: Session data = {"__ci_last_regenerate":1754701917,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:12:30 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:12:30 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:12:40 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/appointments
DEBUG - 2025-08-09 01:12:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:12:40 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:12:40 --> AuthFilter: Session data = {"__ci_last_regenerate":1754701917,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:12:40 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:12:40 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:12:55 --> AuthFilter: Checking auth for POST http://localhost:8080/staff/appointments/checkConflicts
DEBUG - 2025-08-09 01:12:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:12:55 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:12:55 --> AuthFilter: Session data = {"__ci_last_regenerate":1754701917,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:12:55 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:12:55 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:12:55 --> Checking appointment conflicts for date: 2025-08-14, time: 09:12, dentist: 
INFO - 2025-08-09 01:12:55 --> Conflict window: 2025-08-14 08:42:00 to 2025-08-14 09:42:00
ERROR - 2025-08-09 01:12:55 --> mysqli_sql_exception: Column 'status' in where clause is ambiguous in C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php(327): mysqli->query('SELECT `appoint...', 0)
#1 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT `appoint...')
#2 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT `appoint...')
#3 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT `appoint...', Array, false)
#4 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Model.php(286): CodeIgniter\Database\BaseBuilder->get()
#5 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\BaseModel.php(679): CodeIgniter\Model->doFindAll(0, 0)
#6 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Models\AppointmentModel.php(192): CodeIgniter\BaseModel->findAll(0, 0)
#7 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Models\AppointmentModel.php(459): App\Models\AppointmentModel->findAll()
#8 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Controllers\StaffController.php(112): App\Models\AppointmentModel->checkAppointmentConflicts('2025-08-14', '09:12', '', NULL, '1')
#9 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\CodeIgniter.php(933): App\Controllers\StaffController->checkConflicts()
#10 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\StaffController))
#11 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#12 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Boot.php(334): CodeIgniter\CodeIgniter->run()
#13 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#14 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\public\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#15 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\rewrite.php(44): require_once('C:\\Users\\John b...')
#16 {main}
ERROR - 2025-08-09 01:12:55 --> Staff conflict check error: Column 'status' in where clause is ambiguous
INFO - 2025-08-09 01:12:56 --> AuthFilter: Checking auth for POST http://localhost:8080/admin/appointments/create
DEBUG - 2025-08-09 01:12:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:12:56 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:12:56 --> AuthFilter: Session data = {"__ci_last_regenerate":1754701917,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:12:56 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:12:56 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:12:56 --> Creating scheduled appointment with data: {"branch_id":"1","user_id":"3","dentist_id":null,"appointment_date":"2025-08-14","appointment_time":"09:12","appointment_type":"scheduled","remarks":"s","approval_status":"pending","status":"pending_approval"}
INFO - 2025-08-09 01:12:56 --> Admin-created appointment pending without dentist
INFO - 2025-08-09 01:12:56 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/appointments
DEBUG - 2025-08-09 01:12:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:12:56 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:12:56 --> AuthFilter: Session data = {"__ci_last_regenerate":1754701917,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:12:56 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:12:56 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:13:10 --> AuthFilter: Checking auth for POST http://localhost:8080/staff/appointments/checkConflicts
DEBUG - 2025-08-09 01:13:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:13:10 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:13:10 --> AuthFilter: Session data = {"__ci_last_regenerate":1754701917,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:13:10 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:13:10 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:13:10 --> Checking appointment conflicts for date: 2025-08-14, time: 09:13, dentist: 
INFO - 2025-08-09 01:13:10 --> Conflict window: 2025-08-14 08:43:00 to 2025-08-14 09:43:00
ERROR - 2025-08-09 01:13:10 --> mysqli_sql_exception: Column 'status' in where clause is ambiguous in C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php(327): mysqli->query('SELECT `appoint...', 0)
#1 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT `appoint...')
#2 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT `appoint...')
#3 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT `appoint...', Array, false)
#4 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Model.php(286): CodeIgniter\Database\BaseBuilder->get()
#5 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\BaseModel.php(679): CodeIgniter\Model->doFindAll(0, 0)
#6 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Models\AppointmentModel.php(192): CodeIgniter\BaseModel->findAll(0, 0)
#7 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Models\AppointmentModel.php(459): App\Models\AppointmentModel->findAll()
#8 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Controllers\StaffController.php(112): App\Models\AppointmentModel->checkAppointmentConflicts('2025-08-14', '09:13', '', NULL, '1')
#9 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\CodeIgniter.php(933): App\Controllers\StaffController->checkConflicts()
#10 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\StaffController))
#11 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#12 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Boot.php(334): CodeIgniter\CodeIgniter->run()
#13 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#14 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\public\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#15 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\rewrite.php(44): require_once('C:\\Users\\John b...')
#16 {main}
ERROR - 2025-08-09 01:13:10 --> Staff conflict check error: Column 'status' in where clause is ambiguous
INFO - 2025-08-09 01:13:12 --> AuthFilter: Checking auth for POST http://localhost:8080/admin/appointments/create
DEBUG - 2025-08-09 01:13:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:13:12 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:13:12 --> AuthFilter: Session data = {"__ci_last_regenerate":1754701917,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:13:12 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:13:12 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:13:12 --> Creating scheduled appointment with data: {"branch_id":"1","user_id":"5","dentist_id":null,"appointment_date":"2025-08-14","appointment_time":"09:13","appointment_type":"scheduled","remarks":"s","approval_status":"pending","status":"pending_approval"}
INFO - 2025-08-09 01:13:12 --> Admin-created appointment pending without dentist
INFO - 2025-08-09 01:13:12 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/appointments
DEBUG - 2025-08-09 01:13:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:13:12 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:13:12 --> AuthFilter: Session data = {"__ci_last_regenerate":1754701917,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:13:12 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:13:12 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:15:06 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 01:15:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:15:06 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:15:06 --> AuthFilter: Session data = {"__ci_last_regenerate":1754701917,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:15:06 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:15:06 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:15:10 --> AuthFilter: Checking auth for POST http://localhost:8080/admin/appointments/decline/47
DEBUG - 2025-08-09 01:15:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:15:10 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:15:10 --> AuthFilter: Session data = {"__ci_last_regenerate":1754701917,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:15:10 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:15:10 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:15:10 --> Admin declining appointment ID: 47, Reason: s
INFO - 2025-08-09 01:15:10 --> Appointment 47 declined with reason: s
INFO - 2025-08-09 01:15:10 --> Admin declined appointment: Patient ID 3, DateTime: 2025-08-09 09:10:00, Date: 2025-08-09, Time: 09:10
INFO - 2025-08-09 01:15:10 --> Admin decline reason: s
INFO - 2025-08-09 01:15:10 --> Appointment decline result: {"success":true,"message":"Appointment declined and removed successfully"}
INFO - 2025-08-09 01:15:10 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 01:15:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:15:10 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:15:10 --> AuthFilter: Session data = {"__ci_last_regenerate":1754701917,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:15:10 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:15:10 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:15:13 --> AuthFilter: Checking auth for POST http://localhost:8080/admin/appointments/approve/48
DEBUG - 2025-08-09 01:15:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:15:13 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:15:13 --> AuthFilter: Session data = {"__ci_last_regenerate":1754701917,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:15:13 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:15:13 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:15:13 --> Admin approving appointment ID: 48, Dentist ID: null
INFO - 2025-08-09 01:15:13 --> Appointment before approval: {"id":"48","branch_id":"1","dentist_id":null,"user_id":"5","appointment_datetime":"2025-08-09 09:10:00","status":"pending_approval","appointment_type":"scheduled","approval_status":"pending","decline_reason":null,"remarks":"e","created_at":"2025-08-09 01:11:02","updated_at":"2025-08-09 01:11:02","checked_in_at":null,"checked_in_by":null,"self_checkin":"0","started_at":null,"called_by":null,"treatment_status":null,"treatment_notes":null,"payment_status":"pending","payment_method":null,"payment_amount":null,"payment_date":null,"payment_received_by":null,"payment_notes":null,"appointment_date":"2025-08-09","appointment_time":"09:10"}
INFO - 2025-08-09 01:15:13 --> Checking dentist availability for date: 2025-08-09, time: 09:10, branch: 1
INFO - 2025-08-09 01:15:13 --> Found 2 active dentists: ["Dr. John Smith","Dr. Sarah Johnson"]
INFO - 2025-08-09 01:15:13 --> Checking appointment conflicts for date: 2025-08-09, time: 09:10, dentist: 2, branch: 1
INFO - 2025-08-09 01:15:13 --> Conflict window: 2025-08-09 08:40:00 to 2025-08-09 09:40:00
ERROR - 2025-08-09 01:15:13 --> mysqli_sql_exception: Column 'status' in where clause is ambiguous in C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php(327): mysqli->query('SELECT `appoint...', 0)
#1 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT `appoint...')
#2 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT `appoint...')
#3 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT `appoint...', Array, false)
#4 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Model.php(286): CodeIgniter\Database\BaseBuilder->get()
#5 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\BaseModel.php(679): CodeIgniter\Model->doFindAll(0, 0)
#6 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Models\AppointmentModel.php(192): CodeIgniter\BaseModel->findAll(0, 0)
#7 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Models\AppointmentModel.php(464): App\Models\AppointmentModel->findAll()
#8 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Models\AppointmentModel.php(493): App\Models\AppointmentModel->checkAppointmentConflicts('2025-08-09', '09:10', '2', NULL, '1')
#9 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Services\AppointmentService.php(146): App\Models\AppointmentModel->getAvailableDentists('2025-08-09', '09:10', '1')
#10 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Controllers\AdminController.php(160): App\Services\AppointmentService->approveAppointment('48', NULL)
#11 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\CodeIgniter.php(933): App\Controllers\AdminController->approveAppointment('48')
#12 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\AdminController))
#13 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#14 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Boot.php(334): CodeIgniter\CodeIgniter->run()
#15 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#16 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\public\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#17 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\rewrite.php(44): require_once('C:\\Users\\John b...')
#18 {main}
ERROR - 2025-08-09 01:15:13 --> Exception in approveAppointment: Column 'status' in where clause is ambiguous
ERROR - 2025-08-09 01:15:13 --> Stack trace: #0 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT `appoint...', Array, false)
#1 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Model.php(286): CodeIgniter\Database\BaseBuilder->get()
#2 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\BaseModel.php(679): CodeIgniter\Model->doFindAll(0, 0)
#3 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Models\AppointmentModel.php(192): CodeIgniter\BaseModel->findAll(0, 0)
#4 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Models\AppointmentModel.php(464): App\Models\AppointmentModel->findAll()
#5 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Models\AppointmentModel.php(493): App\Models\AppointmentModel->checkAppointmentConflicts('2025-08-09', '09:10', '2', NULL, '1')
#6 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Services\AppointmentService.php(146): App\Models\AppointmentModel->getAvailableDentists('2025-08-09', '09:10', '1')
#7 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Controllers\AdminController.php(160): App\Services\AppointmentService->approveAppointment('48', NULL)
#8 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\CodeIgniter.php(933): App\Controllers\AdminController->approveAppointment('48')
#9 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\AdminController))
#10 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#11 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Boot.php(334): CodeIgniter\CodeIgniter->run()
#12 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#13 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\public\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#14 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\rewrite.php(44): require_once('C:\\Users\\John b...')
#15 {main}
INFO - 2025-08-09 01:15:13 --> Appointment approval result: {"success":false,"message":"Failed to approve appointment: Column 'status' in where clause is ambiguous"}
INFO - 2025-08-09 01:15:20 --> AuthFilter: Checking auth for POST http://localhost:8080/admin/appointments/decline/48
DEBUG - 2025-08-09 01:15:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:15:20 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:15:20 --> AuthFilter: Session data = {"__ci_last_regenerate":1754701917,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:15:20 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:15:20 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:15:21 --> Admin declining appointment ID: 48, Reason: s
INFO - 2025-08-09 01:15:21 --> Appointment 48 declined with reason: s
INFO - 2025-08-09 01:15:21 --> Admin declined appointment: Patient ID 5, DateTime: 2025-08-09 09:10:00, Date: 2025-08-09, Time: 09:10
INFO - 2025-08-09 01:15:21 --> Admin decline reason: s
INFO - 2025-08-09 01:15:21 --> Appointment decline result: {"success":true,"message":"Appointment declined and removed successfully"}
INFO - 2025-08-09 01:15:21 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 01:15:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:15:21 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:15:21 --> AuthFilter: Session data = {"__ci_last_regenerate":1754701917,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:15:21 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:15:21 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:15:23 --> AuthFilter: Checking auth for POST http://localhost:8080/admin/appointments/approve/49
DEBUG - 2025-08-09 01:15:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:15:23 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:15:23 --> AuthFilter: Session data = {"__ci_last_regenerate":1754701917,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:15:23 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:15:23 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:15:23 --> Admin approving appointment ID: 49, Dentist ID: null
INFO - 2025-08-09 01:15:23 --> Appointment before approval: {"id":"49","branch_id":"1","dentist_id":null,"user_id":"3","appointment_datetime":"2025-08-14 09:12:00","status":"pending_approval","appointment_type":"scheduled","approval_status":"pending","decline_reason":null,"remarks":"s","created_at":"2025-08-09 01:12:56","updated_at":"2025-08-09 01:12:56","checked_in_at":null,"checked_in_by":null,"self_checkin":"0","started_at":null,"called_by":null,"treatment_status":null,"treatment_notes":null,"payment_status":"pending","payment_method":null,"payment_amount":null,"payment_date":null,"payment_received_by":null,"payment_notes":null,"appointment_date":"2025-08-14","appointment_time":"09:12"}
INFO - 2025-08-09 01:15:23 --> Checking dentist availability for date: 2025-08-14, time: 09:12, branch: 1
INFO - 2025-08-09 01:15:23 --> Found 2 active dentists: ["Dr. John Smith","Dr. Sarah Johnson"]
INFO - 2025-08-09 01:15:23 --> Checking appointment conflicts for date: 2025-08-14, time: 09:12, dentist: 2, branch: 1
INFO - 2025-08-09 01:15:23 --> Conflict window: 2025-08-14 08:42:00 to 2025-08-14 09:42:00
ERROR - 2025-08-09 01:15:23 --> mysqli_sql_exception: Column 'status' in where clause is ambiguous in C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php(327): mysqli->query('SELECT `appoint...', 0)
#1 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT `appoint...')
#2 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT `appoint...')
#3 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT `appoint...', Array, false)
#4 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Model.php(286): CodeIgniter\Database\BaseBuilder->get()
#5 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\BaseModel.php(679): CodeIgniter\Model->doFindAll(0, 0)
#6 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Models\AppointmentModel.php(192): CodeIgniter\BaseModel->findAll(0, 0)
#7 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Models\AppointmentModel.php(464): App\Models\AppointmentModel->findAll()
#8 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Models\AppointmentModel.php(493): App\Models\AppointmentModel->checkAppointmentConflicts('2025-08-14', '09:12', '2', NULL, '1')
#9 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Services\AppointmentService.php(146): App\Models\AppointmentModel->getAvailableDentists('2025-08-14', '09:12', '1')
#10 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Controllers\AdminController.php(160): App\Services\AppointmentService->approveAppointment('49', NULL)
#11 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\CodeIgniter.php(933): App\Controllers\AdminController->approveAppointment('49')
#12 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\AdminController))
#13 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#14 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Boot.php(334): CodeIgniter\CodeIgniter->run()
#15 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#16 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\public\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#17 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\rewrite.php(44): require_once('C:\\Users\\John b...')
#18 {main}
ERROR - 2025-08-09 01:15:23 --> Exception in approveAppointment: Column 'status' in where clause is ambiguous
ERROR - 2025-08-09 01:15:23 --> Stack trace: #0 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT `appoint...', Array, false)
#1 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Model.php(286): CodeIgniter\Database\BaseBuilder->get()
#2 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\BaseModel.php(679): CodeIgniter\Model->doFindAll(0, 0)
#3 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Models\AppointmentModel.php(192): CodeIgniter\BaseModel->findAll(0, 0)
#4 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Models\AppointmentModel.php(464): App\Models\AppointmentModel->findAll()
#5 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Models\AppointmentModel.php(493): App\Models\AppointmentModel->checkAppointmentConflicts('2025-08-14', '09:12', '2', NULL, '1')
#6 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Services\AppointmentService.php(146): App\Models\AppointmentModel->getAvailableDentists('2025-08-14', '09:12', '1')
#7 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Controllers\AdminController.php(160): App\Services\AppointmentService->approveAppointment('49', NULL)
#8 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\CodeIgniter.php(933): App\Controllers\AdminController->approveAppointment('49')
#9 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\AdminController))
#10 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#11 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Boot.php(334): CodeIgniter\CodeIgniter->run()
#12 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#13 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\public\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#14 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\rewrite.php(44): require_once('C:\\Users\\John b...')
#15 {main}
INFO - 2025-08-09 01:15:23 --> Appointment approval result: {"success":false,"message":"Failed to approve appointment: Column 'status' in where clause is ambiguous"}
INFO - 2025-08-09 01:19:51 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 01:19:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:19:51 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:19:51 --> AuthFilter: Session data = {"__ci_last_regenerate":1754702391,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:19:51 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:19:51 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:19:54 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/appointments
DEBUG - 2025-08-09 01:19:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:19:54 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:19:54 --> AuthFilter: Session data = {"__ci_last_regenerate":1754702391,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:19:54 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:19:54 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:20:06 --> AuthFilter: Checking auth for POST http://localhost:8080/staff/appointments/checkConflicts
DEBUG - 2025-08-09 01:20:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:20:06 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:20:06 --> AuthFilter: Session data = {"__ci_last_regenerate":1754702391,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:20:06 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:20:06 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:20:06 --> Checking appointment conflicts for date: 2025-08-14, time: 09:20, dentist: , branch: 1
INFO - 2025-08-09 01:20:06 --> Conflict window: 2025-08-14 08:50:00 to 2025-08-14 09:50:00
ERROR - 2025-08-09 01:20:06 --> mysqli_sql_exception: Column 'status' in where clause is ambiguous in C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php(327): mysqli->query('SELECT `appoint...', 0)
#1 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT `appoint...')
#2 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT `appoint...')
#3 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT `appoint...', Array, false)
#4 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Model.php(286): CodeIgniter\Database\BaseBuilder->get()
#5 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\BaseModel.php(679): CodeIgniter\Model->doFindAll(0, 0)
#6 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Models\AppointmentModel.php(192): CodeIgniter\BaseModel->findAll(0, 0)
#7 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Models\AppointmentModel.php(464): App\Models\AppointmentModel->findAll()
#8 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Controllers\StaffController.php(112): App\Models\AppointmentModel->checkAppointmentConflicts('2025-08-14', '09:20', '', NULL, '1')
#9 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\CodeIgniter.php(933): App\Controllers\StaffController->checkConflicts()
#10 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\StaffController))
#11 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#12 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Boot.php(334): CodeIgniter\CodeIgniter->run()
#13 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#14 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\public\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#15 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\rewrite.php(44): require_once('C:\\Users\\John b...')
#16 {main}
ERROR - 2025-08-09 01:20:06 --> Staff conflict check error: Column 'status' in where clause is ambiguous
INFO - 2025-08-09 01:20:08 --> AuthFilter: Checking auth for POST http://localhost:8080/admin/appointments/create
DEBUG - 2025-08-09 01:20:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:20:08 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:20:08 --> AuthFilter: Session data = {"__ci_last_regenerate":1754702391,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:20:08 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:20:08 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:20:08 --> Creating scheduled appointment with data: {"branch_id":"1","user_id":"3","dentist_id":null,"appointment_date":"2025-08-14","appointment_time":"09:20","appointment_type":"scheduled","remarks":"s","approval_status":"pending","status":"pending_approval"}
INFO - 2025-08-09 01:20:08 --> Admin-created appointment pending without dentist
INFO - 2025-08-09 01:20:08 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/appointments
DEBUG - 2025-08-09 01:20:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:20:08 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:20:08 --> AuthFilter: Session data = {"__ci_last_regenerate":1754702391,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:20:08 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:20:08 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:20:22 --> AuthFilter: Checking auth for POST http://localhost:8080/staff/appointments/checkConflicts
DEBUG - 2025-08-09 01:20:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:20:22 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:20:22 --> AuthFilter: Session data = {"__ci_last_regenerate":1754702391,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:20:22 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:20:22 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:20:22 --> Checking appointment conflicts for date: 2025-08-14, time: 09:20, dentist: , branch: 1
INFO - 2025-08-09 01:20:22 --> Conflict window: 2025-08-14 08:50:00 to 2025-08-14 09:50:00
ERROR - 2025-08-09 01:20:22 --> mysqli_sql_exception: Column 'status' in where clause is ambiguous in C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php(327): mysqli->query('SELECT `appoint...', 0)
#1 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT `appoint...')
#2 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT `appoint...')
#3 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT `appoint...', Array, false)
#4 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Model.php(286): CodeIgniter\Database\BaseBuilder->get()
#5 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\BaseModel.php(679): CodeIgniter\Model->doFindAll(0, 0)
#6 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Models\AppointmentModel.php(192): CodeIgniter\BaseModel->findAll(0, 0)
#7 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Models\AppointmentModel.php(464): App\Models\AppointmentModel->findAll()
#8 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Controllers\StaffController.php(112): App\Models\AppointmentModel->checkAppointmentConflicts('2025-08-14', '09:20', '', NULL, '1')
#9 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\CodeIgniter.php(933): App\Controllers\StaffController->checkConflicts()
#10 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\StaffController))
#11 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#12 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Boot.php(334): CodeIgniter\CodeIgniter->run()
#13 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#14 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\public\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#15 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\rewrite.php(44): require_once('C:\\Users\\John b...')
#16 {main}
ERROR - 2025-08-09 01:20:22 --> Staff conflict check error: Column 'status' in where clause is ambiguous
INFO - 2025-08-09 01:20:24 --> AuthFilter: Checking auth for POST http://localhost:8080/admin/appointments/create
DEBUG - 2025-08-09 01:20:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:20:24 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:20:24 --> AuthFilter: Session data = {"__ci_last_regenerate":1754702391,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:20:24 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:20:24 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:20:24 --> Creating scheduled appointment with data: {"branch_id":"1","user_id":"13","dentist_id":null,"appointment_date":"2025-08-14","appointment_time":"09:20","appointment_type":"scheduled","remarks":"sds","approval_status":"pending","status":"pending_approval"}
INFO - 2025-08-09 01:20:24 --> Admin-created appointment pending without dentist
INFO - 2025-08-09 01:20:25 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/appointments
DEBUG - 2025-08-09 01:20:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:20:25 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:20:25 --> AuthFilter: Session data = {"__ci_last_regenerate":1754702391,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:20:25 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:20:25 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:20:27 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 01:20:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:20:27 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:20:27 --> AuthFilter: Session data = {"__ci_last_regenerate":1754702391,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:20:27 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:20:27 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:20:58 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 01:20:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:20:58 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:20:58 --> AuthFilter: Session data = {"__ci_last_regenerate":1754702391,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:20:58 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:20:58 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:21:29 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 01:21:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:21:29 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:21:29 --> AuthFilter: Session data = {"__ci_last_regenerate":1754702391,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:21:29 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:21:29 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:22:00 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 01:22:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:22:00 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:22:00 --> AuthFilter: Session data = {"__ci_last_regenerate":1754702391,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:22:00 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:22:00 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:22:31 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 01:22:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:22:31 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:22:31 --> AuthFilter: Session data = {"__ci_last_regenerate":1754702391,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:22:31 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:22:31 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:23:02 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 01:23:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:23:02 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:23:02 --> AuthFilter: Session data = {"__ci_last_regenerate":1754702391,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:23:02 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:23:02 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:23:33 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 01:23:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:23:33 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:23:33 --> AuthFilter: Session data = {"__ci_last_regenerate":1754702391,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:23:33 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:23:33 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:24:04 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 01:24:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:24:04 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:24:04 --> AuthFilter: Session data = {"__ci_last_regenerate":1754702391,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:24:04 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:24:04 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:24:35 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 01:24:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:24:35 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:24:35 --> AuthFilter: Session data = {"__ci_last_regenerate":1754702391,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:24:35 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:24:35 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:25:06 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 01:25:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:25:06 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:25:06 --> AuthFilter: Session data = {"__ci_last_regenerate":1754702706,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:25:06 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:25:06 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:25:37 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 01:25:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:25:37 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:25:37 --> AuthFilter: Session data = {"__ci_last_regenerate":1754702706,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:25:37 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:25:37 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:26:08 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 01:26:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:26:08 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:26:08 --> AuthFilter: Session data = {"__ci_last_regenerate":1754702706,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:26:08 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:26:08 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:26:18 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 01:26:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:26:18 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:26:18 --> AuthFilter: Session data = {"__ci_last_regenerate":1754702706,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:26:18 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:26:18 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:26:19 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 01:26:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:26:19 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:26:19 --> AuthFilter: Session data = {"__ci_last_regenerate":1754702706,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:26:19 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:26:19 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:26:20 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/appointments
DEBUG - 2025-08-09 01:26:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:26:20 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:26:20 --> AuthFilter: Session data = {"__ci_last_regenerate":1754702706,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:26:20 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:26:20 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:26:33 --> AuthFilter: Checking auth for POST http://localhost:8080/staff/appointments/checkConflicts
DEBUG - 2025-08-09 01:26:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:26:33 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:26:33 --> AuthFilter: Session data = {"__ci_last_regenerate":1754702706,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:26:33 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:26:33 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:26:33 --> Checking appointment conflicts for date: 2025-08-14, time: 09:20, dentist: , branch: 1
INFO - 2025-08-09 01:26:33 --> Conflict window: 2025-08-14 08:50:00 to 2025-08-14 09:50:00
ERROR - 2025-08-09 01:26:33 --> mysqli_sql_exception: Column 'status' in where clause is ambiguous in C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php(327): mysqli->query('SELECT `appoint...', 0)
#1 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT `appoint...')
#2 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT `appoint...')
#3 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT `appoint...', Array, false)
#4 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Model.php(286): CodeIgniter\Database\BaseBuilder->get()
#5 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\BaseModel.php(679): CodeIgniter\Model->doFindAll(0, 0)
#6 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Models\AppointmentModel.php(192): CodeIgniter\BaseModel->findAll(0, 0)
#7 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Models\AppointmentModel.php(467): App\Models\AppointmentModel->findAll()
#8 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Controllers\StaffController.php(112): App\Models\AppointmentModel->checkAppointmentConflicts('2025-08-14', '09:20', '', NULL, '1')
#9 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\CodeIgniter.php(933): App\Controllers\StaffController->checkConflicts()
#10 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\StaffController))
#11 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#12 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Boot.php(334): CodeIgniter\CodeIgniter->run()
#13 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#14 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\public\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#15 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\rewrite.php(44): require_once('C:\\Users\\John b...')
#16 {main}
ERROR - 2025-08-09 01:26:33 --> Staff conflict check error: Column 'status' in where clause is ambiguous
INFO - 2025-08-09 01:26:35 --> AuthFilter: Checking auth for POST http://localhost:8080/admin/appointments/create
DEBUG - 2025-08-09 01:26:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:26:35 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:26:35 --> AuthFilter: Session data = {"__ci_last_regenerate":1754702706,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:26:35 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:26:35 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:26:35 --> Creating scheduled appointment with data: {"branch_id":"1","user_id":"3","dentist_id":null,"appointment_date":"2025-08-14","appointment_time":"09:20","appointment_type":"scheduled","remarks":"z","approval_status":"pending","status":"pending_approval"}
INFO - 2025-08-09 01:26:35 --> Admin-created appointment pending without dentist
INFO - 2025-08-09 01:26:35 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/appointments
DEBUG - 2025-08-09 01:26:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:26:35 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:26:35 --> AuthFilter: Session data = {"__ci_last_regenerate":1754702706,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:26:35 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:26:35 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:26:55 --> AuthFilter: Checking auth for POST http://localhost:8080/staff/appointments/checkConflicts
DEBUG - 2025-08-09 01:26:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:26:55 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:26:55 --> AuthFilter: Session data = {"__ci_last_regenerate":1754702706,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:26:55 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:26:55 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:26:55 --> Checking appointment conflicts for date: 2025-08-14, time: 09:20, dentist: , branch: 1
INFO - 2025-08-09 01:26:55 --> Conflict window: 2025-08-14 08:50:00 to 2025-08-14 09:50:00
ERROR - 2025-08-09 01:26:55 --> mysqli_sql_exception: Column 'status' in where clause is ambiguous in C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php(327): mysqli->query('SELECT `appoint...', 0)
#1 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT `appoint...')
#2 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT `appoint...')
#3 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT `appoint...', Array, false)
#4 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Model.php(286): CodeIgniter\Database\BaseBuilder->get()
#5 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\BaseModel.php(679): CodeIgniter\Model->doFindAll(0, 0)
#6 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Models\AppointmentModel.php(192): CodeIgniter\BaseModel->findAll(0, 0)
#7 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Models\AppointmentModel.php(467): App\Models\AppointmentModel->findAll()
#8 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Controllers\StaffController.php(112): App\Models\AppointmentModel->checkAppointmentConflicts('2025-08-14', '09:20', '', NULL, '1')
#9 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\CodeIgniter.php(933): App\Controllers\StaffController->checkConflicts()
#10 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\StaffController))
#11 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#12 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Boot.php(334): CodeIgniter\CodeIgniter->run()
#13 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#14 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\public\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#15 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\rewrite.php(44): require_once('C:\\Users\\John b...')
#16 {main}
ERROR - 2025-08-09 01:26:55 --> Staff conflict check error: Column 'status' in where clause is ambiguous
INFO - 2025-08-09 01:26:58 --> AuthFilter: Checking auth for POST http://localhost:8080/admin/appointments/create
DEBUG - 2025-08-09 01:26:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:26:58 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:26:58 --> AuthFilter: Session data = {"__ci_last_regenerate":1754702706,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:26:58 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:26:58 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:26:58 --> Creating scheduled appointment with data: {"branch_id":"1","user_id":"5","dentist_id":null,"appointment_date":"2025-08-14","appointment_time":"09:20","appointment_type":"scheduled","remarks":"z","approval_status":"pending","status":"pending_approval"}
INFO - 2025-08-09 01:26:58 --> Admin-created appointment pending without dentist
INFO - 2025-08-09 01:26:59 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/appointments
DEBUG - 2025-08-09 01:26:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:26:59 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:26:59 --> AuthFilter: Session data = {"__ci_last_regenerate":1754702706,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:26:59 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:26:59 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:28:30 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 01:28:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:28:30 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:28:30 --> AuthFilter: Session data = {"__ci_last_regenerate":1754702706,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:28:30 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:28:30 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:28:33 --> AuthFilter: Checking auth for POST http://localhost:8080/admin/appointments/decline/49
DEBUG - 2025-08-09 01:28:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:28:33 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:28:33 --> AuthFilter: Session data = {"__ci_last_regenerate":1754702706,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:28:33 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:28:33 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:28:33 --> Admin declining appointment ID: 49, Reason: d
INFO - 2025-08-09 01:28:33 --> Appointment 49 declined with reason: d
INFO - 2025-08-09 01:28:33 --> Admin declined appointment: Patient ID 3, DateTime: 2025-08-14 09:12:00, Date: 2025-08-14, Time: 09:12
INFO - 2025-08-09 01:28:33 --> Admin decline reason: d
INFO - 2025-08-09 01:28:33 --> Appointment decline result: {"success":true,"message":"Appointment declined and removed successfully"}
INFO - 2025-08-09 01:28:33 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 01:28:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:28:33 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:28:33 --> AuthFilter: Session data = {"__ci_last_regenerate":1754702706,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:28:33 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:28:33 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:28:36 --> AuthFilter: Checking auth for POST http://localhost:8080/admin/appointments/decline/50
DEBUG - 2025-08-09 01:28:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:28:36 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:28:36 --> AuthFilter: Session data = {"__ci_last_regenerate":1754702706,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:28:36 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:28:36 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:28:36 --> Admin declining appointment ID: 50, Reason: d
INFO - 2025-08-09 01:28:36 --> Appointment 50 declined with reason: d
INFO - 2025-08-09 01:28:36 --> Admin declined appointment: Patient ID 5, DateTime: 2025-08-14 09:13:00, Date: 2025-08-14, Time: 09:13
INFO - 2025-08-09 01:28:36 --> Admin decline reason: d
INFO - 2025-08-09 01:28:36 --> Appointment decline result: {"success":true,"message":"Appointment declined and removed successfully"}
INFO - 2025-08-09 01:28:37 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 01:28:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:28:37 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:28:37 --> AuthFilter: Session data = {"__ci_last_regenerate":1754702706,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:28:37 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:28:37 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:28:39 --> AuthFilter: Checking auth for POST http://localhost:8080/admin/appointments/decline/51
DEBUG - 2025-08-09 01:28:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:28:39 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:28:39 --> AuthFilter: Session data = {"__ci_last_regenerate":1754702706,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:28:39 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:28:39 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:28:39 --> Admin declining appointment ID: 51, Reason: d
INFO - 2025-08-09 01:28:39 --> Appointment 51 declined with reason: d
INFO - 2025-08-09 01:28:39 --> Admin declined appointment: Patient ID 3, DateTime: 2025-08-14 09:20:00, Date: 2025-08-14, Time: 09:20
INFO - 2025-08-09 01:28:39 --> Admin decline reason: d
INFO - 2025-08-09 01:28:39 --> Appointment decline result: {"success":true,"message":"Appointment declined and removed successfully"}
INFO - 2025-08-09 01:28:40 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 01:28:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:28:40 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:28:40 --> AuthFilter: Session data = {"__ci_last_regenerate":1754702706,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:28:40 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:28:40 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:28:43 --> AuthFilter: Checking auth for POST http://localhost:8080/admin/appointments/decline/53
DEBUG - 2025-08-09 01:28:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:28:43 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:28:43 --> AuthFilter: Session data = {"__ci_last_regenerate":1754702706,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:28:43 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:28:43 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:28:43 --> Admin declining appointment ID: 53, Reason: d
INFO - 2025-08-09 01:28:43 --> Appointment 53 declined with reason: d
INFO - 2025-08-09 01:28:43 --> Admin declined appointment: Patient ID 3, DateTime: 2025-08-14 09:20:00, Date: 2025-08-14, Time: 09:20
INFO - 2025-08-09 01:28:43 --> Admin decline reason: d
INFO - 2025-08-09 01:28:43 --> Appointment decline result: {"success":true,"message":"Appointment declined and removed successfully"}
INFO - 2025-08-09 01:28:44 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 01:28:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:28:44 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:28:44 --> AuthFilter: Session data = {"__ci_last_regenerate":1754702706,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:28:44 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:28:44 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:28:47 --> AuthFilter: Checking auth for POST http://localhost:8080/admin/appointments/decline/54
DEBUG - 2025-08-09 01:28:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:28:47 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:28:47 --> AuthFilter: Session data = {"__ci_last_regenerate":1754702706,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:28:47 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:28:47 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:28:47 --> Admin declining appointment ID: 54, Reason: d
INFO - 2025-08-09 01:28:47 --> Appointment 54 declined with reason: d
INFO - 2025-08-09 01:28:48 --> Admin declined appointment: Patient ID 5, DateTime: 2025-08-14 09:20:00, Date: 2025-08-14, Time: 09:20
INFO - 2025-08-09 01:28:48 --> Admin decline reason: d
INFO - 2025-08-09 01:28:48 --> Appointment decline result: {"success":true,"message":"Appointment declined and removed successfully"}
INFO - 2025-08-09 01:28:48 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 01:28:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:28:48 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:28:48 --> AuthFilter: Session data = {"__ci_last_regenerate":1754702706,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:28:48 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:28:48 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:28:51 --> AuthFilter: Checking auth for POST http://localhost:8080/admin/appointments/decline/52
DEBUG - 2025-08-09 01:28:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:28:51 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:28:51 --> AuthFilter: Session data = {"__ci_last_regenerate":1754702706,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:28:51 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:28:51 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:28:51 --> Admin declining appointment ID: 52, Reason: d
INFO - 2025-08-09 01:28:51 --> Appointment 52 declined with reason: d
INFO - 2025-08-09 01:28:51 --> Admin declined appointment: Patient ID 13, DateTime: 2025-08-14 09:20:00, Date: 2025-08-14, Time: 09:20
INFO - 2025-08-09 01:28:51 --> Admin decline reason: d
INFO - 2025-08-09 01:28:51 --> Appointment decline result: {"success":true,"message":"Appointment declined and removed successfully"}
INFO - 2025-08-09 01:28:51 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 01:28:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:28:51 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:28:51 --> AuthFilter: Session data = {"__ci_last_regenerate":1754702706,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:28:51 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:28:51 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:28:56 --> AuthFilter: Checking auth for POST http://localhost:8080/admin/appointments/decline/45
DEBUG - 2025-08-09 01:28:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:28:56 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:28:56 --> AuthFilter: Session data = {"__ci_last_regenerate":1754702706,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:28:56 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:28:56 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:28:56 --> Admin declining appointment ID: 45, Reason: d
INFO - 2025-08-09 01:28:56 --> Appointment 45 declined with reason: d
INFO - 2025-08-09 01:28:56 --> Admin declined appointment: Patient ID 12, DateTime: 2025-08-20 09:09:00, Date: 2025-08-20, Time: 09:09
INFO - 2025-08-09 01:28:56 --> Admin decline reason: d
INFO - 2025-08-09 01:28:56 --> Appointment decline result: {"success":true,"message":"Appointment declined and removed successfully"}
INFO - 2025-08-09 01:28:57 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 01:28:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:28:57 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:28:57 --> AuthFilter: Session data = {"__ci_last_regenerate":1754702706,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:28:57 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:28:57 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:28:59 --> AuthFilter: Checking auth for POST http://localhost:8080/admin/appointments/decline/46
DEBUG - 2025-08-09 01:28:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:28:59 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:28:59 --> AuthFilter: Session data = {"__ci_last_regenerate":1754702706,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:28:59 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:28:59 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:28:59 --> Admin declining appointment ID: 46, Reason: d
INFO - 2025-08-09 01:28:59 --> Appointment 46 declined with reason: d
INFO - 2025-08-09 01:28:59 --> Admin declined appointment: Patient ID 3, DateTime: 2025-08-27 09:09:00, Date: 2025-08-27, Time: 09:09
INFO - 2025-08-09 01:28:59 --> Admin decline reason: d
INFO - 2025-08-09 01:28:59 --> Appointment decline result: {"success":true,"message":"Appointment declined and removed successfully"}
INFO - 2025-08-09 01:28:59 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 01:28:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:28:59 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:28:59 --> AuthFilter: Session data = {"__ci_last_regenerate":1754702706,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:28:59 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:28:59 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:29:01 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/appointments
DEBUG - 2025-08-09 01:29:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:29:01 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:29:01 --> AuthFilter: Session data = {"__ci_last_regenerate":1754702706,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:29:01 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:29:01 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:45:01 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/appointments
DEBUG - 2025-08-09 01:45:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:45:01 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:45:01 --> AuthFilter: Session data = {"__ci_last_regenerate":1754703901,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:45:01 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:45:01 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:45:02 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/appointments
DEBUG - 2025-08-09 01:45:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:45:02 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:45:02 --> AuthFilter: Session data = {"__ci_last_regenerate":1754703901,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:45:02 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:45:02 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:45:32 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 01:45:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:45:32 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:45:32 --> AuthFilter: Session data = {"__ci_last_regenerate":1754703901,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:45:32 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:45:32 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:46:03 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 01:46:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:46:03 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:46:03 --> AuthFilter: Session data = {"__ci_last_regenerate":1754703901,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:46:03 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:46:03 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:46:34 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 01:46:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:46:34 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:46:34 --> AuthFilter: Session data = {"__ci_last_regenerate":1754703901,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:46:34 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:46:34 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:47:05 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 01:47:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:47:05 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:47:05 --> AuthFilter: Session data = {"__ci_last_regenerate":1754703901,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:47:05 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:47:05 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:47:36 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 01:47:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:47:36 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:47:36 --> AuthFilter: Session data = {"__ci_last_regenerate":1754703901,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:47:36 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:47:36 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:48:07 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 01:48:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:48:07 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:48:07 --> AuthFilter: Session data = {"__ci_last_regenerate":1754703901,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:48:07 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:48:07 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:48:38 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 01:48:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:48:38 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:48:38 --> AuthFilter: Session data = {"__ci_last_regenerate":1754703901,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:48:38 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:48:38 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:49:09 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 01:49:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:49:09 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:49:09 --> AuthFilter: Session data = {"__ci_last_regenerate":1754703901,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:49:09 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:49:09 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:49:39 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 01:49:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:49:39 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:49:39 --> AuthFilter: Session data = {"__ci_last_regenerate":1754703901,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:49:39 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:49:39 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:49:40 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 01:49:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:49:40 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:49:40 --> AuthFilter: Session data = {"__ci_last_regenerate":1754703901,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:49:40 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:49:40 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:49:41 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/appointments
DEBUG - 2025-08-09 01:49:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:49:41 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:49:41 --> AuthFilter: Session data = {"__ci_last_regenerate":1754703901,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:49:41 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:49:41 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:50:04 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/appointments
DEBUG - 2025-08-09 01:50:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:50:04 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:50:04 --> AuthFilter: Session data = {"__ci_last_regenerate":1754704204,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:50:04 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:50:04 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:50:19 --> AuthFilter: Checking auth for POST http://localhost:8080/staff/appointments/check-conflicts
DEBUG - 2025-08-09 01:50:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:50:19 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:50:19 --> AuthFilter: Session data = {"__ci_last_regenerate":1754704204,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:50:19 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:50:19 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:50:19 --> AuthFilter: Checking auth for POST http://localhost:8080/admin/appointments/create
DEBUG - 2025-08-09 01:50:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:50:19 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:50:19 --> AuthFilter: Session data = {"__ci_last_regenerate":1754704204,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:50:20 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:50:20 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:50:20 --> Creating scheduled appointment with data: {"branch_id":"1","user_id":"13","dentist_id":null,"appointment_date":"2025-08-14","appointment_time":"09:50","appointment_type":"scheduled","remarks":"w","approval_status":"pending","status":"pending_approval"}
INFO - 2025-08-09 01:50:20 --> Admin-created appointment pending without dentist
INFO - 2025-08-09 01:50:20 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/appointments
DEBUG - 2025-08-09 01:50:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:50:20 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:50:20 --> AuthFilter: Session data = {"__ci_last_regenerate":1754704204,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:50:20 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:50:20 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:50:24 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 01:50:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:50:24 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:50:24 --> AuthFilter: Session data = {"__ci_last_regenerate":1754704204,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:50:24 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:50:24 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:50:29 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/appointments
DEBUG - 2025-08-09 01:50:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:50:29 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:50:29 --> AuthFilter: Session data = {"__ci_last_regenerate":1754704204,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:50:29 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:50:29 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:50:41 --> AuthFilter: Checking auth for POST http://localhost:8080/staff/appointments/check-conflicts
DEBUG - 2025-08-09 01:50:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:50:41 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:50:41 --> AuthFilter: Session data = {"__ci_last_regenerate":1754704204,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:50:41 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:50:41 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:50:42 --> AuthFilter: Checking auth for POST http://localhost:8080/admin/appointments/create
DEBUG - 2025-08-09 01:50:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:50:42 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:50:42 --> AuthFilter: Session data = {"__ci_last_regenerate":1754704204,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:50:42 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:50:42 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:50:42 --> Creating scheduled appointment with data: {"branch_id":"1","user_id":"12","dentist_id":null,"appointment_date":"2025-08-14","appointment_time":"09:50","appointment_type":"scheduled","remarks":"w","approval_status":"pending","status":"pending_approval"}
INFO - 2025-08-09 01:50:42 --> Admin-created appointment pending without dentist
INFO - 2025-08-09 01:50:42 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/appointments
DEBUG - 2025-08-09 01:50:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:50:42 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:50:42 --> AuthFilter: Session data = {"__ci_last_regenerate":1754704204,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:50:42 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:50:42 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:50:45 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 01:50:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:50:45 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:50:45 --> AuthFilter: Session data = {"__ci_last_regenerate":1754704204,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:50:45 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:50:45 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:51:16 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 01:51:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:51:16 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:51:16 --> AuthFilter: Session data = {"__ci_last_regenerate":1754704204,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:51:16 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:51:16 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:51:47 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 01:51:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:51:47 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:51:47 --> AuthFilter: Session data = {"__ci_last_regenerate":1754704204,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:51:47 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:51:47 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:52:18 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 01:52:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:52:18 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:52:18 --> AuthFilter: Session data = {"__ci_last_regenerate":1754704204,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:52:18 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:52:18 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:52:49 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 01:52:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:52:49 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:52:49 --> AuthFilter: Session data = {"__ci_last_regenerate":1754704204,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:52:49 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:52:49 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:53:20 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 01:53:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:53:20 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:53:20 --> AuthFilter: Session data = {"__ci_last_regenerate":1754704204,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:53:20 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:53:20 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:53:51 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 01:53:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:53:51 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:53:51 --> AuthFilter: Session data = {"__ci_last_regenerate":1754704204,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:53:51 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:53:51 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:54:22 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 01:54:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:54:22 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:54:22 --> AuthFilter: Session data = {"__ci_last_regenerate":1754704204,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:54:22 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:54:22 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:54:53 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 01:54:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:54:53 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:54:53 --> AuthFilter: Session data = {"__ci_last_regenerate":1754704204,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:54:53 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:54:53 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:55:24 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 01:55:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:55:24 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:55:24 --> AuthFilter: Session data = {"__ci_last_regenerate":1754704524,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:55:24 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:55:24 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:55:55 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 01:55:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:55:55 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:55:55 --> AuthFilter: Session data = {"__ci_last_regenerate":1754704524,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:55:55 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:55:55 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:56:26 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 01:56:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:56:26 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:56:26 --> AuthFilter: Session data = {"__ci_last_regenerate":1754704524,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:56:26 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:56:26 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:56:57 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 01:56:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:56:57 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:56:57 --> AuthFilter: Session data = {"__ci_last_regenerate":1754704524,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:56:57 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:56:57 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:57:28 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 01:57:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:57:28 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:57:28 --> AuthFilter: Session data = {"__ci_last_regenerate":1754704524,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:57:28 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:57:28 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:57:59 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 01:57:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:57:59 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:57:59 --> AuthFilter: Session data = {"__ci_last_regenerate":1754704524,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:57:59 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:57:59 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:58:30 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 01:58:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:58:30 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:58:30 --> AuthFilter: Session data = {"__ci_last_regenerate":1754704524,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:58:30 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:58:30 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:59:01 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 01:59:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:59:01 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:59:01 --> AuthFilter: Session data = {"__ci_last_regenerate":1754704524,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:59:01 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:59:01 --> AuthFilter: All checks passed
INFO - 2025-08-09 01:59:32 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 01:59:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 01:59:32 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 01:59:32 --> AuthFilter: Session data = {"__ci_last_regenerate":1754704524,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 01:59:32 --> AuthFilter: User is authenticated
INFO - 2025-08-09 01:59:32 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:00:03 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 02:00:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:00:03 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:00:03 --> AuthFilter: Session data = {"__ci_last_regenerate":1754704524,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:00:03 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:00:03 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:00:34 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 02:00:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:00:34 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:00:34 --> AuthFilter: Session data = {"__ci_last_regenerate":1754704834,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:00:34 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:00:34 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:01:05 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 02:01:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:01:05 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:01:05 --> AuthFilter: Session data = {"__ci_last_regenerate":1754704834,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:01:05 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:01:05 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:01:36 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 02:01:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:01:36 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:01:36 --> AuthFilter: Session data = {"__ci_last_regenerate":1754704834,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:01:36 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:01:36 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:02:07 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 02:02:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:02:07 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:02:07 --> AuthFilter: Session data = {"__ci_last_regenerate":1754704834,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:02:07 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:02:07 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:02:38 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 02:02:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:02:38 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:02:38 --> AuthFilter: Session data = {"__ci_last_regenerate":1754704834,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:02:38 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:02:38 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:03:15 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 02:03:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:03:16 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:03:16 --> AuthFilter: Session data = {"__ci_last_regenerate":1754704834,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:03:16 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:03:16 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:03:52 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 02:03:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:03:52 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:03:52 --> AuthFilter: Session data = {"__ci_last_regenerate":1754704834,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:03:52 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:03:52 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:04:23 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 02:04:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:04:23 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:04:23 --> AuthFilter: Session data = {"__ci_last_regenerate":1754704834,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:04:23 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:04:23 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:04:34 --> AuthFilter: Checking auth for POST http://localhost:8080/staff/appointments/checkConflicts
DEBUG - 2025-08-09 02:04:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:04:34 --> AuthFilter: Session isLoggedIn = NO
INFO - 2025-08-09 02:04:34 --> AuthFilter: Session data = {"__ci_last_regenerate":1754705074}
WARNING - 2025-08-09 02:04:34 --> AuthFilter: User not logged in, redirecting to login
DEBUG - 2025-08-09 02:04:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:04:34 --> AuthFilter: Checking auth for POST http://localhost:8080/staff/appointments/checkConflicts
DEBUG - 2025-08-09 02:04:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:04:34 --> AuthFilter: Session isLoggedIn = NO
INFO - 2025-08-09 02:04:34 --> AuthFilter: Session data = {"__ci_last_regenerate":1754705074}
WARNING - 2025-08-09 02:04:34 --> AuthFilter: User not logged in, redirecting to login
DEBUG - 2025-08-09 02:04:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 02:04:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:04:54 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 02:04:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:04:54 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:04:54 --> AuthFilter: Session data = {"__ci_last_regenerate":1754704834,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:04:54 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:04:54 --> AuthFilter: All checks passed
DEBUG - 2025-08-09 02:05:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:05:07 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/dashboard
DEBUG - 2025-08-09 02:05:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:05:07 --> AuthFilter: Session isLoggedIn = NO
INFO - 2025-08-09 02:05:07 --> AuthFilter: Session data = {"__ci_last_regenerate":1754705107}
WARNING - 2025-08-09 02:05:07 --> AuthFilter: User not logged in, redirecting to login
DEBUG - 2025-08-09 02:05:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:05:25 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 02:05:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:05:25 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:05:25 --> AuthFilter: Session data = {"__ci_last_regenerate":1754704834,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:05:25 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:05:25 --> AuthFilter: All checks passed
DEBUG - 2025-08-09 02:05:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 02:05:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:05:54 --> AuthFilter: Checking auth for POST http://localhost:8080/staff/appointments/checkConflicts
DEBUG - 2025-08-09 02:05:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:05:54 --> AuthFilter: Session isLoggedIn = NO
INFO - 2025-08-09 02:05:54 --> AuthFilter: Session data = {"__ci_last_regenerate":1754705154}
WARNING - 2025-08-09 02:05:54 --> AuthFilter: User not logged in, redirecting to login
DEBUG - 2025-08-09 02:05:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:05:56 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 02:05:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:05:56 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:05:56 --> AuthFilter: Session data = {"__ci_last_regenerate":1754705156,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:05:56 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:05:56 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:06:27 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 02:06:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:06:27 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:06:27 --> AuthFilter: Session data = {"__ci_last_regenerate":1754705156,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:06:27 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:06:27 --> AuthFilter: All checks passed
DEBUG - 2025-08-09 02:06:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:06:30 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/dashboard
DEBUG - 2025-08-09 02:06:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:06:30 --> AuthFilter: Session isLoggedIn = NO
INFO - 2025-08-09 02:06:30 --> AuthFilter: Session data = {"__ci_last_regenerate":1754705190}
WARNING - 2025-08-09 02:06:30 --> AuthFilter: User not logged in, redirecting to login
DEBUG - 2025-08-09 02:06:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:06:53 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 02:06:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:06:53 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:06:53 --> AuthFilter: Session data = {"__ci_last_regenerate":1754705156,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:06:53 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:06:53 --> AuthFilter: All checks passed
DEBUG - 2025-08-09 02:06:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 02:06:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 02:07:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:07:01 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/dashboard
DEBUG - 2025-08-09 02:07:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:07:01 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:07:01 --> AuthFilter: Session data = {"__ci_last_regenerate":1754705219,"_ci_previous_url":"http:\/\/localhost:8080\/login","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:07:01 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:07:01 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:07:35 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/appointments
DEBUG - 2025-08-09 02:07:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:07:35 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:07:35 --> AuthFilter: Session data = {"__ci_last_regenerate":1754705219,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/dashboard","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:07:35 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:07:35 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:07:38 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 02:07:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:07:38 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:07:38 --> AuthFilter: Session data = {"__ci_last_regenerate":1754705219,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:07:38 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:07:38 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:07:42 --> AuthFilter: Checking auth for POST http://localhost:8080/admin/appointments/approve/56
DEBUG - 2025-08-09 02:07:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:07:42 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:07:42 --> AuthFilter: Session data = {"__ci_last_regenerate":1754705219,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:07:42 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:07:42 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:07:42 --> Admin approving appointment ID: 56, Dentist ID: null
INFO - 2025-08-09 02:07:42 --> Appointment before approval: {"id":"56","branch_id":"1","dentist_id":null,"user_id":"12","appointment_datetime":"2025-08-14 09:50:00","status":"pending_approval","appointment_type":"scheduled","approval_status":"pending","decline_reason":null,"remarks":"w","created_at":"2025-08-09 01:50:42","updated_at":"2025-08-09 01:50:42","checked_in_at":null,"checked_in_by":null,"self_checkin":"0","started_at":null,"called_by":null,"treatment_status":null,"treatment_notes":null,"payment_status":"pending","payment_method":null,"payment_amount":null,"payment_date":null,"payment_received_by":null,"payment_notes":null,"appointment_date":"2025-08-14","appointment_time":"09:50"}
ERROR - 2025-08-09 02:07:42 --> Exception in approveAppointment: Call to undefined method App\Models\AppointmentModel::getAvailableDentists
ERROR - 2025-08-09 02:07:42 --> Stack trace: #0 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Services\AppointmentService.php(146): CodeIgniter\Model->__call('getAvailableDen...', Array)
#1 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Controllers\AdminController.php(160): App\Services\AppointmentService->approveAppointment('56', NULL)
#2 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\CodeIgniter.php(933): App\Controllers\AdminController->approveAppointment('56')
#3 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\AdminController))
#4 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#5 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Boot.php(334): CodeIgniter\CodeIgniter->run()
#6 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#7 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\public\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#8 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\rewrite.php(44): require_once('C:\\Users\\John b...')
#9 {main}
INFO - 2025-08-09 02:07:42 --> Appointment approval result: {"success":false,"message":"Failed to approve appointment: Call to undefined method App\\Models\\AppointmentModel::getAvailableDentists"}
INFO - 2025-08-09 02:08:09 --> AuthFilter: Checking auth for POST http://localhost:8080/admin/appointments/approve/56
DEBUG - 2025-08-09 02:08:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:08:09 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:08:09 --> AuthFilter: Session data = {"__ci_last_regenerate":1754705219,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:08:09 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:08:09 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:08:09 --> Admin approving appointment ID: 56, Dentist ID: null
INFO - 2025-08-09 02:08:09 --> Appointment before approval: {"id":"56","branch_id":"1","dentist_id":null,"user_id":"12","appointment_datetime":"2025-08-14 09:50:00","status":"pending_approval","appointment_type":"scheduled","approval_status":"pending","decline_reason":null,"remarks":"w","created_at":"2025-08-09 01:50:42","updated_at":"2025-08-09 01:50:42","checked_in_at":null,"checked_in_by":null,"self_checkin":"0","started_at":null,"called_by":null,"treatment_status":null,"treatment_notes":null,"payment_status":"pending","payment_method":null,"payment_amount":null,"payment_date":null,"payment_received_by":null,"payment_notes":null,"appointment_date":"2025-08-14","appointment_time":"09:50"}
ERROR - 2025-08-09 02:08:09 --> Exception in approveAppointment: Call to undefined method App\Models\AppointmentModel::getAvailableDentists
ERROR - 2025-08-09 02:08:09 --> Stack trace: #0 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Services\AppointmentService.php(146): CodeIgniter\Model->__call('getAvailableDen...', Array)
#1 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\app\Controllers\AdminController.php(160): App\Services\AppointmentService->approveAppointment('56', NULL)
#2 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\CodeIgniter.php(933): App\Controllers\AdminController->approveAppointment('56')
#3 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\AdminController))
#4 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#5 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Boot.php(334): CodeIgniter\CodeIgniter->run()
#6 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#7 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\public\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#8 C:\Users\John bert\OneDrive\Documents\GitHub\Capstone_PerfectSmile\vendor\codeigniter4\framework\system\rewrite.php(44): require_once('C:\\Users\\John b...')
#9 {main}
INFO - 2025-08-09 02:08:09 --> Appointment approval result: {"success":false,"message":"Failed to approve appointment: Call to undefined method App\\Models\\AppointmentModel::getAvailableDentists"}
INFO - 2025-08-09 02:08:09 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 02:08:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:08:09 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:08:09 --> AuthFilter: Session data = {"__ci_last_regenerate":1754705219,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:08:09 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:08:09 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:08:41 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 02:08:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:08:41 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:08:41 --> AuthFilter: Session data = {"__ci_last_regenerate":1754705219,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:08:41 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:08:41 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:09:12 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 02:09:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:09:12 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:09:12 --> AuthFilter: Session data = {"__ci_last_regenerate":1754705219,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:09:12 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:09:12 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:09:43 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 02:09:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:09:43 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:09:43 --> AuthFilter: Session data = {"__ci_last_regenerate":1754705219,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:09:43 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:09:43 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:10:14 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 02:10:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:10:14 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:10:14 --> AuthFilter: Session data = {"__ci_last_regenerate":1754705219,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:10:14 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:10:14 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:10:45 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 02:10:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:10:45 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:10:45 --> AuthFilter: Session data = {"__ci_last_regenerate":1754705219,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:10:45 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:10:45 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:11:16 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 02:11:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:11:16 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:11:16 --> AuthFilter: Session data = {"__ci_last_regenerate":1754705219,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:11:16 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:11:16 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:11:47 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 02:11:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:11:47 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:11:47 --> AuthFilter: Session data = {"__ci_last_regenerate":1754705219,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:11:47 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:11:47 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:12:18 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 02:12:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:12:18 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:12:18 --> AuthFilter: Session data = {"__ci_last_regenerate":1754705538,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:12:18 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:12:18 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:12:39 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist?id=64de98d1-8c2a-4c50-9f94-15afa5340cb3&vscodeBrowserReqId=1754705559475
DEBUG - 2025-08-09 02:12:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:12:39 --> AuthFilter: Session isLoggedIn = NO
INFO - 2025-08-09 02:12:39 --> AuthFilter: Session data = {"__ci_last_regenerate":1754705559}
WARNING - 2025-08-09 02:12:39 --> AuthFilter: User not logged in, redirecting to login
DEBUG - 2025-08-09 02:12:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:12:49 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 02:12:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:12:49 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:12:49 --> AuthFilter: Session data = {"__ci_last_regenerate":1754705538,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:12:49 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:12:49 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:13:20 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 02:13:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:13:20 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:13:20 --> AuthFilter: Session data = {"__ci_last_regenerate":1754705538,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:13:20 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:13:20 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:13:51 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 02:13:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:13:51 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:13:51 --> AuthFilter: Session data = {"__ci_last_regenerate":1754705538,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:13:51 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:13:51 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:14:21 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 02:14:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:14:21 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:14:21 --> AuthFilter: Session data = {"__ci_last_regenerate":1754705538,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:14:21 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:14:21 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:14:37 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 02:14:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:14:37 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:14:37 --> AuthFilter: Session data = {"__ci_last_regenerate":1754705538,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:14:37 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:14:37 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:14:39 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/services
DEBUG - 2025-08-09 02:14:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:14:39 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:14:39 --> AuthFilter: Session data = {"__ci_last_regenerate":1754705538,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:14:39 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:14:39 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:14:40 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/appointments
DEBUG - 2025-08-09 02:14:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:14:40 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:14:40 --> AuthFilter: Session data = {"__ci_last_regenerate":1754705538,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/services","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:14:40 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:14:40 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:14:58 --> AuthFilter: Checking auth for POST http://localhost:8080/admin/appointments/create
DEBUG - 2025-08-09 02:14:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:14:58 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:14:58 --> AuthFilter: Session data = {"__ci_last_regenerate":1754705538,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:14:58 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:14:58 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:14:58 --> Creating scheduled appointment with data: {"branch_id":"1","user_id":"3","dentist_id":"2","appointment_date":"2025-08-14","appointment_time":"10:14","appointment_type":"scheduled","remarks":"g","approval_status":"pending","status":"pending_approval"}
INFO - 2025-08-09 02:14:59 --> Admin-created appointment pending with dentist assigned
INFO - 2025-08-09 02:14:59 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/appointments
DEBUG - 2025-08-09 02:14:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:14:59 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:14:59 --> AuthFilter: Session data = {"__ci_last_regenerate":1754705538,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:14:59 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:14:59 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:15:14 --> AuthFilter: Checking auth for POST http://localhost:8080/admin/appointments/create
DEBUG - 2025-08-09 02:15:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:15:14 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:15:14 --> AuthFilter: Session data = {"__ci_last_regenerate":1754705538,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:15:14 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:15:14 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:15:14 --> Creating scheduled appointment with data: {"branch_id":"1","user_id":"12","dentist_id":null,"appointment_date":"2025-08-14","appointment_time":"10:14","appointment_type":"scheduled","remarks":"s","approval_status":"pending","status":"pending_approval"}
INFO - 2025-08-09 02:15:14 --> Admin-created appointment pending without dentist
INFO - 2025-08-09 02:15:15 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/appointments
DEBUG - 2025-08-09 02:15:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:15:15 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:15:15 --> AuthFilter: Session data = {"__ci_last_regenerate":1754705538,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:15:15 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:15:15 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:15:18 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 02:15:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:15:18 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:15:18 --> AuthFilter: Session data = {"__ci_last_regenerate":1754705538,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:15:18 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:15:18 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:15:28 --> AuthFilter: Checking auth for POST http://localhost:8080/admin/appointments/approve/57
DEBUG - 2025-08-09 02:15:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:15:28 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:15:28 --> AuthFilter: Session data = {"__ci_last_regenerate":1754705538,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:15:28 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:15:28 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:15:28 --> Admin approving appointment ID: 57, Dentist ID: null
INFO - 2025-08-09 02:15:28 --> Appointment before approval: {"id":"57","branch_id":"1","dentist_id":"2","user_id":"3","appointment_datetime":"2025-08-14 10:14:00","status":"pending_approval","appointment_type":"scheduled","approval_status":"pending","decline_reason":null,"remarks":"g","created_at":"2025-08-09 02:14:59","updated_at":"2025-08-09 02:14:59","checked_in_at":null,"checked_in_by":null,"self_checkin":"0","started_at":null,"called_by":null,"treatment_status":null,"treatment_notes":null,"payment_status":"pending","payment_method":null,"payment_amount":null,"payment_date":null,"payment_received_by":null,"payment_notes":null,"appointment_date":"2025-08-14","appointment_time":"10:14"}
INFO - 2025-08-09 02:15:28 --> AppointmentModel::approveAppointment - ID: 57, Dentist ID: null
INFO - 2025-08-09 02:15:28 --> Update data for appointment 57: {"approval_status":"approved","status":"confirmed","updated_at":"2025-08-09 02:15:28"}
INFO - 2025-08-09 02:15:28 --> Appointment 57 approved successfully - Status: confirmed, Approval: approved
INFO - 2025-08-09 02:15:28 --> Admin approved appointment: Patient ID 3, DateTime: 2025-08-14 10:14:00, Date: 2025-08-14, Time: 10:14
INFO - 2025-08-09 02:15:28 --> Appointment approval result: {"success":true,"message":"Appointment approved successfully"}
INFO - 2025-08-09 02:15:29 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 02:15:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:15:29 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:15:29 --> AuthFilter: Session data = {"__ci_last_regenerate":1754705538,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:15:29 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:15:29 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:15:33 --> AuthFilter: Checking auth for GET http://localhost:8080/checkin
DEBUG - 2025-08-09 02:15:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:15:33 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:15:33 --> AuthFilter: Session data = {"__ci_last_regenerate":1754705538,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:15:33 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:15:33 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:15:33 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 02:15:33 --> Found 0 appointments for today after filtering
INFO - 2025-08-09 02:15:42 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 02:15:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:15:42 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:15:42 --> AuthFilter: Session data = {"__ci_last_regenerate":1754705538,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:15:42 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:15:42 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:15:48 --> AuthFilter: Checking auth for POST http://localhost:8080/admin/appointments/approve/56
DEBUG - 2025-08-09 02:15:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:15:48 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:15:48 --> AuthFilter: Session data = {"__ci_last_regenerate":1754705538,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:15:48 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:15:48 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:15:48 --> Admin approving appointment ID: 56, Dentist ID: null
INFO - 2025-08-09 02:15:48 --> Appointment before approval: {"id":"56","branch_id":"1","dentist_id":null,"user_id":"12","appointment_datetime":"2025-08-14 09:50:00","status":"pending_approval","appointment_type":"scheduled","approval_status":"pending","decline_reason":null,"remarks":"w","created_at":"2025-08-09 01:50:42","updated_at":"2025-08-09 01:50:42","checked_in_at":null,"checked_in_by":null,"self_checkin":"0","started_at":null,"called_by":null,"treatment_status":null,"treatment_notes":null,"payment_status":"pending","payment_method":null,"payment_amount":null,"payment_date":null,"payment_received_by":null,"payment_notes":null,"appointment_date":"2025-08-14","appointment_time":"09:50"}
INFO - 2025-08-09 02:15:48 --> Appointment approval result: {"success":false,"message":"No dentists available at this time. Cannot approve appointment."}
INFO - 2025-08-09 02:15:58 --> AuthFilter: Checking auth for POST http://localhost:8080/admin/appointments/approve/56
DEBUG - 2025-08-09 02:15:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:15:58 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:15:58 --> AuthFilter: Session data = {"__ci_last_regenerate":1754705538,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:15:58 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:15:58 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:15:58 --> Admin approving appointment ID: 56, Dentist ID: 2
INFO - 2025-08-09 02:15:58 --> Appointment before approval: {"id":"56","branch_id":"1","dentist_id":null,"user_id":"12","appointment_datetime":"2025-08-14 09:50:00","status":"pending_approval","appointment_type":"scheduled","approval_status":"pending","decline_reason":null,"remarks":"w","created_at":"2025-08-09 01:50:42","updated_at":"2025-08-09 01:50:42","checked_in_at":null,"checked_in_by":null,"self_checkin":"0","started_at":null,"called_by":null,"treatment_status":null,"treatment_notes":null,"payment_status":"pending","payment_method":null,"payment_amount":null,"payment_date":null,"payment_received_by":null,"payment_notes":null,"appointment_date":"2025-08-14","appointment_time":"09:50"}
INFO - 2025-08-09 02:15:58 --> Appointment approval result: {"success":false,"message":"Selected dentist is not available at this time"}
INFO - 2025-08-09 02:16:06 --> AuthFilter: Checking auth for POST http://localhost:8080/admin/appointments/approve/56
DEBUG - 2025-08-09 02:16:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:16:06 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:16:06 --> AuthFilter: Session data = {"__ci_last_regenerate":1754705538,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:16:06 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:16:06 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:16:06 --> Admin approving appointment ID: 56, Dentist ID: 9
INFO - 2025-08-09 02:16:06 --> Appointment before approval: {"id":"56","branch_id":"1","dentist_id":null,"user_id":"12","appointment_datetime":"2025-08-14 09:50:00","status":"pending_approval","appointment_type":"scheduled","approval_status":"pending","decline_reason":null,"remarks":"w","created_at":"2025-08-09 01:50:42","updated_at":"2025-08-09 01:50:42","checked_in_at":null,"checked_in_by":null,"self_checkin":"0","started_at":null,"called_by":null,"treatment_status":null,"treatment_notes":null,"payment_status":"pending","payment_method":null,"payment_amount":null,"payment_date":null,"payment_received_by":null,"payment_notes":null,"appointment_date":"2025-08-14","appointment_time":"09:50"}
INFO - 2025-08-09 02:16:06 --> Appointment approval result: {"success":false,"message":"Selected dentist is not available at this time"}
INFO - 2025-08-09 02:16:12 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 02:16:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:16:12 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:16:12 --> AuthFilter: Session data = {"__ci_last_regenerate":1754705538,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:16:12 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:16:12 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:16:23 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/dashboard
DEBUG - 2025-08-09 02:16:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:16:23 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:16:23 --> AuthFilter: Session data = {"__ci_last_regenerate":1754705538,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:16:23 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:16:23 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:16:29 --> AuthFilter: Checking auth for POST http://localhost:8080/admin/appointments/approve/56
DEBUG - 2025-08-09 02:16:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:16:29 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:16:29 --> AuthFilter: Session data = {"__ci_last_regenerate":1754705538,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/dashboard","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:16:29 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:16:29 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:16:29 --> Admin approving appointment ID: 56, Dentist ID: 3
INFO - 2025-08-09 02:16:29 --> Appointment before approval: {"id":"56","branch_id":"1","dentist_id":null,"user_id":"12","appointment_datetime":"2025-08-14 09:50:00","status":"pending_approval","appointment_type":"scheduled","approval_status":"pending","decline_reason":null,"remarks":"w","created_at":"2025-08-09 01:50:42","updated_at":"2025-08-09 01:50:42","checked_in_at":null,"checked_in_by":null,"self_checkin":"0","started_at":null,"called_by":null,"treatment_status":null,"treatment_notes":null,"payment_status":"pending","payment_method":null,"payment_amount":null,"payment_date":null,"payment_received_by":null,"payment_notes":null,"appointment_date":"2025-08-14","appointment_time":"09:50"}
INFO - 2025-08-09 02:16:29 --> Appointment approval result: {"success":false,"message":"Selected dentist is not available at this time"}
INFO - 2025-08-09 02:16:30 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/dashboard
DEBUG - 2025-08-09 02:16:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:16:30 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:16:30 --> AuthFilter: Session data = {"__ci_last_regenerate":1754705538,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/dashboard","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:16:30 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:16:30 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:16:30 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/dashboard
DEBUG - 2025-08-09 02:16:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:16:30 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:16:30 --> AuthFilter: Session data = {"__ci_last_regenerate":1754705538,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/dashboard","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:16:30 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:16:30 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:16:36 --> AuthFilter: Checking auth for POST http://localhost:8080/admin/appointments/approve/56
DEBUG - 2025-08-09 02:16:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:16:36 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:16:36 --> AuthFilter: Session data = {"__ci_last_regenerate":1754705538,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/dashboard","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:16:36 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:16:36 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:16:36 --> Admin approving appointment ID: 56, Dentist ID: 9
INFO - 2025-08-09 02:16:36 --> Appointment before approval: {"id":"56","branch_id":"1","dentist_id":null,"user_id":"12","appointment_datetime":"2025-08-14 09:50:00","status":"pending_approval","appointment_type":"scheduled","approval_status":"pending","decline_reason":null,"remarks":"w","created_at":"2025-08-09 01:50:42","updated_at":"2025-08-09 01:50:42","checked_in_at":null,"checked_in_by":null,"self_checkin":"0","started_at":null,"called_by":null,"treatment_status":null,"treatment_notes":null,"payment_status":"pending","payment_method":null,"payment_amount":null,"payment_date":null,"payment_received_by":null,"payment_notes":null,"appointment_date":"2025-08-14","appointment_time":"09:50"}
INFO - 2025-08-09 02:16:36 --> Appointment approval result: {"success":false,"message":"Selected dentist is not available at this time"}
INFO - 2025-08-09 02:16:36 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/dashboard
DEBUG - 2025-08-09 02:16:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:16:36 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:16:36 --> AuthFilter: Session data = {"__ci_last_regenerate":1754705538,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/dashboard","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:16:36 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:16:36 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:16:36 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/dashboard
DEBUG - 2025-08-09 02:16:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:16:36 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:16:36 --> AuthFilter: Session data = {"__ci_last_regenerate":1754705538,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/dashboard","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:16:36 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:16:36 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:16:41 --> AuthFilter: Checking auth for POST http://localhost:8080/admin/appointments/decline/56
DEBUG - 2025-08-09 02:16:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:16:41 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:16:41 --> AuthFilter: Session data = {"__ci_last_regenerate":1754705538,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/dashboard","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:16:41 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:16:41 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:16:41 --> Admin declining appointment ID: 56, Reason: f
INFO - 2025-08-09 02:16:41 --> Appointment 56 declined with reason: f
INFO - 2025-08-09 02:16:41 --> Admin declined appointment: Patient ID 12, DateTime: 2025-08-14 09:50:00, Date: 2025-08-14, Time: 09:50
INFO - 2025-08-09 02:16:41 --> Admin decline reason: f
INFO - 2025-08-09 02:16:41 --> Appointment decline result: {"success":true,"message":"Appointment declined and removed successfully"}
INFO - 2025-08-09 02:16:41 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/dashboard
DEBUG - 2025-08-09 02:16:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:16:41 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:16:41 --> AuthFilter: Session data = {"__ci_last_regenerate":1754705538,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/dashboard","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:16:41 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:16:41 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:16:42 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/dashboard
DEBUG - 2025-08-09 02:16:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:16:42 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:16:42 --> AuthFilter: Session data = {"__ci_last_regenerate":1754705538,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/dashboard","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:16:42 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:16:42 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:16:44 --> AuthFilter: Checking auth for POST http://localhost:8080/admin/appointments/decline/55
DEBUG - 2025-08-09 02:16:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:16:44 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:16:44 --> AuthFilter: Session data = {"__ci_last_regenerate":1754705538,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/dashboard","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:16:44 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:16:44 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:16:44 --> Admin declining appointment ID: 55, Reason: f
INFO - 2025-08-09 02:16:44 --> Appointment 55 declined with reason: f
INFO - 2025-08-09 02:16:44 --> Admin declined appointment: Patient ID 13, DateTime: 2025-08-14 09:50:00, Date: 2025-08-14, Time: 09:50
INFO - 2025-08-09 02:16:44 --> Admin decline reason: f
INFO - 2025-08-09 02:16:44 --> Appointment decline result: {"success":true,"message":"Appointment declined and removed successfully"}
INFO - 2025-08-09 02:16:45 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/dashboard
DEBUG - 2025-08-09 02:16:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:16:45 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:16:45 --> AuthFilter: Session data = {"__ci_last_regenerate":1754705538,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/dashboard","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:16:45 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:16:45 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:16:45 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/dashboard
DEBUG - 2025-08-09 02:16:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:16:45 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:16:45 --> AuthFilter: Session data = {"__ci_last_regenerate":1754705538,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/dashboard","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:16:45 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:16:45 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:16:48 --> AuthFilter: Checking auth for POST http://localhost:8080/admin/appointments/decline/58
DEBUG - 2025-08-09 02:16:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:16:48 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:16:48 --> AuthFilter: Session data = {"__ci_last_regenerate":1754705538,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/dashboard","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:16:48 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:16:48 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:16:48 --> Admin declining appointment ID: 58, Reason: f
INFO - 2025-08-09 02:16:48 --> Appointment 58 declined with reason: f
INFO - 2025-08-09 02:16:48 --> Admin declined appointment: Patient ID 12, DateTime: 2025-08-14 10:14:00, Date: 2025-08-14, Time: 10:14
INFO - 2025-08-09 02:16:48 --> Admin decline reason: f
INFO - 2025-08-09 02:16:48 --> Appointment decline result: {"success":true,"message":"Appointment declined and removed successfully"}
INFO - 2025-08-09 02:16:48 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/dashboard
DEBUG - 2025-08-09 02:16:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:16:48 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:16:48 --> AuthFilter: Session data = {"__ci_last_regenerate":1754705538,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/dashboard","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:16:48 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:16:48 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:16:48 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/dashboard
DEBUG - 2025-08-09 02:16:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:16:48 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:16:48 --> AuthFilter: Session data = {"__ci_last_regenerate":1754705538,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/dashboard","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:16:48 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:16:48 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:16:53 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 02:16:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:16:53 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:16:53 --> AuthFilter: Session data = {"__ci_last_regenerate":1754705538,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/dashboard","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:16:53 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:16:53 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:17:12 --> AuthFilter: Checking auth for GET http://localhost:8080/checkin
DEBUG - 2025-08-09 02:17:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:17:12 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:17:12 --> AuthFilter: Session data = {"__ci_last_regenerate":1754705538,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:17:12 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:17:12 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:17:12 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 02:17:12 --> Found 0 appointments for today after filtering
INFO - 2025-08-09 02:17:43 --> AuthFilter: Checking auth for GET http://localhost:8080/checkin
DEBUG - 2025-08-09 02:17:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:17:43 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:17:43 --> AuthFilter: Session data = {"__ci_last_regenerate":1754705863,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:17:43 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:17:43 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:17:43 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 02:17:43 --> Found 0 appointments for today after filtering
INFO - 2025-08-09 02:18:14 --> AuthFilter: Checking auth for GET http://localhost:8080/checkin
DEBUG - 2025-08-09 02:18:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:18:14 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:18:14 --> AuthFilter: Session data = {"__ci_last_regenerate":1754705863,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:18:14 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:18:14 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:18:14 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 02:18:14 --> Found 0 appointments for today after filtering
INFO - 2025-08-09 02:18:45 --> AuthFilter: Checking auth for GET http://localhost:8080/checkin
DEBUG - 2025-08-09 02:18:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:18:45 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:18:45 --> AuthFilter: Session data = {"__ci_last_regenerate":1754705863,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:18:45 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:18:45 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:18:45 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 02:18:45 --> Found 0 appointments for today after filtering
INFO - 2025-08-09 02:19:16 --> AuthFilter: Checking auth for GET http://localhost:8080/checkin
DEBUG - 2025-08-09 02:19:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:19:16 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:19:16 --> AuthFilter: Session data = {"__ci_last_regenerate":1754705863,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:19:16 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:19:16 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:19:16 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 02:19:16 --> Found 0 appointments for today after filtering
INFO - 2025-08-09 02:19:47 --> AuthFilter: Checking auth for GET http://localhost:8080/checkin
DEBUG - 2025-08-09 02:19:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:19:47 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:19:47 --> AuthFilter: Session data = {"__ci_last_regenerate":1754705863,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:19:47 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:19:47 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:19:47 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 02:19:47 --> Found 0 appointments for today after filtering
INFO - 2025-08-09 02:20:18 --> AuthFilter: Checking auth for GET http://localhost:8080/checkin
DEBUG - 2025-08-09 02:20:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:20:18 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:20:18 --> AuthFilter: Session data = {"__ci_last_regenerate":1754705863,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:20:18 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:20:18 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:20:18 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 02:20:18 --> Found 0 appointments for today after filtering
INFO - 2025-08-09 02:20:49 --> AuthFilter: Checking auth for GET http://localhost:8080/checkin
DEBUG - 2025-08-09 02:20:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:20:49 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:20:49 --> AuthFilter: Session data = {"__ci_last_regenerate":1754705863,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:20:49 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:20:49 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:20:49 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 02:20:49 --> Found 0 appointments for today after filtering
INFO - 2025-08-09 02:21:20 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist?id=12faca22-97eb-40d5-aff3-2f517f1c9c60&vscodeBrowserReqId=1754706080263
DEBUG - 2025-08-09 02:21:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:21:20 --> AuthFilter: Session isLoggedIn = NO
INFO - 2025-08-09 02:21:20 --> AuthFilter: Session data = {"__ci_last_regenerate":1754706080}
WARNING - 2025-08-09 02:21:20 --> AuthFilter: User not logged in, redirecting to login
INFO - 2025-08-09 02:21:20 --> AuthFilter: Checking auth for GET http://localhost:8080/checkin
DEBUG - 2025-08-09 02:21:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:21:20 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:21:20 --> AuthFilter: Session data = {"__ci_last_regenerate":1754705863,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:21:20 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:21:20 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:21:20 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 02:21:20 --> Found 0 appointments for today after filtering
DEBUG - 2025-08-09 02:21:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:21:51 --> AuthFilter: Checking auth for GET http://localhost:8080/checkin
DEBUG - 2025-08-09 02:21:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:21:51 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:21:51 --> AuthFilter: Session data = {"__ci_last_regenerate":1754705863,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:21:51 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:21:51 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:21:51 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 02:21:51 --> Found 0 appointments for today after filtering
INFO - 2025-08-09 02:22:22 --> AuthFilter: Checking auth for GET http://localhost:8080/checkin
DEBUG - 2025-08-09 02:22:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:22:22 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:22:22 --> AuthFilter: Session data = {"__ci_last_regenerate":1754705863,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:22:22 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:22:22 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:22:22 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 02:22:22 --> Found 0 appointments for today after filtering
INFO - 2025-08-09 02:22:33 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/appointments
DEBUG - 2025-08-09 02:22:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:22:33 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:22:33 --> AuthFilter: Session data = {"__ci_last_regenerate":1754705863,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:22:33 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:22:33 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:22:44 --> AuthFilter: Checking auth for POST http://localhost:8080/admin/appointments/create
DEBUG - 2025-08-09 02:22:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:22:44 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:22:44 --> AuthFilter: Session data = {"__ci_last_regenerate":1754706164,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:22:44 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:22:44 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:22:44 --> Creating scheduled appointment with data: {"branch_id":"1","user_id":"3","dentist_id":null,"appointment_date":"2025-08-14","appointment_time":"10:22","appointment_type":"scheduled","remarks":"w","approval_status":"pending","status":"pending_approval"}
INFO - 2025-08-09 02:22:44 --> Admin-created appointment pending without dentist
INFO - 2025-08-09 02:22:44 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/appointments
DEBUG - 2025-08-09 02:22:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:22:44 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:22:44 --> AuthFilter: Session data = {"__ci_last_regenerate":1754706164,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:22:44 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:22:44 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:22:47 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 02:22:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:22:47 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:22:47 --> AuthFilter: Session data = {"__ci_last_regenerate":1754706164,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:22:47 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:22:47 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:22:54 --> AuthFilter: Checking auth for POST http://localhost:8080/admin/appointments/approve/59
DEBUG - 2025-08-09 02:22:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:22:54 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:22:54 --> AuthFilter: Session data = {"__ci_last_regenerate":1754706164,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:22:54 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:22:54 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:22:54 --> Admin approving appointment ID: 59, Dentist ID: null
INFO - 2025-08-09 02:22:54 --> Appointment before approval: {"id":"59","branch_id":"1","dentist_id":null,"user_id":"3","appointment_datetime":"2025-08-14 10:22:00","status":"pending_approval","appointment_type":"scheduled","approval_status":"pending","decline_reason":null,"remarks":"w","created_at":"2025-08-09 02:22:44","updated_at":"2025-08-09 02:22:44","checked_in_at":null,"checked_in_by":null,"self_checkin":"0","started_at":null,"called_by":null,"treatment_status":null,"treatment_notes":null,"payment_status":"pending","payment_method":null,"payment_amount":null,"payment_date":null,"payment_received_by":null,"payment_notes":null,"appointment_date":"2025-08-14","appointment_time":"10:22"}
INFO - 2025-08-09 02:22:54 --> Appointment approval result: {"success":false,"message":"No dentists available at this time. Cannot approve appointment."}
INFO - 2025-08-09 02:23:02 --> AuthFilter: Checking auth for POST http://localhost:8080/admin/appointments/approve/59
DEBUG - 2025-08-09 02:23:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:23:02 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:23:02 --> AuthFilter: Session data = {"__ci_last_regenerate":1754706164,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:23:02 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:23:02 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:23:02 --> Admin approving appointment ID: 59, Dentist ID: 2
INFO - 2025-08-09 02:23:02 --> Appointment before approval: {"id":"59","branch_id":"1","dentist_id":null,"user_id":"3","appointment_datetime":"2025-08-14 10:22:00","status":"pending_approval","appointment_type":"scheduled","approval_status":"pending","decline_reason":null,"remarks":"w","created_at":"2025-08-09 02:22:44","updated_at":"2025-08-09 02:22:44","checked_in_at":null,"checked_in_by":null,"self_checkin":"0","started_at":null,"called_by":null,"treatment_status":null,"treatment_notes":null,"payment_status":"pending","payment_method":null,"payment_amount":null,"payment_date":null,"payment_received_by":null,"payment_notes":null,"appointment_date":"2025-08-14","appointment_time":"10:22"}
INFO - 2025-08-09 02:23:02 --> Appointment approval result: {"success":false,"message":"Selected dentist is not available at this time"}
INFO - 2025-08-09 02:23:13 --> AuthFilter: Checking auth for POST http://localhost:8080/admin/appointments/approve/59
DEBUG - 2025-08-09 02:23:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:23:13 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:23:13 --> AuthFilter: Session data = {"__ci_last_regenerate":1754706164,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:23:13 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:23:13 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:23:13 --> Admin approving appointment ID: 59, Dentist ID: 2
INFO - 2025-08-09 02:23:13 --> Appointment before approval: {"id":"59","branch_id":"1","dentist_id":null,"user_id":"3","appointment_datetime":"2025-08-14 10:22:00","status":"pending_approval","appointment_type":"scheduled","approval_status":"pending","decline_reason":null,"remarks":"w","created_at":"2025-08-09 02:22:44","updated_at":"2025-08-09 02:22:44","checked_in_at":null,"checked_in_by":null,"self_checkin":"0","started_at":null,"called_by":null,"treatment_status":null,"treatment_notes":null,"payment_status":"pending","payment_method":null,"payment_amount":null,"payment_date":null,"payment_received_by":null,"payment_notes":null,"appointment_date":"2025-08-14","appointment_time":"10:22"}
INFO - 2025-08-09 02:23:13 --> Appointment approval result: {"success":false,"message":"Selected dentist is not available at this time"}
INFO - 2025-08-09 02:23:18 --> AuthFilter: Checking auth for POST http://localhost:8080/admin/appointments/approve/59
DEBUG - 2025-08-09 02:23:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:23:18 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:23:18 --> AuthFilter: Session data = {"__ci_last_regenerate":1754706164,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:23:18 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:23:18 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:23:18 --> Admin approving appointment ID: 59, Dentist ID: null
INFO - 2025-08-09 02:23:18 --> Appointment before approval: {"id":"59","branch_id":"1","dentist_id":null,"user_id":"3","appointment_datetime":"2025-08-14 10:22:00","status":"pending_approval","appointment_type":"scheduled","approval_status":"pending","decline_reason":null,"remarks":"w","created_at":"2025-08-09 02:22:44","updated_at":"2025-08-09 02:22:44","checked_in_at":null,"checked_in_by":null,"self_checkin":"0","started_at":null,"called_by":null,"treatment_status":null,"treatment_notes":null,"payment_status":"pending","payment_method":null,"payment_amount":null,"payment_date":null,"payment_received_by":null,"payment_notes":null,"appointment_date":"2025-08-14","appointment_time":"10:22"}
INFO - 2025-08-09 02:23:18 --> Appointment approval result: {"success":false,"message":"No dentists available at this time. Cannot approve appointment."}
INFO - 2025-08-09 02:23:18 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 02:23:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:23:18 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:23:18 --> AuthFilter: Session data = {"__ci_last_regenerate":1754706164,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:23:18 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:23:18 --> AuthFilter: All checks passed
DEBUG - 2025-08-09 02:24:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 02:24:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 02:24:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 02:24:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:28:00 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist?id=c022c51e-d809-41fa-8a75-91737280cfc7&vscodeBrowserReqId=1754706480307
DEBUG - 2025-08-09 02:28:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:28:00 --> AuthFilter: Session isLoggedIn = NO
INFO - 2025-08-09 02:28:00 --> AuthFilter: Session data = {"__ci_last_regenerate":1754706480}
WARNING - 2025-08-09 02:28:00 --> AuthFilter: User not logged in, redirecting to login
DEBUG - 2025-08-09 02:28:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 02:28:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 02:29:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 02:29:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 02:29:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:29:29 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/services
DEBUG - 2025-08-09 02:29:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:29:29 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:29:29 --> AuthFilter: Session data = {"__ci_last_regenerate":1754706562,"_ci_previous_url":"http:\/\/localhost:8080\/login","isLoggedIn":true,"user_id":"2","user_name":"Dr. John Smith","user_email":"doctor@perfectsmile.com","user_type":"dentist"}
INFO - 2025-08-09 02:29:29 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:29:29 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:29:36 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/patients
DEBUG - 2025-08-09 02:29:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:29:36 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:29:36 --> AuthFilter: Session data = {"__ci_last_regenerate":1754706562,"_ci_previous_url":"http:\/\/localhost:8080\/login","isLoggedIn":true,"user_id":"2","user_name":"Dr. John Smith","user_email":"doctor@perfectsmile.com","user_type":"dentist"}
INFO - 2025-08-09 02:29:36 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:29:36 --> AuthFilter: All checks passed
DEBUG - 2025-08-09 02:29:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 02:31:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 02:31:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 02:31:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 02:32:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:32:03 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/dashboard
DEBUG - 2025-08-09 02:32:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:32:03 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:32:03 --> AuthFilter: Session data = {"__ci_last_regenerate":1754706718,"_ci_previous_url":"http:\/\/localhost:8080\/login","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:32:03 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:32:03 --> AuthFilter: All checks passed
DEBUG - 2025-08-09 02:32:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:32:47 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/dashboard
DEBUG - 2025-08-09 02:32:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:32:47 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:32:47 --> AuthFilter: Session data = {"__ci_last_regenerate":1754706718,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/dashboard","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:32:47 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:32:47 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:32:51 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 02:32:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:32:51 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:32:51 --> AuthFilter: Session data = {"__ci_last_regenerate":1754706718,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/dashboard","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:32:51 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:32:51 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:32:54 --> AuthFilter: Checking auth for POST http://localhost:8080/admin/appointments/approve/59
DEBUG - 2025-08-09 02:32:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:32:54 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:32:54 --> AuthFilter: Session data = {"__ci_last_regenerate":1754706718,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:32:54 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:32:54 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:32:54 --> Admin approving appointment ID: 59, Dentist ID: null
INFO - 2025-08-09 02:32:54 --> Appointment before approval: {"id":"59","branch_id":"1","dentist_id":null,"user_id":"3","appointment_datetime":"2025-08-14 10:22:00","status":"pending_approval","appointment_type":"scheduled","approval_status":"pending","decline_reason":null,"remarks":"w","created_at":"2025-08-09 02:22:44","updated_at":"2025-08-09 02:22:44","checked_in_at":null,"checked_in_by":null,"self_checkin":"0","started_at":null,"called_by":null,"treatment_status":null,"treatment_notes":null,"payment_status":"pending","payment_method":null,"payment_amount":null,"payment_date":null,"payment_received_by":null,"payment_notes":null,"appointment_date":"2025-08-14","appointment_time":"10:22"}
INFO - 2025-08-09 02:32:54 --> Auto-assigning dentist Dr. Sarah Johnson (ID: 9) to appointment 59
INFO - 2025-08-09 02:32:54 --> AppointmentModel::approveAppointment - ID: 59, Dentist ID: 9
INFO - 2025-08-09 02:32:54 --> Setting dentist_id to 9 for appointment 59
INFO - 2025-08-09 02:32:54 --> Update data for appointment 59: {"approval_status":"approved","status":"confirmed","updated_at":"2025-08-09 02:32:54","dentist_id":"9"}
INFO - 2025-08-09 02:32:54 --> Appointment 59 approved successfully - Status: confirmed, Approval: approved
INFO - 2025-08-09 02:32:54 --> Admin approved appointment: Patient ID 3, DateTime: 2025-08-14 10:22:00, Date: 2025-08-14, Time: 10:22
INFO - 2025-08-09 02:32:54 --> Appointment approval result: {"success":true,"message":"Appointment approved successfully. Dentist Dr. Sarah Johnson was assigned."}
INFO - 2025-08-09 02:32:54 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 02:32:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:32:54 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:32:54 --> AuthFilter: Session data = {"__ci_last_regenerate":1754706718,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:32:54 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:32:54 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:32:57 --> AuthFilter: Checking auth for GET http://localhost:8080/checkin
DEBUG - 2025-08-09 02:32:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:32:57 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:32:57 --> AuthFilter: Session data = {"__ci_last_regenerate":1754706718,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:32:57 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:32:57 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:32:57 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 02:32:57 --> Found 0 appointments for today after filtering
INFO - 2025-08-09 02:33:01 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/appointments
DEBUG - 2025-08-09 02:33:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:33:01 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:33:01 --> AuthFilter: Session data = {"__ci_last_regenerate":1754706718,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:33:01 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:33:01 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:33:22 --> AuthFilter: Checking auth for POST http://localhost:8080/admin/appointments/create
DEBUG - 2025-08-09 02:33:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:33:22 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:33:22 --> AuthFilter: Session data = {"__ci_last_regenerate":1754706718,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:33:22 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:33:22 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:33:22 --> Creating scheduled appointment with data: {"branch_id":"1","user_id":"13","dentist_id":null,"appointment_date":"2025-08-14","appointment_time":"10:33","appointment_type":"scheduled","remarks":"g","approval_status":"pending","status":"pending_approval"}
INFO - 2025-08-09 02:33:22 --> Admin-created appointment pending without dentist
INFO - 2025-08-09 02:33:23 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/appointments
DEBUG - 2025-08-09 02:33:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:33:23 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:33:23 --> AuthFilter: Session data = {"__ci_last_regenerate":1754706718,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:33:23 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:33:23 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:33:24 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 02:33:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:33:24 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:33:24 --> AuthFilter: Session data = {"__ci_last_regenerate":1754706718,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:33:24 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:33:24 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:33:27 --> AuthFilter: Checking auth for POST http://localhost:8080/admin/appointments/approve/60
DEBUG - 2025-08-09 02:33:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:33:27 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:33:27 --> AuthFilter: Session data = {"__ci_last_regenerate":1754706718,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:33:27 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:33:27 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:33:27 --> Admin approving appointment ID: 60, Dentist ID: null
INFO - 2025-08-09 02:33:27 --> Appointment before approval: {"id":"60","branch_id":"1","dentist_id":null,"user_id":"13","appointment_datetime":"2025-08-14 10:33:00","status":"pending_approval","appointment_type":"scheduled","approval_status":"pending","decline_reason":null,"remarks":"g","created_at":"2025-08-09 02:33:22","updated_at":"2025-08-09 02:33:22","checked_in_at":null,"checked_in_by":null,"self_checkin":"0","started_at":null,"called_by":null,"treatment_status":null,"treatment_notes":null,"payment_status":"pending","payment_method":null,"payment_amount":null,"payment_date":null,"payment_received_by":null,"payment_notes":null,"appointment_date":"2025-08-14","appointment_time":"10:33"}
INFO - 2025-08-09 02:33:27 --> Appointment approval result: {"success":false,"message":"No dentists available at this time. Cannot approve appointment."}
INFO - 2025-08-09 02:33:34 --> AuthFilter: Checking auth for POST http://localhost:8080/admin/appointments/approve/60
DEBUG - 2025-08-09 02:33:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:33:34 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:33:34 --> AuthFilter: Session data = {"__ci_last_regenerate":1754706718,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:33:34 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:33:34 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:33:34 --> Admin approving appointment ID: 60, Dentist ID: 9
INFO - 2025-08-09 02:33:34 --> Appointment before approval: {"id":"60","branch_id":"1","dentist_id":null,"user_id":"13","appointment_datetime":"2025-08-14 10:33:00","status":"pending_approval","appointment_type":"scheduled","approval_status":"pending","decline_reason":null,"remarks":"g","created_at":"2025-08-09 02:33:22","updated_at":"2025-08-09 02:33:22","checked_in_at":null,"checked_in_by":null,"self_checkin":"0","started_at":null,"called_by":null,"treatment_status":null,"treatment_notes":null,"payment_status":"pending","payment_method":null,"payment_amount":null,"payment_date":null,"payment_received_by":null,"payment_notes":null,"appointment_date":"2025-08-14","appointment_time":"10:33"}
INFO - 2025-08-09 02:33:34 --> Appointment approval result: {"success":false,"message":"Selected dentist is not available at this time"}
INFO - 2025-08-09 02:33:37 --> AuthFilter: Checking auth for POST http://localhost:8080/admin/appointments/approve/60
DEBUG - 2025-08-09 02:33:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:33:37 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:33:37 --> AuthFilter: Session data = {"__ci_last_regenerate":1754706718,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:33:37 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:33:37 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:33:37 --> Admin approving appointment ID: 60, Dentist ID: 2
INFO - 2025-08-09 02:33:37 --> Appointment before approval: {"id":"60","branch_id":"1","dentist_id":null,"user_id":"13","appointment_datetime":"2025-08-14 10:33:00","status":"pending_approval","appointment_type":"scheduled","approval_status":"pending","decline_reason":null,"remarks":"g","created_at":"2025-08-09 02:33:22","updated_at":"2025-08-09 02:33:22","checked_in_at":null,"checked_in_by":null,"self_checkin":"0","started_at":null,"called_by":null,"treatment_status":null,"treatment_notes":null,"payment_status":"pending","payment_method":null,"payment_amount":null,"payment_date":null,"payment_received_by":null,"payment_notes":null,"appointment_date":"2025-08-14","appointment_time":"10:33"}
INFO - 2025-08-09 02:33:37 --> Appointment approval result: {"success":false,"message":"Selected dentist is not available at this time"}
INFO - 2025-08-09 02:33:46 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/appointments
DEBUG - 2025-08-09 02:33:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:33:46 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:33:46 --> AuthFilter: Session data = {"__ci_last_regenerate":1754706718,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:33:46 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:33:46 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:33:56 --> AuthFilter: Checking auth for POST http://localhost:8080/admin/appointments/create
DEBUG - 2025-08-09 02:33:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:33:56 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:33:56 --> AuthFilter: Session data = {"__ci_last_regenerate":1754706718,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:33:56 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:33:56 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:33:56 --> Creating scheduled appointment with data: {"branch_id":"1","user_id":"3","dentist_id":"9","appointment_date":"2025-08-14","appointment_time":"10:33","appointment_type":"scheduled","remarks":"d","approval_status":"pending","status":"pending_approval"}
INFO - 2025-08-09 02:33:57 --> Admin-created appointment pending with dentist assigned
INFO - 2025-08-09 02:33:57 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/appointments
DEBUG - 2025-08-09 02:33:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:33:57 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:33:57 --> AuthFilter: Session data = {"__ci_last_regenerate":1754706718,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:33:57 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:33:57 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:33:59 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 02:33:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:33:59 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:33:59 --> AuthFilter: Session data = {"__ci_last_regenerate":1754706718,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:33:59 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:33:59 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:34:05 --> AuthFilter: Checking auth for POST http://localhost:8080/admin/appointments/approve/61
DEBUG - 2025-08-09 02:34:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:34:05 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:34:05 --> AuthFilter: Session data = {"__ci_last_regenerate":1754706718,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:34:05 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:34:05 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:34:05 --> Admin approving appointment ID: 61, Dentist ID: null
INFO - 2025-08-09 02:34:05 --> Appointment before approval: {"id":"61","branch_id":"1","dentist_id":"9","user_id":"3","appointment_datetime":"2025-08-14 10:33:00","status":"pending_approval","appointment_type":"scheduled","approval_status":"pending","decline_reason":null,"remarks":"d","created_at":"2025-08-09 02:33:56","updated_at":"2025-08-09 02:33:56","checked_in_at":null,"checked_in_by":null,"self_checkin":"0","started_at":null,"called_by":null,"treatment_status":null,"treatment_notes":null,"payment_status":"pending","payment_method":null,"payment_amount":null,"payment_date":null,"payment_received_by":null,"payment_notes":null,"appointment_date":"2025-08-14","appointment_time":"10:33"}
INFO - 2025-08-09 02:34:05 --> AppointmentModel::approveAppointment - ID: 61, Dentist ID: null
INFO - 2025-08-09 02:34:05 --> Update data for appointment 61: {"approval_status":"approved","status":"confirmed","updated_at":"2025-08-09 02:34:05"}
INFO - 2025-08-09 02:34:05 --> Appointment 61 approved successfully - Status: confirmed, Approval: approved
INFO - 2025-08-09 02:34:05 --> Admin approved appointment: Patient ID 3, DateTime: 2025-08-14 10:33:00, Date: 2025-08-14, Time: 10:33
INFO - 2025-08-09 02:34:05 --> Appointment approval result: {"success":true,"message":"Appointment approved successfully"}
INFO - 2025-08-09 02:34:05 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 02:34:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:34:05 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:34:05 --> AuthFilter: Session data = {"__ci_last_regenerate":1754706718,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:34:05 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:34:05 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:34:08 --> AuthFilter: Checking auth for GET http://localhost:8080/checkin
DEBUG - 2025-08-09 02:34:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:34:08 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:34:08 --> AuthFilter: Session data = {"__ci_last_regenerate":1754706718,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:34:08 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:34:08 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:34:08 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 02:34:08 --> Found 0 appointments for today after filtering
INFO - 2025-08-09 02:34:39 --> AuthFilter: Checking auth for GET http://localhost:8080/checkin
DEBUG - 2025-08-09 02:34:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:34:39 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:34:39 --> AuthFilter: Session data = {"__ci_last_regenerate":1754706718,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:34:39 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:34:39 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:34:39 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 02:34:39 --> Found 0 appointments for today after filtering
INFO - 2025-08-09 02:35:10 --> AuthFilter: Checking auth for GET http://localhost:8080/checkin
DEBUG - 2025-08-09 02:35:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:35:10 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:35:10 --> AuthFilter: Session data = {"__ci_last_regenerate":1754706718,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:35:10 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:35:10 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:35:10 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 02:35:10 --> Found 0 appointments for today after filtering
INFO - 2025-08-09 02:35:41 --> AuthFilter: Checking auth for GET http://localhost:8080/checkin
DEBUG - 2025-08-09 02:35:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:35:41 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:35:41 --> AuthFilter: Session data = {"__ci_last_regenerate":1754706718,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:35:41 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:35:41 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:35:41 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 02:35:41 --> Found 0 appointments for today after filtering
INFO - 2025-08-09 02:36:12 --> AuthFilter: Checking auth for GET http://localhost:8080/checkin
DEBUG - 2025-08-09 02:36:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:36:12 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:36:12 --> AuthFilter: Session data = {"__ci_last_regenerate":1754706718,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:36:12 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:36:12 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:36:12 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 02:36:12 --> Found 0 appointments for today after filtering
INFO - 2025-08-09 02:36:43 --> AuthFilter: Checking auth for GET http://localhost:8080/checkin
DEBUG - 2025-08-09 02:36:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:36:43 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:36:43 --> AuthFilter: Session data = {"__ci_last_regenerate":1754706718,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:36:43 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:36:43 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:36:43 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 02:36:43 --> Found 0 appointments for today after filtering
INFO - 2025-08-09 02:37:14 --> AuthFilter: Checking auth for GET http://localhost:8080/checkin
DEBUG - 2025-08-09 02:37:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:37:14 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:37:14 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707034,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:37:14 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:37:14 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:37:14 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 02:37:14 --> Found 0 appointments for today after filtering
INFO - 2025-08-09 02:37:45 --> AuthFilter: Checking auth for GET http://localhost:8080/checkin
DEBUG - 2025-08-09 02:37:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:37:45 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:37:45 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707034,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:37:45 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:37:45 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:37:45 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 02:37:45 --> Found 0 appointments for today after filtering
INFO - 2025-08-09 02:38:16 --> AuthFilter: Checking auth for GET http://localhost:8080/checkin
DEBUG - 2025-08-09 02:38:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:38:16 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:38:16 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707034,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:38:16 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:38:16 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:38:16 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 02:38:16 --> Found 0 appointments for today after filtering
INFO - 2025-08-09 02:38:47 --> AuthFilter: Checking auth for GET http://localhost:8080/checkin
DEBUG - 2025-08-09 02:38:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:38:47 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:38:47 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707034,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:38:47 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:38:47 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:38:47 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 02:38:47 --> Found 0 appointments for today after filtering
INFO - 2025-08-09 02:39:06 --> AuthFilter: Checking auth for GET http://localhost:8080/checkin
DEBUG - 2025-08-09 02:39:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:39:06 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:39:06 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707034,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:39:06 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:39:06 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:39:06 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 02:39:06 --> Found 3 appointments for today after filtering
INFO - 2025-08-09 02:39:06 --> FINAL RESULT - Appointment ID: 62, Status: confirmed, Approval: approved, DateTime: 2025-08-09 10:00:00, Patient: Patient Jane
INFO - 2025-08-09 02:39:06 --> FINAL RESULT - Appointment ID: 63, Status: confirmed, Approval: approved, DateTime: 2025-08-09 11:00:00, Patient: John Bert Manaog
INFO - 2025-08-09 02:39:06 --> FINAL RESULT - Appointment ID: 64, Status: confirmed, Approval: auto_approved, DateTime: 2025-08-09 14:00:00, Patient: jb-joker
INFO - 2025-08-09 02:39:18 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 02:39:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:39:18 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:39:18 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707034,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:39:18 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:39:18 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:39:21 --> AuthFilter: Checking auth for GET http://localhost:8080/checkin
DEBUG - 2025-08-09 02:39:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:39:21 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:39:21 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707034,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:39:21 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:39:21 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:39:21 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 02:39:21 --> Found 3 appointments for today after filtering
INFO - 2025-08-09 02:39:21 --> FINAL RESULT - Appointment ID: 62, Status: confirmed, Approval: approved, DateTime: 2025-08-09 10:00:00, Patient: Patient Jane
INFO - 2025-08-09 02:39:21 --> FINAL RESULT - Appointment ID: 63, Status: confirmed, Approval: approved, DateTime: 2025-08-09 11:00:00, Patient: John Bert Manaog
INFO - 2025-08-09 02:39:21 --> FINAL RESULT - Appointment ID: 64, Status: confirmed, Approval: auto_approved, DateTime: 2025-08-09 14:00:00, Patient: jb-joker
INFO - 2025-08-09 02:39:23 --> AuthFilter: Checking auth for GET http://localhost:8080/checkin?id=d31aa460-e3aa-4911-8a3d-cf823e180596&vscodeBrowserReqId=1754707163690
DEBUG - 2025-08-09 02:39:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:39:23 --> AuthFilter: Session isLoggedIn = NO
INFO - 2025-08-09 02:39:23 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707163}
WARNING - 2025-08-09 02:39:23 --> AuthFilter: User not logged in, redirecting to login
DEBUG - 2025-08-09 02:39:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:39:29 --> PatientCheckin::checkinPatient called with ID: 62
DEBUG - 2025-08-09 02:39:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:39:29 --> Session data: {"__ci_last_regenerate":1754707034,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:39:29 --> Is logged in: YES
INFO - 2025-08-09 02:39:29 --> Request method: POST
INFO - 2025-08-09 02:39:29 --> Auth::getCurrentUser result: {"id":"1","user_type":"admin","name":"Admin User","address":"123 Admin Street","email":"admin@perfectsmile.com","gender":"male","password":"$2y$12$Tau0ciyH4Ny3A\/P0I.qEbO5i63Ja4AtTPBd4OblwwAnoQLCYokErS","phone":"1234567890","created_at":"2025-06-28 16:02:14","updated_at":"2025-08-08 10:05:30","occupation":null,"nationality":null,"date_of_birth":null,"age":null,"status":"active"}
INFO - 2025-08-09 02:39:29 --> User authorized: Admin User (Type: admin)
INFO - 2025-08-09 02:39:29 --> Appointment found: {"id":"62","branch_id":"1","dentist_id":"2","user_id":"3","appointment_datetime":"2025-08-09 10:00:00","status":"confirmed","appointment_type":"scheduled","approval_status":"approved","decline_reason":null,"remarks":null,"created_at":"2025-08-09 04:38:53","updated_at":null,"checked_in_at":null,"checked_in_by":null,"self_checkin":"0","started_at":null,"called_by":null,"treatment_status":null,"treatment_notes":null,"payment_status":"pending","payment_method":null,"payment_amount":null,"payment_date":null,"payment_received_by":null,"payment_notes":null,"appointment_date":"2025-08-09","appointment_time":"10:00"}
INFO - 2025-08-09 02:39:29 --> Updating appointment 62 with data: {"status":"checked_in","checked_in_at":"2025-08-09 02:39:29","checked_in_by":"1"}
INFO - 2025-08-09 02:39:29 --> Update result: SUCCESS
INFO - 2025-08-09 02:39:29 --> Patient checked in successfully. Appointment ID: 62
INFO - 2025-08-09 02:39:32 --> AuthFilter: Checking auth for GET http://localhost:8080/checkin
DEBUG - 2025-08-09 02:39:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:39:32 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:39:32 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707034,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:39:32 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:39:32 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:39:33 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 02:39:33 --> Found 3 appointments for today after filtering
INFO - 2025-08-09 02:39:33 --> FINAL RESULT - Appointment ID: 62, Status: checked_in, Approval: approved, DateTime: 2025-08-09 10:00:00, Patient: Patient Jane
INFO - 2025-08-09 02:39:33 --> FINAL RESULT - Appointment ID: 63, Status: confirmed, Approval: approved, DateTime: 2025-08-09 11:00:00, Patient: John Bert Manaog
INFO - 2025-08-09 02:39:33 --> FINAL RESULT - Appointment ID: 64, Status: confirmed, Approval: auto_approved, DateTime: 2025-08-09 14:00:00, Patient: jb-joker
INFO - 2025-08-09 02:39:38 --> AuthFilter: Checking auth for GET http://localhost:8080/queue
DEBUG - 2025-08-09 02:39:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:39:38 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:39:38 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707034,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:39:38 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:39:38 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:39:38 --> TreatmentQueue: Found 1 waiting patients (checked_in status)
INFO - 2025-08-09 02:39:38 --> TreatmentQueue: Waiting patient - ID: 62, Name: Patient Jane, Status: checked_in, Checked in at: 2025-08-09 02:39:29
INFO - 2025-08-09 02:39:49 --> AuthFilter: Checking auth for POST http://localhost:8080/queue/call/62
DEBUG - 2025-08-09 02:39:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:39:49 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:39:49 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707034,"_ci_previous_url":"http:\/\/localhost:8080\/queue","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:39:49 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:39:49 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:39:49 --> AuthFilter: Checking auth for GET http://localhost:8080/checkup/patient/62
DEBUG - 2025-08-09 02:39:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:39:49 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:39:49 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707034,"_ci_previous_url":"http:\/\/localhost:8080\/queue","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:39:49 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:39:49 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:39:49 --> Patient 3 has 2 previous records
INFO - 2025-08-09 02:39:49 --> No current record, checking previous records
DEBUG - 2025-08-09 02:39:49 --> Previous records: [{"id":"3","user_id":"3","appointment_id":null,"record_date":"2025-07-21","diagnosis":"ffwdeefffeknfeefn","treatment":"ffwdeefffeknfeefn","notes":"ffwdeefffeknfeefn","xray_image_url":null,"next_appointment_date":null,"dentist_id":"1","dentist_name":"Admin User","appointment_datetime":null},{"id":"4","user_id":"3","appointment_id":null,"record_date":"2025-07-21","diagnosis":"ffwdeefffeknfeefn","treatment":"ffwdeefffeknfeefn","notes":"ffwdeefffeknfeefn","xray_image_url":null,"next_appointment_date":null,"dentist_id":"1","dentist_name":"Admin User","appointment_datetime":null}]
DEBUG - 2025-08-09 02:39:49 --> Previous chart: [{"id":"1","dental_record_id":"3","tooth_number":"1","tooth_type":"permanent","condition":"cavity","status":"none","notes":"","recommended_service_id":null,"priority":"low","estimated_cost":null,"created_at":"2025-07-21 10:30:22","updated_at":"2025-07-21 10:30:22"}]
INFO - 2025-08-09 02:40:23 --> AuthFilter: Checking auth for POST http://localhost:8080/checkup/save/62
DEBUG - 2025-08-09 02:40:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:40:23 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:40:23 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707034,"_ci_previous_url":"http:\/\/localhost:8080\/checkup\/patient\/62","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:40:23 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:40:23 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:40:23 --> Checkup save - Chart data received: {"1":{"condition":"cavity","treatment":"none","notes":""},"2":{"condition":"","treatment":"","notes":""},"3":{"condition":"","treatment":"","notes":""},"4":{"condition":"","treatment":"","notes":""},"5":{"condition":"","treatment":"","notes":""},"6":{"condition":"","treatment":"","notes":""},"7":{"condition":"","treatment":"","notes":""},"8":{"condition":"","treatment":"","notes":""},"9":{"condition":"","treatment":"","notes":""},"10":{"condition":"","treatment":"","notes":""},"11":{"condition":"","treatment":"","notes":""},"12":{"condition":"","treatment":"","notes":""},"13":{"condition":"missing","treatment":"extraction","notes":""},"14":{"condition":"","treatment":"","notes":""},"15":{"condition":"","treatment":"","notes":""},"16":{"condition":"","treatment":"","notes":""},"17":{"condition":"","treatment":"","notes":""},"18":{"condition":"","treatment":"","notes":""},"19":{"condition":"","treatment":"","notes":""},"20":{"condition":"","treatment":"","notes":""},"21":{"condition":"","treatment":"","notes":""},"22":{"condition":"","treatment":"","notes":""},"23":{"condition":"","treatment":"","notes":""},"24":{"condition":"","treatment":"","notes":""},"25":{"condition":"","treatment":"","notes":""},"26":{"condition":"","treatment":"","notes":""},"27":{"condition":"","treatment":"","notes":""},"28":{"condition":"","treatment":"","notes":""},"29":{"condition":"","treatment":"","notes":""},"30":{"condition":"","treatment":"","notes":""},"31":{"condition":"","treatment":"","notes":""},"32":{"condition":"","treatment":"","notes":""}}
INFO - 2025-08-09 02:40:23 --> Saving dental chart data for record 8: [{"dental_record_id":8,"tooth_number":1,"tooth_type":"permanent","condition":"cavity","status":"none","notes":"","priority":"low","created_at":"2025-08-09 02:40:23","updated_at":"2025-08-09 02:40:23"},{"dental_record_id":8,"tooth_number":13,"tooth_type":"permanent","condition":"missing","status":"extraction","notes":"","priority":"high","created_at":"2025-08-09 02:40:23","updated_at":"2025-08-09 02:40:23"}]
INFO - 2025-08-09 02:40:23 --> Dental chart save result: success
INFO - 2025-08-09 02:40:23 --> Checkup save - Chart save result: success
INFO - 2025-08-09 02:40:23 --> AuthFilter: Checking auth for GET http://localhost:8080/checkup
DEBUG - 2025-08-09 02:40:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:40:23 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:40:23 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707034,"_ci_previous_url":"http:\/\/localhost:8080\/checkup\/patient\/62","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:40:23 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:40:23 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:40:44 --> AuthFilter: Checking auth for GET http://localhost:8080/queue
DEBUG - 2025-08-09 02:40:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:40:44 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:40:44 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707034,"_ci_previous_url":"http:\/\/localhost:8080\/checkup","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:40:44 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:40:44 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:40:44 --> TreatmentQueue: Found 0 waiting patients (checked_in status)
INFO - 2025-08-09 02:40:50 --> AuthFilter: Checking auth for GET http://localhost:8080/checkin
DEBUG - 2025-08-09 02:40:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:40:50 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:40:50 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707034,"_ci_previous_url":"http:\/\/localhost:8080\/queue","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:40:50 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:40:50 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:40:50 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 02:40:50 --> Found 2 appointments for today after filtering
INFO - 2025-08-09 02:40:50 --> FINAL RESULT - Appointment ID: 63, Status: confirmed, Approval: approved, DateTime: 2025-08-09 11:00:00, Patient: John Bert Manaog
INFO - 2025-08-09 02:40:50 --> FINAL RESULT - Appointment ID: 64, Status: confirmed, Approval: auto_approved, DateTime: 2025-08-09 14:00:00, Patient: jb-joker
INFO - 2025-08-09 02:40:57 --> AuthFilter: Checking auth for GET http://localhost:8080/checkup
DEBUG - 2025-08-09 02:40:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:40:57 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:40:57 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707034,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:40:57 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:40:57 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:40:59 --> AuthFilter: Checking auth for GET http://localhost:8080/checkin
DEBUG - 2025-08-09 02:40:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:40:59 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:40:59 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707034,"_ci_previous_url":"http:\/\/localhost:8080\/checkup","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:40:59 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:40:59 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:40:59 --> Checking appointments for date: 2025-08-09
INFO - 2025-08-09 02:40:59 --> Found 2 appointments for today after filtering
INFO - 2025-08-09 02:40:59 --> FINAL RESULT - Appointment ID: 63, Status: confirmed, Approval: approved, DateTime: 2025-08-09 11:00:00, Patient: John Bert Manaog
INFO - 2025-08-09 02:40:59 --> FINAL RESULT - Appointment ID: 64, Status: confirmed, Approval: auto_approved, DateTime: 2025-08-09 14:00:00, Patient: jb-joker
INFO - 2025-08-09 02:41:02 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/patient-checkups
DEBUG - 2025-08-09 02:41:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:41:02 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:41:02 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707034,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:41:02 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:41:02 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:41:14 --> AuthFilter: Checking auth for GET http://localhost:8080/checkup
DEBUG - 2025-08-09 02:41:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:41:14 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:41:14 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707034,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/patient-checkups","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:41:14 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:41:14 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:41:22 --> AuthFilter: Checking auth for GET http://localhost:8080/checkup/start/63
DEBUG - 2025-08-09 02:41:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:41:22 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:41:22 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707034,"_ci_previous_url":"http:\/\/localhost:8080\/checkup","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:41:22 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:41:22 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:41:22 --> AuthFilter: Checking auth for GET http://localhost:8080/checkup/patient/63
DEBUG - 2025-08-09 02:41:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:41:22 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:41:22 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707034,"_ci_previous_url":"http:\/\/localhost:8080\/checkup","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:41:22 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:41:22 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:41:22 --> Patient 12 has 1 previous records
INFO - 2025-08-09 02:41:22 --> No current record, checking previous records
DEBUG - 2025-08-09 02:41:22 --> Previous records: [{"id":"6","user_id":"12","appointment_id":null,"record_date":"2025-08-08","diagnosis":"ssssssssssssssssssssss","treatment":"ssssssssssssssssssssss","notes":"sssssssssssssssssssssssssss","xray_image_url":null,"next_appointment_date":null,"dentist_id":"1","dentist_name":"Admin User","appointment_datetime":null}]
DEBUG - 2025-08-09 02:41:22 --> Previous chart: [{"id":"11","dental_record_id":"6","tooth_number":"4","tooth_type":"permanent","condition":"cavity","status":"","notes":"","recommended_service_id":null,"priority":"low","estimated_cost":null,"created_at":"2025-08-08 14:36:48","updated_at":"2025-08-08 14:36:48"}]
INFO - 2025-08-09 02:41:37 --> AuthFilter: Checking auth for GET http://localhost:8080/checkup
DEBUG - 2025-08-09 02:41:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:41:37 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:41:37 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707034,"_ci_previous_url":"http:\/\/localhost:8080\/checkup\/patient\/63","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:41:37 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:41:37 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:41:43 --> AuthFilter: Checking auth for GET http://localhost:8080/checkup/patient/63
DEBUG - 2025-08-09 02:41:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:41:43 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:41:43 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707034,"_ci_previous_url":"http:\/\/localhost:8080\/checkup","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:41:43 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:41:43 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:41:43 --> Patient 12 has 1 previous records
INFO - 2025-08-09 02:41:43 --> No current record, checking previous records
DEBUG - 2025-08-09 02:41:43 --> Previous records: [{"id":"6","user_id":"12","appointment_id":null,"record_date":"2025-08-08","diagnosis":"ssssssssssssssssssssss","treatment":"ssssssssssssssssssssss","notes":"sssssssssssssssssssssssssss","xray_image_url":null,"next_appointment_date":null,"dentist_id":"1","dentist_name":"Admin User","appointment_datetime":null}]
DEBUG - 2025-08-09 02:41:43 --> Previous chart: [{"id":"11","dental_record_id":"6","tooth_number":"4","tooth_type":"permanent","condition":"cavity","status":"","notes":"","recommended_service_id":null,"priority":"low","estimated_cost":null,"created_at":"2025-08-08 14:36:48","updated_at":"2025-08-08 14:36:48"}]
INFO - 2025-08-09 02:42:00 --> AuthFilter: Checking auth for POST http://localhost:8080/checkup/save/63
DEBUG - 2025-08-09 02:42:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:42:00 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:42:00 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707034,"_ci_previous_url":"http:\/\/localhost:8080\/checkup\/patient\/63","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:42:00 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:42:00 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:42:00 --> Checkup save - Chart data received: {"1":{"condition":"","treatment":"","notes":""},"2":{"condition":"","treatment":"","notes":""},"3":{"condition":"","treatment":"","notes":""},"4":{"condition":"cavity","treatment":"","notes":""},"5":{"condition":"","treatment":"","notes":""},"6":{"condition":"","treatment":"","notes":""},"7":{"condition":"","treatment":"","notes":""},"8":{"condition":"","treatment":"","notes":""},"9":{"condition":"","treatment":"","notes":""},"10":{"condition":"","treatment":"","notes":""},"11":{"condition":"","treatment":"","notes":""},"12":{"condition":"","treatment":"","notes":""},"13":{"condition":"","treatment":"","notes":""},"14":{"condition":"","treatment":"","notes":""},"15":{"condition":"","treatment":"","notes":""},"16":{"condition":"","treatment":"","notes":""},"17":{"condition":"","treatment":"","notes":""},"18":{"condition":"","treatment":"","notes":""},"19":{"condition":"","treatment":"","notes":""},"20":{"condition":"","treatment":"","notes":""},"21":{"condition":"","treatment":"","notes":""},"22":{"condition":"","treatment":"","notes":""},"23":{"condition":"","treatment":"","notes":""},"24":{"condition":"","treatment":"","notes":""},"25":{"condition":"","treatment":"","notes":""},"26":{"condition":"","treatment":"","notes":""},"27":{"condition":"","treatment":"","notes":""},"28":{"condition":"","treatment":"","notes":""},"29":{"condition":"","treatment":"","notes":""},"30":{"condition":"","treatment":"","notes":""},"31":{"condition":"","treatment":"","notes":""},"32":{"condition":"","treatment":"","notes":""}}
INFO - 2025-08-09 02:42:00 --> Saving dental chart data for record 9: [{"dental_record_id":9,"tooth_number":4,"tooth_type":"permanent","condition":"cavity","status":"","notes":"","priority":"low","created_at":"2025-08-09 02:42:00","updated_at":"2025-08-09 02:42:00"}]
INFO - 2025-08-09 02:42:00 --> Dental chart save result: success
INFO - 2025-08-09 02:42:00 --> Checkup save - Chart save result: success
INFO - 2025-08-09 02:42:00 --> AuthFilter: Checking auth for GET http://localhost:8080/checkup
DEBUG - 2025-08-09 02:42:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:42:00 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:42:00 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707034,"_ci_previous_url":"http:\/\/localhost:8080\/checkup\/patient\/63","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:42:00 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:42:00 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:42:07 --> AuthFilter: Checking auth for GET http://localhost:8080/checkup
DEBUG - 2025-08-09 02:42:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:42:07 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:42:07 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707034,"_ci_previous_url":"http:\/\/localhost:8080\/checkup","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:42:07 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:42:07 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:42:09 --> AuthFilter: Checking auth for GET http://localhost:8080/queue
DEBUG - 2025-08-09 02:42:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:42:09 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:42:09 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707034,"_ci_previous_url":"http:\/\/localhost:8080\/checkup","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:42:09 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:42:09 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:42:10 --> TreatmentQueue: Found 0 waiting patients (checked_in status)
INFO - 2025-08-09 02:42:15 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/patient-checkups
DEBUG - 2025-08-09 02:42:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:42:15 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:42:15 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707335,"_ci_previous_url":"http:\/\/localhost:8080\/queue","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:42:15 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:42:15 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:43:07 --> AuthFilter: Checking auth for GET http://localhost:8080/queue?id=6588bd21-5778-427f-9249-8e3bf7e9a5df&vscodeBrowserReqId=1754707387483
DEBUG - 2025-08-09 02:43:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:43:07 --> AuthFilter: Session isLoggedIn = NO
INFO - 2025-08-09 02:43:07 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707387}
WARNING - 2025-08-09 02:43:07 --> AuthFilter: User not logged in, redirecting to login
DEBUG - 2025-08-09 02:43:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:45:03 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/dental-records
DEBUG - 2025-08-09 02:45:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:45:03 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:45:03 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707335,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/patient-checkups","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:45:03 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:45:03 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:45:04 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/patient-checkups
DEBUG - 2025-08-09 02:45:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:45:04 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:45:04 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707335,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/patient-checkups","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:45:04 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:45:04 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:45:06 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/patients
DEBUG - 2025-08-09 02:45:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:45:06 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:45:06 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707335,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/patient-checkups","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:45:06 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:45:06 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:45:09 --> AuthFilter: Checking auth for GET http://localhost:8080/checkin
DEBUG - 2025-08-09 02:45:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:45:09 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:45:09 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707335,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/patients","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:45:09 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:45:09 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:45:09 --> PatientCheckin: Checking appointments for date: 2025-08-09
INFO - 2025-08-09 02:45:09 --> PatientCheckin: Found 1 appointments for today after filtering
INFO - 2025-08-09 02:45:09 --> PatientCheckin: Appointment ID: 64, Status: confirmed, Approval: auto_approved, DateTime: 2025-08-09 14:00:00, Patient: jb-joker, Dentist: Dr. John Smith
INFO - 2025-08-09 02:45:11 --> AuthFilter: Checking auth for GET http://localhost:8080/queue
DEBUG - 2025-08-09 02:45:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:45:11 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:45:11 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707335,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:45:11 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:45:11 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:45:12 --> TreatmentQueue: Found 0 waiting patients (checked_in status)
INFO - 2025-08-09 02:45:28 --> AuthFilter: Checking auth for GET http://localhost:8080/queue
DEBUG - 2025-08-09 02:45:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:45:28 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:45:28 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707335,"_ci_previous_url":"http:\/\/localhost:8080\/queue","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:45:28 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:45:28 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:45:28 --> TreatmentQueue: Found 0 waiting patients (checked_in status)
INFO - 2025-08-09 02:45:44 --> AuthFilter: Checking auth for GET http://localhost:8080/queue
DEBUG - 2025-08-09 02:45:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:45:44 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:45:44 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707335,"_ci_previous_url":"http:\/\/localhost:8080\/queue","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:45:44 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:45:44 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:45:44 --> TreatmentQueue: Found 0 waiting patients (checked_in status)
INFO - 2025-08-09 02:46:00 --> AuthFilter: Checking auth for GET http://localhost:8080/queue
DEBUG - 2025-08-09 02:46:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:46:00 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:46:00 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707335,"_ci_previous_url":"http:\/\/localhost:8080\/queue","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:46:00 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:46:00 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:46:00 --> TreatmentQueue: Found 0 waiting patients (checked_in status)
INFO - 2025-08-09 02:46:16 --> AuthFilter: Checking auth for GET http://localhost:8080/queue
DEBUG - 2025-08-09 02:46:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:46:16 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:46:16 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707335,"_ci_previous_url":"http:\/\/localhost:8080\/queue","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:46:16 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:46:16 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:46:16 --> TreatmentQueue: Found 0 waiting patients (checked_in status)
INFO - 2025-08-09 02:46:32 --> AuthFilter: Checking auth for GET http://localhost:8080/queue
DEBUG - 2025-08-09 02:46:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:46:32 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:46:32 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707335,"_ci_previous_url":"http:\/\/localhost:8080\/queue","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:46:32 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:46:32 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:46:32 --> TreatmentQueue: Found 0 waiting patients (checked_in status)
INFO - 2025-08-09 02:46:48 --> AuthFilter: Checking auth for GET http://localhost:8080/queue
DEBUG - 2025-08-09 02:46:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:46:48 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:46:48 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707335,"_ci_previous_url":"http:\/\/localhost:8080\/queue","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:46:48 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:46:48 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:46:48 --> TreatmentQueue: Found 0 waiting patients (checked_in status)
INFO - 2025-08-09 02:47:04 --> AuthFilter: Checking auth for GET http://localhost:8080/queue
DEBUG - 2025-08-09 02:47:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:47:04 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:47:04 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707335,"_ci_previous_url":"http:\/\/localhost:8080\/queue","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:47:04 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:47:04 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:47:04 --> TreatmentQueue: Found 0 waiting patients (checked_in status)
INFO - 2025-08-09 02:47:18 --> AuthFilter: Checking auth for GET http://localhost:8080/checkin?id=bd000e5e-1ce1-4c3f-a19e-52414f0285c6&vscodeBrowserReqId=1754707638121
DEBUG - 2025-08-09 02:47:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:47:18 --> AuthFilter: Session isLoggedIn = NO
INFO - 2025-08-09 02:47:18 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707638}
WARNING - 2025-08-09 02:47:18 --> AuthFilter: User not logged in, redirecting to login
DEBUG - 2025-08-09 02:47:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:47:20 --> AuthFilter: Checking auth for GET http://localhost:8080/queue
DEBUG - 2025-08-09 02:47:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:47:20 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:47:20 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707640,"_ci_previous_url":"http:\/\/localhost:8080\/queue","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:47:20 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:47:20 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:47:20 --> TreatmentQueue: Found 0 waiting patients (checked_in status)
INFO - 2025-08-09 02:47:20 --> AuthFilter: Checking auth for GET http://localhost:8080/queue?id=bd000e5e-1ce1-4c3f-a19e-52414f0285c6&vscodeBrowserReqId=1754707640463
DEBUG - 2025-08-09 02:47:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:47:20 --> AuthFilter: Session isLoggedIn = NO
INFO - 2025-08-09 02:47:20 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707640}
WARNING - 2025-08-09 02:47:20 --> AuthFilter: User not logged in, redirecting to login
DEBUG - 2025-08-09 02:47:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:47:36 --> AuthFilter: Checking auth for GET http://localhost:8080/queue
DEBUG - 2025-08-09 02:47:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:47:36 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:47:36 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707640,"_ci_previous_url":"http:\/\/localhost:8080\/queue","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:47:36 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:47:36 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:47:36 --> TreatmentQueue: Found 0 waiting patients (checked_in status)
INFO - 2025-08-09 02:47:52 --> AuthFilter: Checking auth for GET http://localhost:8080/queue
DEBUG - 2025-08-09 02:47:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:47:52 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:47:52 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707640,"_ci_previous_url":"http:\/\/localhost:8080\/queue","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:47:52 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:47:52 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:47:52 --> TreatmentQueue: Found 0 waiting patients (checked_in status)
INFO - 2025-08-09 02:47:56 --> AuthFilter: Checking auth for GET http://localhost:8080/queue?id=bd000e5e-1ce1-4c3f-a19e-52414f0285c6&vscodeBrowserReqId=1754707676625
DEBUG - 2025-08-09 02:47:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:47:56 --> AuthFilter: Session isLoggedIn = NO
INFO - 2025-08-09 02:47:56 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707676}
WARNING - 2025-08-09 02:47:56 --> AuthFilter: User not logged in, redirecting to login
DEBUG - 2025-08-09 02:47:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:48:08 --> AuthFilter: Checking auth for GET http://localhost:8080/queue
DEBUG - 2025-08-09 02:48:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:48:08 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:48:08 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707640,"_ci_previous_url":"http:\/\/localhost:8080\/queue","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:48:08 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:48:08 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:48:08 --> TreatmentQueue: Found 1 waiting patients (checked_in status)
INFO - 2025-08-09 02:48:08 --> TreatmentQueue: Waiting patient - ID: 64, Name: jb-joker, Status: checked_in, Checked in at: 2025-08-09 10:47:53
INFO - 2025-08-09 02:48:24 --> AuthFilter: Checking auth for GET http://localhost:8080/queue
DEBUG - 2025-08-09 02:48:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:48:24 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:48:24 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707640,"_ci_previous_url":"http:\/\/localhost:8080\/queue","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:48:24 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:48:24 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:48:24 --> TreatmentQueue: Found 1 waiting patients (checked_in status)
INFO - 2025-08-09 02:48:24 --> TreatmentQueue: Waiting patient - ID: 64, Name: jb-joker, Status: checked_in, Checked in at: 2025-08-09 10:47:53
INFO - 2025-08-09 02:48:40 --> AuthFilter: Checking auth for GET http://localhost:8080/queue
DEBUG - 2025-08-09 02:48:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:48:40 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:48:40 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707640,"_ci_previous_url":"http:\/\/localhost:8080\/queue","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:48:40 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:48:40 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:48:40 --> TreatmentQueue: Found 1 waiting patients (checked_in status)
INFO - 2025-08-09 02:48:40 --> TreatmentQueue: Waiting patient - ID: 64, Name: jb-joker, Status: checked_in, Checked in at: 2025-08-09 10:47:53
INFO - 2025-08-09 02:48:56 --> AuthFilter: Checking auth for GET http://localhost:8080/queue
DEBUG - 2025-08-09 02:48:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:48:56 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:48:56 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707640,"_ci_previous_url":"http:\/\/localhost:8080\/queue","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:48:56 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:48:56 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:48:56 --> TreatmentQueue: Found 1 waiting patients (checked_in status)
INFO - 2025-08-09 02:48:56 --> TreatmentQueue: Waiting patient - ID: 64, Name: jb-joker, Status: checked_in, Checked in at: 2025-08-09 10:47:53
INFO - 2025-08-09 02:49:12 --> AuthFilter: Checking auth for GET http://localhost:8080/queue
DEBUG - 2025-08-09 02:49:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:49:12 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:49:12 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707640,"_ci_previous_url":"http:\/\/localhost:8080\/queue","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:49:12 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:49:12 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:49:12 --> TreatmentQueue: Found 1 waiting patients (checked_in status)
INFO - 2025-08-09 02:49:12 --> TreatmentQueue: Waiting patient - ID: 64, Name: jb-joker, Status: checked_in, Checked in at: 2025-08-09 10:47:53
INFO - 2025-08-09 02:49:28 --> AuthFilter: Checking auth for GET http://localhost:8080/queue
DEBUG - 2025-08-09 02:49:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:49:28 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:49:28 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707640,"_ci_previous_url":"http:\/\/localhost:8080\/queue","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:49:28 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:49:28 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:49:28 --> TreatmentQueue: Found 1 waiting patients (checked_in status)
INFO - 2025-08-09 02:49:28 --> TreatmentQueue: Waiting patient - ID: 64, Name: jb-joker, Status: checked_in, Checked in at: 2025-08-09 10:47:53
INFO - 2025-08-09 02:49:44 --> AuthFilter: Checking auth for GET http://localhost:8080/queue
DEBUG - 2025-08-09 02:49:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:49:44 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:49:44 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707640,"_ci_previous_url":"http:\/\/localhost:8080\/queue","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:49:44 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:49:44 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:49:44 --> TreatmentQueue: Found 1 waiting patients (checked_in status)
INFO - 2025-08-09 02:49:44 --> TreatmentQueue: Waiting patient - ID: 64, Name: jb-joker, Status: checked_in, Checked in at: 2025-08-09 10:47:53
INFO - 2025-08-09 02:50:00 --> AuthFilter: Checking auth for GET http://localhost:8080/queue
DEBUG - 2025-08-09 02:50:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:50:00 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:50:00 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707640,"_ci_previous_url":"http:\/\/localhost:8080\/queue","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:50:00 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:50:00 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:50:00 --> TreatmentQueue: Found 1 waiting patients (checked_in status)
INFO - 2025-08-09 02:50:00 --> TreatmentQueue: Waiting patient - ID: 64, Name: jb-joker, Status: checked_in, Checked in at: 2025-08-09 10:47:53
INFO - 2025-08-09 02:50:16 --> AuthFilter: Checking auth for GET http://localhost:8080/queue
DEBUG - 2025-08-09 02:50:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:50:16 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:50:16 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707640,"_ci_previous_url":"http:\/\/localhost:8080\/queue","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:50:16 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:50:16 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:50:16 --> TreatmentQueue: Found 1 waiting patients (checked_in status)
INFO - 2025-08-09 02:50:16 --> TreatmentQueue: Waiting patient - ID: 64, Name: jb-joker, Status: checked_in, Checked in at: 2025-08-09 10:47:53
INFO - 2025-08-09 02:50:32 --> AuthFilter: Checking auth for GET http://localhost:8080/queue
DEBUG - 2025-08-09 02:50:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:50:32 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:50:32 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707640,"_ci_previous_url":"http:\/\/localhost:8080\/queue","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:50:32 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:50:32 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:50:32 --> TreatmentQueue: Found 1 waiting patients (checked_in status)
INFO - 2025-08-09 02:50:32 --> TreatmentQueue: Waiting patient - ID: 64, Name: jb-joker, Status: checked_in, Checked in at: 2025-08-09 10:47:53
INFO - 2025-08-09 02:50:48 --> AuthFilter: Checking auth for GET http://localhost:8080/queue
DEBUG - 2025-08-09 02:50:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:50:48 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:50:48 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707640,"_ci_previous_url":"http:\/\/localhost:8080\/queue","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:50:48 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:50:48 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:50:48 --> TreatmentQueue: Found 1 waiting patients (checked_in status)
INFO - 2025-08-09 02:50:48 --> TreatmentQueue: Waiting patient - ID: 64, Name: jb-joker, Status: checked_in, Checked in at: 2025-08-09 10:47:53
INFO - 2025-08-09 02:51:04 --> AuthFilter: Checking auth for GET http://localhost:8080/queue
DEBUG - 2025-08-09 02:51:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:51:04 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:51:04 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707640,"_ci_previous_url":"http:\/\/localhost:8080\/queue","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:51:04 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:51:04 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:51:04 --> TreatmentQueue: Found 1 waiting patients (checked_in status)
INFO - 2025-08-09 02:51:04 --> TreatmentQueue: Waiting patient - ID: 64, Name: jb-joker, Status: checked_in, Checked in at: 2025-08-09 10:47:53
INFO - 2025-08-09 02:51:20 --> AuthFilter: Checking auth for GET http://localhost:8080/queue
DEBUG - 2025-08-09 02:51:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:51:20 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:51:20 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707640,"_ci_previous_url":"http:\/\/localhost:8080\/queue","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:51:20 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:51:20 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:51:20 --> TreatmentQueue: Found 1 waiting patients (checked_in status)
INFO - 2025-08-09 02:51:20 --> TreatmentQueue: Waiting patient - ID: 64, Name: jb-joker, Status: checked_in, Checked in at: 2025-08-09 10:47:53
INFO - 2025-08-09 02:51:36 --> AuthFilter: Checking auth for GET http://localhost:8080/queue
DEBUG - 2025-08-09 02:51:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:51:36 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:51:36 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707640,"_ci_previous_url":"http:\/\/localhost:8080\/queue","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:51:36 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:51:36 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:51:36 --> TreatmentQueue: Found 1 waiting patients (checked_in status)
INFO - 2025-08-09 02:51:36 --> TreatmentQueue: Waiting patient - ID: 64, Name: jb-joker, Status: checked_in, Checked in at: 2025-08-09 10:47:53
INFO - 2025-08-09 02:51:52 --> AuthFilter: Checking auth for GET http://localhost:8080/queue
DEBUG - 2025-08-09 02:51:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:51:52 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:51:52 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707640,"_ci_previous_url":"http:\/\/localhost:8080\/queue","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:51:52 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:51:52 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:51:52 --> TreatmentQueue: Found 1 waiting patients (checked_in status)
INFO - 2025-08-09 02:51:52 --> TreatmentQueue: Waiting patient - ID: 64, Name: jb-joker, Status: checked_in, Checked in at: 2025-08-09 10:47:53
INFO - 2025-08-09 02:52:08 --> AuthFilter: Checking auth for GET http://localhost:8080/queue
DEBUG - 2025-08-09 02:52:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:52:08 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:52:08 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707640,"_ci_previous_url":"http:\/\/localhost:8080\/queue","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:52:08 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:52:08 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:52:08 --> TreatmentQueue: Found 1 waiting patients (checked_in status)
INFO - 2025-08-09 02:52:08 --> TreatmentQueue: Waiting patient - ID: 64, Name: jb-joker, Status: checked_in, Checked in at: 2025-08-09 10:47:53
INFO - 2025-08-09 02:52:24 --> AuthFilter: Checking auth for GET http://localhost:8080/queue
DEBUG - 2025-08-09 02:52:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:52:24 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:52:24 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707944,"_ci_previous_url":"http:\/\/localhost:8080\/queue","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:52:24 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:52:24 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:52:24 --> TreatmentQueue: Found 1 waiting patients (checked_in status)
INFO - 2025-08-09 02:52:24 --> TreatmentQueue: Waiting patient - ID: 64, Name: jb-joker, Status: checked_in, Checked in at: 2025-08-09 10:47:53
INFO - 2025-08-09 02:52:40 --> AuthFilter: Checking auth for GET http://localhost:8080/queue
DEBUG - 2025-08-09 02:52:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:52:40 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:52:40 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707944,"_ci_previous_url":"http:\/\/localhost:8080\/queue","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:52:40 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:52:40 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:52:40 --> TreatmentQueue: Found 1 waiting patients (checked_in status)
INFO - 2025-08-09 02:52:40 --> TreatmentQueue: Waiting patient - ID: 64, Name: jb-joker, Status: checked_in, Checked in at: 2025-08-09 10:47:53
INFO - 2025-08-09 02:52:56 --> AuthFilter: Checking auth for GET http://localhost:8080/queue
DEBUG - 2025-08-09 02:52:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:52:56 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:52:56 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707944,"_ci_previous_url":"http:\/\/localhost:8080\/queue","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:52:56 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:52:56 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:52:56 --> TreatmentQueue: Found 1 waiting patients (checked_in status)
INFO - 2025-08-09 02:52:56 --> TreatmentQueue: Waiting patient - ID: 64, Name: jb-joker, Status: checked_in, Checked in at: 2025-08-09 10:47:53
INFO - 2025-08-09 02:53:06 --> AuthFilter: Checking auth for GET http://localhost:8080/queue
DEBUG - 2025-08-09 02:53:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:53:06 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:53:06 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707944,"_ci_previous_url":"http:\/\/localhost:8080\/queue","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:53:06 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:53:06 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:53:06 --> TreatmentQueue: Found 1 waiting patients (checked_in status)
INFO - 2025-08-09 02:53:06 --> TreatmentQueue: Waiting patient - ID: 64, Name: jb-joker, Status: checked_in, Checked in at: 2025-08-09 10:47:53
INFO - 2025-08-09 02:53:08 --> AuthFilter: Checking auth for GET http://localhost:8080/queue
DEBUG - 2025-08-09 02:53:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:53:08 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:53:08 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707944,"_ci_previous_url":"http:\/\/localhost:8080\/queue","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:53:08 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:53:08 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:53:08 --> TreatmentQueue: Found 1 waiting patients (checked_in status)
INFO - 2025-08-09 02:53:08 --> TreatmentQueue: Waiting patient - ID: 64, Name: jb-joker, Status: checked_in, Checked in at: 2025-08-09 10:47:53
INFO - 2025-08-09 02:53:14 --> AuthFilter: Checking auth for GET http://localhost:8080/checkup
DEBUG - 2025-08-09 02:53:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:53:14 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:53:14 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707944,"_ci_previous_url":"http:\/\/localhost:8080\/queue","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:53:14 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:53:14 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:53:20 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/patient-checkups
DEBUG - 2025-08-09 02:53:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:53:20 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:53:20 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707944,"_ci_previous_url":"http:\/\/localhost:8080\/checkup","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:53:20 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:53:20 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:56:37 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/patient-checkups
DEBUG - 2025-08-09 02:56:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:56:37 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:56:37 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707944,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/patient-checkups","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:56:37 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:56:37 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:56:40 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/dental-records
DEBUG - 2025-08-09 02:56:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:56:40 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:56:40 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707944,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/patient-checkups","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:56:40 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:56:40 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:56:44 --> AuthFilter: Checking auth for GET http://localhost:8080/checkin
DEBUG - 2025-08-09 02:56:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:56:44 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:56:44 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707944,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/patient-checkups","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:56:44 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:56:44 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:56:44 --> PatientCheckin: Checking appointments for date: 2025-08-09
INFO - 2025-08-09 02:56:44 --> PatientCheckin: Found 1 appointments for today after filtering
INFO - 2025-08-09 02:56:44 --> PatientCheckin: Appointment ID: 64, Status: checked_in, Approval: auto_approved, DateTime: 2025-08-09 14:00:00, Patient: jb-joker, Dentist: Dr. John Smith
INFO - 2025-08-09 02:56:46 --> AuthFilter: Checking auth for GET http://localhost:8080/queue
DEBUG - 2025-08-09 02:56:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:56:46 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:56:46 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707944,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:56:46 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:56:46 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:56:46 --> TreatmentQueue: Found 1 waiting patients (checked_in status)
INFO - 2025-08-09 02:56:46 --> TreatmentQueue: Waiting patient - ID: 64, Name: jb-joker, Status: checked_in, Checked in at: 2025-08-09 10:47:53
INFO - 2025-08-09 02:56:49 --> AuthFilter: Checking auth for GET http://localhost:8080/checkup
DEBUG - 2025-08-09 02:56:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:56:49 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:56:49 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707944,"_ci_previous_url":"http:\/\/localhost:8080\/queue","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:56:49 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:56:49 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:56:51 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/patient-checkups
DEBUG - 2025-08-09 02:56:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:56:51 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:56:51 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707944,"_ci_previous_url":"http:\/\/localhost:8080\/checkup","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:56:51 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:56:51 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:56:54 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/dental-charts
DEBUG - 2025-08-09 02:56:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:56:54 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:56:54 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707944,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/patient-checkups","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:56:54 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:56:54 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:56:57 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/dashboard
DEBUG - 2025-08-09 02:56:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:56:57 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:56:57 --> AuthFilter: Session data = {"__ci_last_regenerate":1754707944,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/dental-charts","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:56:57 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:56:57 --> AuthFilter: All checks passed
INFO - 2025-08-09 02:58:37 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/settings
DEBUG - 2025-08-09 02:58:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 02:58:37 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 02:58:37 --> AuthFilter: Session data = {"__ci_last_regenerate":1754708317,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/dashboard","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 02:58:37 --> AuthFilter: User is authenticated
INFO - 2025-08-09 02:58:37 --> AuthFilter: All checks passed
DEBUG - 2025-08-09 03:00:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 03:00:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 03:00:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 03:00:46 --> AuthFilter: Checking auth for GET http://localhost:8080/staff/dashboard
DEBUG - 2025-08-09 03:00:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 03:00:46 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 03:00:46 --> AuthFilter: Session data = {"__ci_last_regenerate":1754708442,"_ci_previous_url":"http:\/\/localhost:8080\/login","isLoggedIn":true,"user_id":"4","user_name":"Staff Member","user_email":"staff@perfectsmile.com","user_type":"staff"}
INFO - 2025-08-09 03:00:46 --> AuthFilter: User is authenticated
INFO - 2025-08-09 03:00:46 --> AuthFilter: All checks passed
INFO - 2025-08-09 03:00:53 --> AuthFilter: Checking auth for GET http://localhost:8080/staff/appointments
DEBUG - 2025-08-09 03:00:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 03:00:53 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 03:00:53 --> AuthFilter: Session data = {"__ci_last_regenerate":1754708442,"_ci_previous_url":"http:\/\/localhost:8080\/staff\/dashboard","isLoggedIn":true,"user_id":"4","user_name":"Staff Member","user_email":"staff@perfectsmile.com","user_type":"staff"}
INFO - 2025-08-09 03:00:53 --> AuthFilter: User is authenticated
INFO - 2025-08-09 03:00:53 --> AuthFilter: All checks passed
INFO - 2025-08-09 03:00:55 --> AuthFilter: Checking auth for GET http://localhost:8080/checkin
DEBUG - 2025-08-09 03:00:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 03:00:55 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 03:00:55 --> AuthFilter: Session data = {"__ci_last_regenerate":1754708442,"_ci_previous_url":"http:\/\/localhost:8080\/staff\/appointments","isLoggedIn":true,"user_id":"4","user_name":"Staff Member","user_email":"staff@perfectsmile.com","user_type":"staff"}
INFO - 2025-08-09 03:00:55 --> AuthFilter: User is authenticated
INFO - 2025-08-09 03:00:55 --> AuthFilter: All checks passed
INFO - 2025-08-09 03:00:55 --> PatientCheckin: Checking appointments for date: 2025-08-09
INFO - 2025-08-09 03:00:55 --> PatientCheckin: Found 1 appointments for today after filtering
INFO - 2025-08-09 03:00:55 --> PatientCheckin: Appointment ID: 64, Status: checked_in, Approval: auto_approved, DateTime: 2025-08-09 14:00:00, Patient: jb-joker, Dentist: Dr. John Smith
INFO - 2025-08-09 03:01:03 --> AuthFilter: Checking auth for GET http://localhost:8080/staff/dashboard
DEBUG - 2025-08-09 03:01:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 03:01:03 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 03:01:03 --> AuthFilter: Session data = {"__ci_last_regenerate":1754708442,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"4","user_name":"Staff Member","user_email":"staff@perfectsmile.com","user_type":"staff"}
INFO - 2025-08-09 03:01:03 --> AuthFilter: User is authenticated
INFO - 2025-08-09 03:01:03 --> AuthFilter: All checks passed
DEBUG - 2025-08-09 03:01:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 03:01:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 03:01:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 03:01:10 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/dashboard
DEBUG - 2025-08-09 03:01:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 03:01:10 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 03:01:10 --> AuthFilter: Session data = {"__ci_last_regenerate":1754708465,"_ci_previous_url":"http:\/\/localhost:8080\/login","isLoggedIn":true,"user_id":"2","user_name":"Dr. John Smith","user_email":"doctor@perfectsmile.com","user_type":"dentist"}
INFO - 2025-08-09 03:01:10 --> AuthFilter: User is authenticated
INFO - 2025-08-09 03:01:10 --> AuthFilter: All checks passed
DEBUG - 2025-08-09 03:01:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 03:01:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 03:24:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 03:24:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 03:24:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 03:24:09 --> AuthFilter: Checking auth for GET http://localhost:8080/staff/dashboard
DEBUG - 2025-08-09 03:24:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 03:24:09 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 03:24:09 --> AuthFilter: Session data = {"__ci_last_regenerate":1754709843,"_ci_previous_url":"http:\/\/localhost:8080\/login","isLoggedIn":true,"user_id":"2","user_name":"Dr. John Smith","user_email":"doctor@perfectsmile.com","user_type":"doctor"}
INFO - 2025-08-09 03:24:09 --> AuthFilter: User is authenticated
INFO - 2025-08-09 03:24:09 --> AuthFilter: All checks passed
DEBUG - 2025-08-09 03:24:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 03:24:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 03:24:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 03:25:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 03:25:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 03:25:34 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/dental-charts
DEBUG - 2025-08-09 03:25:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 03:25:34 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 03:25:34 --> AuthFilter: Session data = {"__ci_last_regenerate":1754709843,"_ci_previous_url":"http:\/\/localhost:8080\/login","isLoggedIn":true,"user_id":"2","user_name":"Dr. John Smith","user_email":"doctor@perfectsmile.com","user_type":"doctor"}
INFO - 2025-08-09 03:25:34 --> AuthFilter: User is authenticated
INFO - 2025-08-09 03:25:34 --> AuthFilter: All checks passed
DEBUG - 2025-08-09 03:25:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 03:25:38 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/patient-checkups
DEBUG - 2025-08-09 03:25:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 03:25:38 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 03:25:38 --> AuthFilter: Session data = {"__ci_last_regenerate":1754709843,"_ci_previous_url":"http:\/\/localhost:8080\/login","isLoggedIn":true,"user_id":"2","user_name":"Dr. John Smith","user_email":"doctor@perfectsmile.com","user_type":"doctor"}
INFO - 2025-08-09 03:25:38 --> AuthFilter: User is authenticated
INFO - 2025-08-09 03:25:38 --> AuthFilter: All checks passed
DEBUG - 2025-08-09 03:25:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 03:25:43 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/settings
DEBUG - 2025-08-09 03:25:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 03:25:43 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 03:25:43 --> AuthFilter: Session data = {"__ci_last_regenerate":1754709843,"_ci_previous_url":"http:\/\/localhost:8080\/login","isLoggedIn":true,"user_id":"2","user_name":"Dr. John Smith","user_email":"doctor@perfectsmile.com","user_type":"doctor"}
INFO - 2025-08-09 03:25:43 --> AuthFilter: User is authenticated
INFO - 2025-08-09 03:25:43 --> AuthFilter: All checks passed
DEBUG - 2025-08-09 03:25:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 03:25:49 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/services
DEBUG - 2025-08-09 03:25:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 03:25:49 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 03:25:49 --> AuthFilter: Session data = {"__ci_last_regenerate":1754709843,"_ci_previous_url":"http:\/\/localhost:8080\/login","isLoggedIn":true,"user_id":"2","user_name":"Dr. John Smith","user_email":"doctor@perfectsmile.com","user_type":"doctor"}
INFO - 2025-08-09 03:25:49 --> AuthFilter: User is authenticated
INFO - 2025-08-09 03:25:49 --> AuthFilter: All checks passed
DEBUG - 2025-08-09 03:25:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 03:25:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 03:26:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 03:26:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 03:26:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 03:26:57 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/dashboard
DEBUG - 2025-08-09 03:26:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 03:26:57 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 03:26:57 --> AuthFilter: Session data = {"__ci_last_regenerate":1754710001,"_ci_previous_url":"http:\/\/localhost:8080\/login","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 03:26:57 --> AuthFilter: User is authenticated
INFO - 2025-08-09 03:26:57 --> AuthFilter: All checks passed
DEBUG - 2025-08-09 03:27:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 03:27:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 03:27:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 03:28:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 03:30:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 03:31:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 03:31:04 --> AuthFilter: Checking auth for GET http://localhost:8080/doctor/dashboard
DEBUG - 2025-08-09 03:31:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 03:31:04 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 03:31:04 --> AuthFilter: Session data = {"__ci_last_regenerate":1754710027,"_ci_previous_url":"http:\/\/localhost:8080\/login","isLoggedIn":true,"user_id":"2","user_name":"Dr. John Smith","user_email":"doctor@perfectsmile.com","user_type":"doctor"}
INFO - 2025-08-09 03:31:04 --> AuthFilter: User is authenticated
INFO - 2025-08-09 03:31:04 --> AuthFilter: All checks passed
INFO - 2025-08-09 03:31:40 --> AuthFilter: Checking auth for GET http://localhost:8080/doctor/dashboard
DEBUG - 2025-08-09 03:31:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 03:31:40 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 03:31:40 --> AuthFilter: Session data = {"__ci_last_regenerate":1754710027,"_ci_previous_url":"http:\/\/localhost:8080\/doctor\/dashboard","isLoggedIn":true,"user_id":"2","user_name":"Dr. John Smith","user_email":"doctor@perfectsmile.com","user_type":"doctor"}
INFO - 2025-08-09 03:31:40 --> AuthFilter: User is authenticated
INFO - 2025-08-09 03:31:40 --> AuthFilter: All checks passed
DEBUG - 2025-08-09 03:31:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 03:31:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 03:31:52 --> AuthFilter: Checking auth for GET http://localhost:8080/doctor/dashboard
DEBUG - 2025-08-09 03:31:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 03:31:52 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 03:31:52 --> AuthFilter: Session data = {"__ci_last_regenerate":1754710256,"_ci_previous_url":"http:\/\/localhost:8080\/login","isLoggedIn":true,"user_id":"2","user_name":"Dr. John Smith","user_email":"doctor@perfectsmile.com","user_type":"doctor"}
INFO - 2025-08-09 03:31:52 --> AuthFilter: User is authenticated
INFO - 2025-08-09 03:31:52 --> AuthFilter: All checks passed
INFO - 2025-08-09 04:38:38 --> AuthFilter: Checking auth for GET http://localhost:8080/doctor/dashboard
DEBUG - 2025-08-09 04:38:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 04:38:38 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 04:38:38 --> AuthFilter: Session data = {"__ci_last_regenerate":1754714318,"_ci_previous_url":"http:\/\/localhost:8080\/doctor\/dashboard","isLoggedIn":true,"user_id":"2","user_name":"Dr. John Smith","user_email":"doctor@perfectsmile.com","user_type":"doctor"}
INFO - 2025-08-09 04:38:38 --> AuthFilter: User is authenticated
INFO - 2025-08-09 04:38:38 --> AuthFilter: All checks passed
DEBUG - 2025-08-09 04:38:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 04:39:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 04:39:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 04:39:13 --> AuthFilter: Checking auth for GET http://localhost:8080/doctor/dashboard
DEBUG - 2025-08-09 04:39:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 04:39:13 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 04:39:13 --> AuthFilter: Session data = {"__ci_last_regenerate":1754714342,"_ci_previous_url":"http:\/\/localhost:8080\/login","isLoggedIn":true,"user_id":"2","user_name":"Dr. John Smith","user_email":"doctor@perfectsmile.com","user_type":"doctor"}
INFO - 2025-08-09 04:39:13 --> AuthFilter: User is authenticated
INFO - 2025-08-09 04:39:13 --> AuthFilter: All checks passed
INFO - 2025-08-09 04:41:13 --> AuthFilter: Checking auth for GET http://localhost:8080/doctor/dashboard
DEBUG - 2025-08-09 04:41:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 04:41:13 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 04:41:13 --> AuthFilter: Session data = {"__ci_last_regenerate":1754714342,"_ci_previous_url":"http:\/\/localhost:8080\/doctor\/dashboard","isLoggedIn":true,"user_id":"2","user_name":"Dr. John Smith","user_email":"doctor@perfectsmile.com","user_type":"doctor"}
INFO - 2025-08-09 04:41:13 --> AuthFilter: User is authenticated
INFO - 2025-08-09 04:41:13 --> AuthFilter: All checks passed
INFO - 2025-08-09 04:41:55 --> AuthFilter: Checking auth for GET http://localhost:8080/doctor/dashboard
DEBUG - 2025-08-09 04:41:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 04:41:55 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 04:41:55 --> AuthFilter: Session data = {"__ci_last_regenerate":1754714342,"_ci_previous_url":"http:\/\/localhost:8080\/doctor\/dashboard","isLoggedIn":true,"user_id":"2","user_name":"Dr. John Smith","user_email":"doctor@perfectsmile.com","user_type":"doctor"}
INFO - 2025-08-09 04:41:55 --> AuthFilter: User is authenticated
INFO - 2025-08-09 04:41:55 --> AuthFilter: All checks passed
INFO - 2025-08-09 04:43:26 --> AuthFilter: Checking auth for GET http://localhost:8080/checkup
DEBUG - 2025-08-09 04:43:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 04:43:26 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 04:43:26 --> AuthFilter: Session data = {"__ci_last_regenerate":1754714342,"_ci_previous_url":"http:\/\/localhost:8080\/doctor\/dashboard","isLoggedIn":true,"user_id":"2","user_name":"Dr. John Smith","user_email":"doctor@perfectsmile.com","user_type":"doctor"}
INFO - 2025-08-09 04:43:26 --> AuthFilter: User is authenticated
INFO - 2025-08-09 04:43:26 --> AuthFilter: All checks passed
INFO - 2025-08-09 04:43:30 --> AuthFilter: Checking auth for GET http://localhost:8080/queue
DEBUG - 2025-08-09 04:43:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 04:43:30 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 04:43:30 --> AuthFilter: Session data = {"__ci_last_regenerate":1754714342,"_ci_previous_url":"http:\/\/localhost:8080\/checkup","isLoggedIn":true,"user_id":"2","user_name":"Dr. John Smith","user_email":"doctor@perfectsmile.com","user_type":"doctor"}
INFO - 2025-08-09 04:43:30 --> AuthFilter: User is authenticated
INFO - 2025-08-09 04:43:30 --> AuthFilter: All checks passed
INFO - 2025-08-09 04:43:30 --> TreatmentQueue: Found 1 waiting patients (checked_in status)
INFO - 2025-08-09 04:43:30 --> TreatmentQueue: Waiting patient - ID: 64, Name: jb-joker, Status: checked_in, Checked in at: 2025-08-09 10:47:53
INFO - 2025-08-09 04:43:46 --> AuthFilter: Checking auth for GET http://localhost:8080/queue
DEBUG - 2025-08-09 04:43:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 04:43:46 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 04:43:46 --> AuthFilter: Session data = {"__ci_last_regenerate":1754714342,"_ci_previous_url":"http:\/\/localhost:8080\/queue","isLoggedIn":true,"user_id":"2","user_name":"Dr. John Smith","user_email":"doctor@perfectsmile.com","user_type":"doctor"}
INFO - 2025-08-09 04:43:46 --> AuthFilter: User is authenticated
INFO - 2025-08-09 04:43:46 --> AuthFilter: All checks passed
INFO - 2025-08-09 04:43:46 --> TreatmentQueue: Found 1 waiting patients (checked_in status)
INFO - 2025-08-09 04:43:46 --> TreatmentQueue: Waiting patient - ID: 64, Name: jb-joker, Status: checked_in, Checked in at: 2025-08-09 10:47:53
INFO - 2025-08-09 04:44:02 --> AuthFilter: Checking auth for GET http://localhost:8080/queue
DEBUG - 2025-08-09 04:44:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 04:44:02 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 04:44:02 --> AuthFilter: Session data = {"__ci_last_regenerate":1754714342,"_ci_previous_url":"http:\/\/localhost:8080\/queue","isLoggedIn":true,"user_id":"2","user_name":"Dr. John Smith","user_email":"doctor@perfectsmile.com","user_type":"doctor"}
INFO - 2025-08-09 04:44:02 --> AuthFilter: User is authenticated
INFO - 2025-08-09 04:44:02 --> AuthFilter: All checks passed
INFO - 2025-08-09 04:44:02 --> TreatmentQueue: Found 1 waiting patients (checked_in status)
INFO - 2025-08-09 04:44:02 --> TreatmentQueue: Waiting patient - ID: 64, Name: jb-joker, Status: checked_in, Checked in at: 2025-08-09 10:47:53
INFO - 2025-08-09 04:44:18 --> AuthFilter: Checking auth for GET http://localhost:8080/queue
DEBUG - 2025-08-09 04:44:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 04:44:18 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 04:44:18 --> AuthFilter: Session data = {"__ci_last_regenerate":1754714658,"_ci_previous_url":"http:\/\/localhost:8080\/queue","isLoggedIn":true,"user_id":"2","user_name":"Dr. John Smith","user_email":"doctor@perfectsmile.com","user_type":"doctor"}
INFO - 2025-08-09 04:44:18 --> AuthFilter: User is authenticated
INFO - 2025-08-09 04:44:18 --> AuthFilter: All checks passed
INFO - 2025-08-09 04:44:18 --> TreatmentQueue: Found 1 waiting patients (checked_in status)
INFO - 2025-08-09 04:44:18 --> TreatmentQueue: Waiting patient - ID: 64, Name: jb-joker, Status: checked_in, Checked in at: 2025-08-09 10:47:53
INFO - 2025-08-09 04:44:34 --> AuthFilter: Checking auth for GET http://localhost:8080/queue
DEBUG - 2025-08-09 04:44:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 04:44:34 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 04:44:34 --> AuthFilter: Session data = {"__ci_last_regenerate":1754714658,"_ci_previous_url":"http:\/\/localhost:8080\/queue","isLoggedIn":true,"user_id":"2","user_name":"Dr. John Smith","user_email":"doctor@perfectsmile.com","user_type":"doctor"}
INFO - 2025-08-09 04:44:34 --> AuthFilter: User is authenticated
INFO - 2025-08-09 04:44:34 --> AuthFilter: All checks passed
INFO - 2025-08-09 04:44:34 --> TreatmentQueue: Found 1 waiting patients (checked_in status)
INFO - 2025-08-09 04:44:34 --> TreatmentQueue: Waiting patient - ID: 64, Name: jb-joker, Status: checked_in, Checked in at: 2025-08-09 10:47:53
INFO - 2025-08-09 04:44:50 --> AuthFilter: Checking auth for GET http://localhost:8080/queue
DEBUG - 2025-08-09 04:44:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 04:44:50 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 04:44:50 --> AuthFilter: Session data = {"__ci_last_regenerate":1754714658,"_ci_previous_url":"http:\/\/localhost:8080\/queue","isLoggedIn":true,"user_id":"2","user_name":"Dr. John Smith","user_email":"doctor@perfectsmile.com","user_type":"doctor"}
INFO - 2025-08-09 04:44:50 --> AuthFilter: User is authenticated
INFO - 2025-08-09 04:44:50 --> AuthFilter: All checks passed
INFO - 2025-08-09 04:44:50 --> TreatmentQueue: Found 1 waiting patients (checked_in status)
INFO - 2025-08-09 04:44:50 --> TreatmentQueue: Waiting patient - ID: 64, Name: jb-joker, Status: checked_in, Checked in at: 2025-08-09 10:47:53
INFO - 2025-08-09 04:45:06 --> AuthFilter: Checking auth for GET http://localhost:8080/queue
DEBUG - 2025-08-09 04:45:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 04:45:06 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 04:45:06 --> AuthFilter: Session data = {"__ci_last_regenerate":1754714658,"_ci_previous_url":"http:\/\/localhost:8080\/queue","isLoggedIn":true,"user_id":"2","user_name":"Dr. John Smith","user_email":"doctor@perfectsmile.com","user_type":"doctor"}
INFO - 2025-08-09 04:45:06 --> AuthFilter: User is authenticated
INFO - 2025-08-09 04:45:06 --> AuthFilter: All checks passed
INFO - 2025-08-09 04:45:06 --> TreatmentQueue: Found 1 waiting patients (checked_in status)
INFO - 2025-08-09 04:45:06 --> TreatmentQueue: Waiting patient - ID: 64, Name: jb-joker, Status: checked_in, Checked in at: 2025-08-09 10:47:53
DEBUG - 2025-08-09 04:45:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 04:45:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 04:45:22 --> AuthFilter: Checking auth for GET http://localhost:8080/queue
DEBUG - 2025-08-09 04:45:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 04:45:22 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 04:45:22 --> AuthFilter: Session data = {"__ci_last_regenerate":1754714658,"_ci_previous_url":"http:\/\/localhost:8080\/queue","isLoggedIn":true,"user_id":"2","user_name":"Dr. John Smith","user_email":"doctor@perfectsmile.com","user_type":"doctor"}
INFO - 2025-08-09 04:45:22 --> AuthFilter: User is authenticated
INFO - 2025-08-09 04:45:22 --> AuthFilter: All checks passed
INFO - 2025-08-09 04:45:22 --> TreatmentQueue: Found 1 waiting patients (checked_in status)
INFO - 2025-08-09 04:45:22 --> TreatmentQueue: Waiting patient - ID: 64, Name: jb-joker, Status: checked_in, Checked in at: 2025-08-09 10:47:53
INFO - 2025-08-09 04:45:30 --> AuthFilter: Checking auth for GET http://localhost:8080/queue
DEBUG - 2025-08-09 04:45:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 04:45:30 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 04:45:30 --> AuthFilter: Session data = {"__ci_last_regenerate":1754714658,"_ci_previous_url":"http:\/\/localhost:8080\/queue","isLoggedIn":true,"user_id":"2","user_name":"Dr. John Smith","user_email":"doctor@perfectsmile.com","user_type":"doctor"}
INFO - 2025-08-09 04:45:30 --> AuthFilter: User is authenticated
INFO - 2025-08-09 04:45:30 --> AuthFilter: All checks passed
INFO - 2025-08-09 04:45:30 --> TreatmentQueue: Found 1 waiting patients (checked_in status)
INFO - 2025-08-09 04:45:30 --> TreatmentQueue: Waiting patient - ID: 64, Name: jb-joker, Status: checked_in, Checked in at: 2025-08-09 10:47:53
INFO - 2025-08-09 04:45:33 --> AuthFilter: Checking auth for GET http://localhost:8080/checkup
DEBUG - 2025-08-09 04:45:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 04:45:33 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 04:45:33 --> AuthFilter: Session data = {"__ci_last_regenerate":1754714658,"_ci_previous_url":"http:\/\/localhost:8080\/queue","isLoggedIn":true,"user_id":"2","user_name":"Dr. John Smith","user_email":"doctor@perfectsmile.com","user_type":"doctor"}
INFO - 2025-08-09 04:45:33 --> AuthFilter: User is authenticated
INFO - 2025-08-09 04:45:33 --> AuthFilter: All checks passed
INFO - 2025-08-09 04:49:49 --> AuthFilter: Checking auth for GET http://localhost:8080/checkup
DEBUG - 2025-08-09 04:49:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 04:49:49 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 04:49:49 --> AuthFilter: Session data = {"__ci_last_regenerate":1754714989,"_ci_previous_url":"http:\/\/localhost:8080\/checkup","isLoggedIn":true,"user_id":"2","user_name":"Dr. John Smith","user_email":"doctor@perfectsmile.com","user_type":"doctor"}
INFO - 2025-08-09 04:49:49 --> AuthFilter: User is authenticated
INFO - 2025-08-09 04:49:49 --> AuthFilter: All checks passed
INFO - 2025-08-09 04:49:53 --> AuthFilter: Checking auth for GET http://localhost:8080/checkup
DEBUG - 2025-08-09 04:49:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 04:49:53 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 04:49:53 --> AuthFilter: Session data = {"__ci_last_regenerate":1754714989,"_ci_previous_url":"http:\/\/localhost:8080\/checkup","isLoggedIn":true,"user_id":"2","user_name":"Dr. John Smith","user_email":"doctor@perfectsmile.com","user_type":"doctor"}
INFO - 2025-08-09 04:49:53 --> AuthFilter: User is authenticated
INFO - 2025-08-09 04:49:53 --> AuthFilter: All checks passed
INFO - 2025-08-09 04:54:53 --> AuthFilter: Checking auth for GET http://localhost:8080/checkup
DEBUG - 2025-08-09 04:54:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 04:54:53 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 04:54:53 --> AuthFilter: Session data = {"__ci_last_regenerate":1754715293,"_ci_previous_url":"http:\/\/localhost:8080\/checkup","isLoggedIn":true,"user_id":"2","user_name":"Dr. John Smith","user_email":"doctor@perfectsmile.com","user_type":"doctor"}
INFO - 2025-08-09 04:54:53 --> AuthFilter: User is authenticated
INFO - 2025-08-09 04:54:53 --> AuthFilter: All checks passed
DEBUG - 2025-08-09 04:58:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 04:58:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 04:59:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 04:59:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 04:59:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 04:59:30 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/dashboard
DEBUG - 2025-08-09 04:59:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 04:59:30 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 04:59:30 --> AuthFilter: Session data = {"__ci_last_regenerate":1754715561,"_ci_previous_url":"http:\/\/localhost:8080\/login","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 04:59:30 --> AuthFilter: User is authenticated
INFO - 2025-08-09 04:59:30 --> AuthFilter: All checks passed
INFO - 2025-08-09 04:59:34 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/appointments
DEBUG - 2025-08-09 04:59:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 04:59:34 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 04:59:34 --> AuthFilter: Session data = {"__ci_last_regenerate":1754715561,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/dashboard","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 04:59:34 --> AuthFilter: User is authenticated
INFO - 2025-08-09 04:59:34 --> AuthFilter: All checks passed
INFO - 2025-08-09 04:59:53 --> AuthFilter: Checking auth for POST http://localhost:8080/admin/appointments/create
DEBUG - 2025-08-09 04:59:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 04:59:53 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 04:59:53 --> AuthFilter: Session data = {"__ci_last_regenerate":1754715561,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 04:59:53 --> AuthFilter: User is authenticated
INFO - 2025-08-09 04:59:53 --> AuthFilter: All checks passed
INFO - 2025-08-09 04:59:53 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/appointments
DEBUG - 2025-08-09 04:59:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 04:59:53 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 04:59:53 --> AuthFilter: Session data = {"__ci_last_regenerate":1754715561,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 04:59:53 --> AuthFilter: User is authenticated
INFO - 2025-08-09 04:59:53 --> AuthFilter: All checks passed
INFO - 2025-08-09 05:00:14 --> AuthFilter: Checking auth for POST http://localhost:8080/admin/appointments/create
DEBUG - 2025-08-09 05:00:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 05:00:14 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 05:00:14 --> AuthFilter: Session data = {"__ci_last_regenerate":1754715561,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 05:00:14 --> AuthFilter: User is authenticated
INFO - 2025-08-09 05:00:14 --> AuthFilter: All checks passed
INFO - 2025-08-09 05:00:14 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/appointments
DEBUG - 2025-08-09 05:00:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 05:00:14 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 05:00:14 --> AuthFilter: Session data = {"__ci_last_regenerate":1754715561,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 05:00:14 --> AuthFilter: User is authenticated
INFO - 2025-08-09 05:00:14 --> AuthFilter: All checks passed
INFO - 2025-08-09 05:00:17 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 05:00:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 05:00:17 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 05:00:17 --> AuthFilter: Session data = {"__ci_last_regenerate":1754715561,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 05:00:17 --> AuthFilter: User is authenticated
INFO - 2025-08-09 05:00:17 --> AuthFilter: All checks passed
INFO - 2025-08-09 05:00:26 --> AuthFilter: Checking auth for GET http://localhost:8080/checkin
DEBUG - 2025-08-09 05:00:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 05:00:26 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 05:00:26 --> AuthFilter: Session data = {"__ci_last_regenerate":1754715561,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 05:00:26 --> AuthFilter: User is authenticated
INFO - 2025-08-09 05:00:26 --> AuthFilter: All checks passed
INFO - 2025-08-09 05:00:26 --> PatientCheckin: Checking appointments for date: 2025-08-09
INFO - 2025-08-09 05:00:26 --> PatientCheckin: Found 1 appointments for today after filtering
INFO - 2025-08-09 05:00:26 --> PatientCheckin: Appointment ID: 64, Status: checked_in, Approval: auto_approved, DateTime: 2025-08-09 14:00:00, Patient: jb-joker, Dentist: Dr. John Smith
INFO - 2025-08-09 05:00:31 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 05:00:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 05:00:31 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 05:00:31 --> AuthFilter: Session data = {"__ci_last_regenerate":1754715561,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 05:00:31 --> AuthFilter: User is authenticated
INFO - 2025-08-09 05:00:31 --> AuthFilter: All checks passed
INFO - 2025-08-09 05:00:38 --> AuthFilter: Checking auth for POST http://localhost:8080/admin/appointments/approve/60
DEBUG - 2025-08-09 05:00:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 05:00:38 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 05:00:38 --> AuthFilter: Session data = {"__ci_last_regenerate":1754715561,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 05:00:38 --> AuthFilter: User is authenticated
INFO - 2025-08-09 05:00:38 --> AuthFilter: All checks passed
INFO - 2025-08-09 05:00:38 --> Admin approving appointment ID: 60, Dentist ID: null
INFO - 2025-08-09 05:00:38 --> Appointment before approval: {"id":"60","branch_id":"1","dentist_id":null,"user_id":"13","appointment_datetime":"2025-08-14 10:33:00","status":"pending_approval","appointment_type":"scheduled","approval_status":"pending","decline_reason":null,"remarks":"g","created_at":"2025-08-09 02:33:22","updated_at":"2025-08-09 02:33:22","checked_in_at":null,"checked_in_by":null,"self_checkin":"0","started_at":null,"called_by":null,"treatment_status":null,"treatment_notes":null,"payment_status":"pending","payment_method":null,"payment_amount":null,"payment_date":null,"payment_received_by":null,"payment_notes":null,"appointment_date":"2025-08-14","appointment_time":"10:33"}
INFO - 2025-08-09 05:00:38 --> Appointment approval result: {"success":false,"message":"No dentists available at this time. Cannot approve appointment."}
INFO - 2025-08-09 05:00:43 --> AuthFilter: Checking auth for POST http://localhost:8080/admin/appointments/approve/60
DEBUG - 2025-08-09 05:00:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 05:00:43 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 05:00:43 --> AuthFilter: Session data = {"__ci_last_regenerate":1754715561,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 05:00:43 --> AuthFilter: User is authenticated
INFO - 2025-08-09 05:00:43 --> AuthFilter: All checks passed
INFO - 2025-08-09 05:00:43 --> Admin approving appointment ID: 60, Dentist ID: 2
INFO - 2025-08-09 05:00:43 --> Appointment before approval: {"id":"60","branch_id":"1","dentist_id":null,"user_id":"13","appointment_datetime":"2025-08-14 10:33:00","status":"pending_approval","appointment_type":"scheduled","approval_status":"pending","decline_reason":null,"remarks":"g","created_at":"2025-08-09 02:33:22","updated_at":"2025-08-09 02:33:22","checked_in_at":null,"checked_in_by":null,"self_checkin":"0","started_at":null,"called_by":null,"treatment_status":null,"treatment_notes":null,"payment_status":"pending","payment_method":null,"payment_amount":null,"payment_date":null,"payment_received_by":null,"payment_notes":null,"appointment_date":"2025-08-14","appointment_time":"10:33"}
INFO - 2025-08-09 05:00:43 --> Appointment approval result: {"success":false,"message":"Selected dentist is not available at this time"}
INFO - 2025-08-09 05:00:48 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/patient-checkups
DEBUG - 2025-08-09 05:00:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 05:00:48 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 05:00:48 --> AuthFilter: Session data = {"__ci_last_regenerate":1754715561,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 05:00:48 --> AuthFilter: User is authenticated
INFO - 2025-08-09 05:00:48 --> AuthFilter: All checks passed
INFO - 2025-08-09 05:00:53 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/appointments
DEBUG - 2025-08-09 05:00:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 05:00:53 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 05:00:53 --> AuthFilter: Session data = {"__ci_last_regenerate":1754715561,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/patient-checkups","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 05:00:53 --> AuthFilter: User is authenticated
INFO - 2025-08-09 05:00:53 --> AuthFilter: All checks passed
INFO - 2025-08-09 05:01:01 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/patients
DEBUG - 2025-08-09 05:01:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 05:01:01 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 05:01:01 --> AuthFilter: Session data = {"__ci_last_regenerate":1754715561,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 05:01:01 --> AuthFilter: User is authenticated
INFO - 2025-08-09 05:01:01 --> AuthFilter: All checks passed
INFO - 2025-08-09 05:01:40 --> AuthFilter: Checking auth for POST http://localhost:8080/admin/patients/store
DEBUG - 2025-08-09 05:01:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 05:01:40 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 05:01:40 --> AuthFilter: Session data = {"__ci_last_regenerate":1754715561,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/patients","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 05:01:40 --> AuthFilter: User is authenticated
INFO - 2025-08-09 05:01:40 --> AuthFilter: All checks passed
INFO - 2025-08-09 05:01:40 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/patients
DEBUG - 2025-08-09 05:01:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 05:01:41 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 05:01:41 --> AuthFilter: Session data = {"__ci_last_regenerate":1754715561,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/patients","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 05:01:41 --> AuthFilter: User is authenticated
INFO - 2025-08-09 05:01:41 --> AuthFilter: All checks passed
INFO - 2025-08-09 05:01:45 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/appointments
DEBUG - 2025-08-09 05:01:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 05:01:45 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 05:01:45 --> AuthFilter: Session data = {"__ci_last_regenerate":1754715561,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/patients","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 05:01:45 --> AuthFilter: User is authenticated
INFO - 2025-08-09 05:01:45 --> AuthFilter: All checks passed
INFO - 2025-08-09 05:02:03 --> AuthFilter: Checking auth for POST http://localhost:8080/admin/appointments/create
DEBUG - 2025-08-09 05:02:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 05:02:03 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 05:02:03 --> AuthFilter: Session data = {"__ci_last_regenerate":1754715561,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 05:02:03 --> AuthFilter: User is authenticated
INFO - 2025-08-09 05:02:03 --> AuthFilter: All checks passed
INFO - 2025-08-09 05:02:03 --> Creating scheduled appointment with data: {"branch_id":"1","user_id":"14","dentist_id":null,"appointment_date":"2025-08-09","appointment_time":"10:00","appointment_type":"scheduled","remarks":"d","approval_status":"pending","status":"pending_approval"}
INFO - 2025-08-09 05:02:03 --> Admin-created appointment pending without dentist
INFO - 2025-08-09 05:02:03 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/appointments
DEBUG - 2025-08-09 05:02:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 05:02:03 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 05:02:03 --> AuthFilter: Session data = {"__ci_last_regenerate":1754715561,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 05:02:03 --> AuthFilter: User is authenticated
INFO - 2025-08-09 05:02:03 --> AuthFilter: All checks passed
INFO - 2025-08-09 05:02:05 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 05:02:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 05:02:05 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 05:02:05 --> AuthFilter: Session data = {"__ci_last_regenerate":1754715561,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 05:02:05 --> AuthFilter: User is authenticated
INFO - 2025-08-09 05:02:05 --> AuthFilter: All checks passed
INFO - 2025-08-09 05:02:11 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/appointments
DEBUG - 2025-08-09 05:02:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 05:02:11 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 05:02:11 --> AuthFilter: Session data = {"__ci_last_regenerate":1754715561,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 05:02:11 --> AuthFilter: User is authenticated
INFO - 2025-08-09 05:02:11 --> AuthFilter: All checks passed
INFO - 2025-08-09 05:02:29 --> AuthFilter: Checking auth for POST http://localhost:8080/admin/appointments/create
DEBUG - 2025-08-09 05:02:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 05:02:29 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 05:02:29 --> AuthFilter: Session data = {"__ci_last_regenerate":1754715561,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 05:02:29 --> AuthFilter: User is authenticated
INFO - 2025-08-09 05:02:29 --> AuthFilter: All checks passed
INFO - 2025-08-09 05:02:29 --> Creating scheduled appointment with data: {"branch_id":"1","user_id":"13","dentist_id":null,"appointment_date":"2025-08-09","appointment_time":"10:00","appointment_type":"scheduled","remarks":"f","approval_status":"pending","status":"pending_approval"}
INFO - 2025-08-09 05:02:29 --> Admin-created appointment pending without dentist
INFO - 2025-08-09 05:02:29 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/appointments
DEBUG - 2025-08-09 05:02:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 05:02:29 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 05:02:29 --> AuthFilter: Session data = {"__ci_last_regenerate":1754715561,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 05:02:29 --> AuthFilter: User is authenticated
INFO - 2025-08-09 05:02:29 --> AuthFilter: All checks passed
INFO - 2025-08-09 05:02:31 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 05:02:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 05:02:32 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 05:02:32 --> AuthFilter: Session data = {"__ci_last_regenerate":1754715561,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/appointments","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 05:02:32 --> AuthFilter: User is authenticated
INFO - 2025-08-09 05:02:32 --> AuthFilter: All checks passed
INFO - 2025-08-09 05:02:43 --> AuthFilter: Checking auth for POST http://localhost:8080/admin/appointments/approve/67
DEBUG - 2025-08-09 05:02:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 05:02:43 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 05:02:43 --> AuthFilter: Session data = {"__ci_last_regenerate":1754715561,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 05:02:43 --> AuthFilter: User is authenticated
INFO - 2025-08-09 05:02:43 --> AuthFilter: All checks passed
INFO - 2025-08-09 05:02:43 --> Admin approving appointment ID: 67, Dentist ID: null
INFO - 2025-08-09 05:02:43 --> Appointment before approval: {"id":"67","branch_id":"1","dentist_id":null,"user_id":"13","appointment_datetime":"2025-08-09 10:00:00","status":"pending_approval","appointment_type":"scheduled","approval_status":"pending","decline_reason":null,"remarks":"f","created_at":"2025-08-09 05:02:29","updated_at":"2025-08-09 05:02:29","checked_in_at":null,"checked_in_by":null,"self_checkin":"0","started_at":null,"called_by":null,"treatment_status":null,"treatment_notes":null,"payment_status":"pending","payment_method":null,"payment_amount":null,"payment_date":null,"payment_received_by":null,"payment_notes":null,"appointment_date":"2025-08-09","appointment_time":"10:00"}
INFO - 2025-08-09 05:02:43 --> Auto-assigning dentist Dr. John Smith (ID: 2) to appointment 67
INFO - 2025-08-09 05:02:43 --> AppointmentModel::approveAppointment - ID: 67, Dentist ID: 2
INFO - 2025-08-09 05:02:43 --> Setting dentist_id to 2 for appointment 67
INFO - 2025-08-09 05:02:43 --> Update data for appointment 67: {"approval_status":"approved","status":"confirmed","updated_at":"2025-08-09 05:02:43","dentist_id":"2"}
INFO - 2025-08-09 05:02:43 --> Appointment 67 approved successfully - Status: confirmed, Approval: approved
INFO - 2025-08-09 05:02:43 --> Admin approved appointment: Patient ID 13, DateTime: 2025-08-09 10:00:00, Date: 2025-08-09, Time: 10:00
INFO - 2025-08-09 05:02:43 --> Appointment approval result: {"success":true,"message":"Appointment approved successfully. Dentist Dr. John Smith was assigned."}
INFO - 2025-08-09 05:02:44 --> AuthFilter: Checking auth for GET http://localhost:8080/admin/waitlist
DEBUG - 2025-08-09 05:02:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 05:02:44 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 05:02:44 --> AuthFilter: Session data = {"__ci_last_regenerate":1754715561,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 05:02:44 --> AuthFilter: User is authenticated
INFO - 2025-08-09 05:02:44 --> AuthFilter: All checks passed
INFO - 2025-08-09 05:02:46 --> AuthFilter: Checking auth for GET http://localhost:8080/checkin
DEBUG - 2025-08-09 05:02:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 05:02:46 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 05:02:46 --> AuthFilter: Session data = {"__ci_last_regenerate":1754715561,"_ci_previous_url":"http:\/\/localhost:8080\/admin\/waitlist","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 05:02:46 --> AuthFilter: User is authenticated
INFO - 2025-08-09 05:02:46 --> AuthFilter: All checks passed
INFO - 2025-08-09 05:02:46 --> PatientCheckin: Checking appointments for date: 2025-08-09
INFO - 2025-08-09 05:02:46 --> PatientCheckin: Found 2 appointments for today after filtering
INFO - 2025-08-09 05:02:46 --> PatientCheckin: Appointment ID: 67, Status: confirmed, Approval: approved, DateTime: 2025-08-09 10:00:00, Patient: jb-joker, Dentist: Dr. John Smith
INFO - 2025-08-09 05:02:46 --> PatientCheckin: Appointment ID: 64, Status: checked_in, Approval: auto_approved, DateTime: 2025-08-09 14:00:00, Patient: jb-joker, Dentist: Dr. John Smith
INFO - 2025-08-09 05:02:52 --> AuthFilter: Checking auth for GET http://localhost:8080/queue
DEBUG - 2025-08-09 05:02:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 05:02:52 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 05:02:52 --> AuthFilter: Session data = {"__ci_last_regenerate":1754715561,"_ci_previous_url":"http:\/\/localhost:8080\/checkin","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 05:02:52 --> AuthFilter: User is authenticated
INFO - 2025-08-09 05:02:52 --> AuthFilter: All checks passed
INFO - 2025-08-09 05:02:52 --> TreatmentQueue: Found 1 waiting patients (checked_in status)
INFO - 2025-08-09 05:02:52 --> TreatmentQueue: Waiting patient - ID: 64, Name: jb-joker, Status: checked_in, Checked in at: 2025-08-09 10:47:53
INFO - 2025-08-09 05:03:08 --> AuthFilter: Checking auth for GET http://localhost:8080/queue
DEBUG - 2025-08-09 05:03:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 05:03:08 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 05:03:08 --> AuthFilter: Session data = {"__ci_last_regenerate":1754715561,"_ci_previous_url":"http:\/\/localhost:8080\/queue","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 05:03:08 --> AuthFilter: User is authenticated
INFO - 2025-08-09 05:03:08 --> AuthFilter: All checks passed
INFO - 2025-08-09 05:03:08 --> TreatmentQueue: Found 1 waiting patients (checked_in status)
INFO - 2025-08-09 05:03:08 --> TreatmentQueue: Waiting patient - ID: 64, Name: jb-joker, Status: checked_in, Checked in at: 2025-08-09 10:47:53
INFO - 2025-08-09 05:03:24 --> AuthFilter: Checking auth for GET http://localhost:8080/queue
DEBUG - 2025-08-09 05:03:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 05:03:24 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 05:03:24 --> AuthFilter: Session data = {"__ci_last_regenerate":1754715561,"_ci_previous_url":"http:\/\/localhost:8080\/queue","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 05:03:24 --> AuthFilter: User is authenticated
INFO - 2025-08-09 05:03:24 --> AuthFilter: All checks passed
INFO - 2025-08-09 05:03:24 --> TreatmentQueue: Found 1 waiting patients (checked_in status)
INFO - 2025-08-09 05:03:24 --> TreatmentQueue: Waiting patient - ID: 64, Name: jb-joker, Status: checked_in, Checked in at: 2025-08-09 10:47:53
INFO - 2025-08-09 05:03:40 --> AuthFilter: Checking auth for GET http://localhost:8080/queue
DEBUG - 2025-08-09 05:03:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 05:03:40 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 05:03:40 --> AuthFilter: Session data = {"__ci_last_regenerate":1754715561,"_ci_previous_url":"http:\/\/localhost:8080\/queue","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 05:03:40 --> AuthFilter: User is authenticated
INFO - 2025-08-09 05:03:40 --> AuthFilter: All checks passed
INFO - 2025-08-09 05:03:40 --> TreatmentQueue: Found 1 waiting patients (checked_in status)
INFO - 2025-08-09 05:03:40 --> TreatmentQueue: Waiting patient - ID: 64, Name: jb-joker, Status: checked_in, Checked in at: 2025-08-09 10:47:53
INFO - 2025-08-09 05:03:56 --> AuthFilter: Checking auth for GET http://localhost:8080/queue
DEBUG - 2025-08-09 05:03:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 05:03:56 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 05:03:56 --> AuthFilter: Session data = {"__ci_last_regenerate":1754715561,"_ci_previous_url":"http:\/\/localhost:8080\/queue","isLoggedIn":true,"user_id":"1","user_name":"Admin User","user_email":"admin@perfectsmile.com","user_type":"admin"}
INFO - 2025-08-09 05:03:56 --> AuthFilter: User is authenticated
INFO - 2025-08-09 05:03:56 --> AuthFilter: All checks passed
INFO - 2025-08-09 05:03:56 --> TreatmentQueue: Found 1 waiting patients (checked_in status)
INFO - 2025-08-09 05:03:56 --> TreatmentQueue: Waiting patient - ID: 64, Name: jb-joker, Status: checked_in, Checked in at: 2025-08-09 10:47:53
DEBUG - 2025-08-09 05:03:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 05:03:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 05:04:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 05:04:09 --> AuthFilter: Checking auth for GET http://localhost:8080/doctor/dashboard
DEBUG - 2025-08-09 05:04:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 05:04:09 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 05:04:09 --> AuthFilter: Session data = {"__ci_last_regenerate":1754715839,"_ci_previous_url":"http:\/\/localhost:8080\/login","isLoggedIn":true,"user_id":"2","user_name":"Dr. John Smith","user_email":"doctor@perfectsmile.com","user_type":"doctor"}
INFO - 2025-08-09 05:04:09 --> AuthFilter: User is authenticated
INFO - 2025-08-09 05:04:09 --> AuthFilter: All checks passed
DEBUG - 2025-08-09 05:04:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 05:04:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 05:04:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 05:05:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 05:05:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 05:05:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 05:05:25 --> AuthFilter: Checking auth for GET http://localhost:8080/staff/dashboard
DEBUG - 2025-08-09 05:05:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 05:05:25 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 05:05:25 --> AuthFilter: Session data = {"__ci_last_regenerate":1754715922,"_ci_previous_url":"http:\/\/localhost:8080\/login","isLoggedIn":true,"user_id":"4","user_name":"Staff Member","user_email":"staff@perfectsmile.com","user_type":"staff"}
INFO - 2025-08-09 05:05:25 --> AuthFilter: User is authenticated
INFO - 2025-08-09 05:05:25 --> AuthFilter: All checks passed
INFO - 2025-08-09 05:05:31 --> AuthFilter: Checking auth for GET http://localhost:8080/staff/appointments
DEBUG - 2025-08-09 05:05:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 05:05:31 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 05:05:31 --> AuthFilter: Session data = {"__ci_last_regenerate":1754715922,"_ci_previous_url":"http:\/\/localhost:8080\/staff\/dashboard","isLoggedIn":true,"user_id":"4","user_name":"Staff Member","user_email":"staff@perfectsmile.com","user_type":"staff"}
INFO - 2025-08-09 05:05:31 --> AuthFilter: User is authenticated
INFO - 2025-08-09 05:05:31 --> AuthFilter: All checks passed
INFO - 2025-08-09 05:05:34 --> AuthFilter: Checking auth for GET http://localhost:8080/staff/patients
DEBUG - 2025-08-09 05:05:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 05:05:34 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 05:05:34 --> AuthFilter: Session data = {"__ci_last_regenerate":1754715922,"_ci_previous_url":"http:\/\/localhost:8080\/staff\/appointments","isLoggedIn":true,"user_id":"4","user_name":"Staff Member","user_email":"staff@perfectsmile.com","user_type":"staff"}
INFO - 2025-08-09 05:05:34 --> AuthFilter: User is authenticated
INFO - 2025-08-09 05:05:34 --> AuthFilter: All checks passed
DEBUG - 2025-08-09 05:05:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 05:05:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 05:05:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 05:05:42 --> AuthFilter: Checking auth for GET http://localhost:8080/doctor/dashboard
DEBUG - 2025-08-09 05:05:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-08-09 05:05:42 --> AuthFilter: Session isLoggedIn = YES
INFO - 2025-08-09 05:05:42 --> AuthFilter: Session data = {"__ci_last_regenerate":1754715937,"_ci_previous_url":"http:\/\/localhost:8080\/login","isLoggedIn":true,"user_id":"2","user_name":"Dr. John Smith","user_email":"doctor@perfectsmile.com","user_type":"doctor"}
INFO - 2025-08-09 05:05:42 --> AuthFilter: User is authenticated
INFO - 2025-08-09 05:05:42 --> AuthFilter: All checks passed
DEBUG - 2025-08-09 05:05:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-08-09 05:05:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
